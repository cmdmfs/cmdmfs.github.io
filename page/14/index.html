<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="have a try try">
<meta property="og:type" content="website">
<meta property="og:title" content="汪汪队">
<meta property="og:url" content="http://example.com/page/14/index.html">
<meta property="og:site_name" content="汪汪队">
<meta property="og:description" content="have a try try">
<meta property="og:locale">
<meta property="article:author" content="汪汪队">
<meta name="twitter:card" content="summary"><title>汪汪队</title><link ref="canonical" href="http://example.com/page/14/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hello Stun</div><div class="header-banner-info__subtitle">An elegant theme for Hexo</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/acorn-globals/node_modules/acorn/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Acorn"   >
          <a href="#Acorn" class="heading-link"><i class="fas fa-link"></i></a><a href="#Acorn" class="headerlink" title="Acorn"></a>Acorn</h1>
      <p>A tiny, fast JavaScript parser written in JavaScript.</p>

        <h2 id="Community"   >
          <a href="#Community" class="heading-link"><i class="fas fa-link"></i></a><a href="#Community" class="headerlink" title="Community"></a>Community</h2>
      <p>Acorn is open source software released under an<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn/blob/master/acorn/LICENSE" >MIT license</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>You are welcome to<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn/issues" >report bugs</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> or create pull<br>requests on <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn" >github</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. For questions<br>and discussion, please use the<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://discuss.ternjs.net/" >Tern discussion forum</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <p>The easiest way to install acorn is from <a target="_blank" rel="noopener" href="https://www.npmjs.com/"><code>npm</code></a>:</p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install acorn</span><br></pre></td></tr></table></div></figure>

<p>Alternately, you can download the source and build acorn yourself:</p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/acornjs/acorn.git</span><br><span class="line"><span class="built_in">cd</span> acorn</span><br><span class="line">npm install</span><br></pre></td></tr></table></div></figure>


        <h2 id="Interface"   >
          <a href="#Interface" class="heading-link"><i class="fas fa-link"></i></a><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2>
      <p><strong>parse</strong><code>(input, options)</code> is the main interface to the library. The<br><code>input</code> parameter is a string, <code>options</code> can be undefined or an object<br>setting some of the options listed below. The return value will be an<br>abstract syntax tree object as specified by the <a target="_blank" rel="noopener" href="https://github.com/estree/estree">ESTree<br>spec</a>.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> acorn = <span class="built_in">require</span>(<span class="string">&quot;acorn&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(acorn.<span class="title function_">parse</span>(<span class="string">&quot;1 + 1&quot;</span>));</span><br></pre></td></tr></table></div></figure>

<p>When encountering a syntax error, the parser will raise a<br><code>SyntaxError</code> object with a meaningful message. The error object will<br>have a <code>pos</code> property that indicates the string offset at which the<br>error occurred, and a <code>loc</code> object that contains a <code>&#123;line, column&#125;</code><br>object referring to that same position.</p>
<p>Options can be provided by passing a second argument, which should be<br>an object containing any of these fields:</p>
<ul>
<li><p><strong>ecmaVersion</strong>: Indicates the ECMAScript version to parse. Must be<br>either 3, 5, 6 (2015), 7 (2016), 8 (2017), 9 (2018), 10 (2019) or 11<br>(2020, partial support). This influences support for strict mode,<br>the set of reserved words, and support for new syntax features.<br>Default is 10.</p>
<p><strong>NOTE</strong>: Only ‘stage 4’ (finalized) ECMAScript features are being<br>implemented by Acorn. Other proposed new features can be implemented<br>through plugins.</p>
</li>
<li><p><strong>sourceType</strong>: Indicate the mode the code should be parsed in. Can be<br>either <code>&quot;script&quot;</code> or <code>&quot;module&quot;</code>. This influences global strict mode<br>and parsing of <code>import</code> and <code>export</code> declarations.</p>
<p><strong>NOTE</strong>: If set to <code>&quot;module&quot;</code>, then static <code>import</code> &#x2F; <code>export</code> syntax<br>will be valid, even if <code>ecmaVersion</code> is less than 6.</p>
</li>
<li><p><strong>onInsertedSemicolon</strong>: If given a callback, that callback will be<br>called whenever a missing semicolon is inserted by the parser. The<br>callback will be given the character offset of the point where the<br>semicolon is inserted as argument, and if <code>locations</code> is on, also a<br><code>&#123;line, column&#125;</code> object representing this position.</p>
</li>
<li><p><strong>onTrailingComma</strong>: Like <code>onInsertedSemicolon</code>, but for trailing<br>commas.</p>
</li>
<li><p><strong>allowReserved</strong>: If <code>false</code>, using a reserved word will generate<br>an error. Defaults to <code>true</code> for <code>ecmaVersion</code> 3, <code>false</code> for higher<br>versions. When given the value <code>&quot;never&quot;</code>, reserved words and<br>keywords can also not be used as property names (as in Internet<br>Explorer’s old parser).</p>
</li>
<li><p><strong>allowReturnOutsideFunction</strong>: By default, a return statement at<br>the top level raises an error. Set this to <code>true</code> to accept such<br>code.</p>
</li>
<li><p><strong>allowImportExportEverywhere</strong>: By default, <code>import</code> and <code>export</code><br>declarations can only appear at a program’s top level. Setting this<br>option to <code>true</code> allows them anywhere where a statement is allowed.</p>
</li>
<li><p><strong>allowAwaitOutsideFunction</strong>: By default, <code>await</code> expressions can<br>only appear inside <code>async</code> functions. Setting this option to<br><code>true</code> allows to have top-level <code>await</code> expressions. They are<br>still not allowed in non-<code>async</code> functions, though.</p>
</li>
<li><p><strong>allowHashBang</strong>: When this is enabled (off by default), if the<br>code starts with the characters <code>#!</code> (as in a shellscript), the<br>first line will be treated as a comment.</p>
</li>
<li><p><strong>locations</strong>: When <code>true</code>, each node has a <code>loc</code> object attached<br>with <code>start</code> and <code>end</code> subobjects, each of which contains the<br>one-based line and zero-based column numbers in <code>&#123;line, column&#125;</code><br>form. Default is <code>false</code>.</p>
</li>
<li><p><strong>onToken</strong>: If a function is passed for this option, each found<br>token will be passed in same format as tokens returned from<br><code>tokenizer().getToken()</code>.</p>
<p>If array is passed, each found token is pushed to it.</p>
<p>Note that you are not allowed to call the parser from the<br>callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>onComment</strong>: If a function is passed for this option, whenever a<br>comment is encountered the function will be called with the<br>following parameters:</p>
<ul>
<li><code>block</code>: <code>true</code> if the comment is a block comment, false if it<br>is a line comment.</li>
<li><code>text</code>: The content of the comment.</li>
<li><code>start</code>: Character offset of the start of the comment.</li>
<li><code>end</code>: Character offset of the end of the comment.</li>
</ul>
<p>When the <code>locations</code> options is on, the <code>&#123;line, column&#125;</code> locations<br>of the comment’s start and end are passed as two additional<br>parameters.</p>
<p>If array is passed for this option, each found comment is pushed<br>to it as object in Esprima format:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Line&quot;</span> | <span class="string">&quot;Block&quot;</span>,</span><br><span class="line">  <span class="string">&quot;value&quot;</span>: <span class="string">&quot;comment text&quot;</span>,</span><br><span class="line">  <span class="string">&quot;start&quot;</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="string">&quot;end&quot;</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="comment">// If `locations` option is on:</span></span><br><span class="line">  <span class="string">&quot;loc&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: &#123;<span class="attr">line</span>: <span class="title class_">Number</span>, <span class="attr">column</span>: <span class="title class_">Number</span>&#125;</span><br><span class="line">    <span class="string">&quot;end&quot;</span>: &#123;<span class="attr">line</span>: <span class="title class_">Number</span>, <span class="attr">column</span>: <span class="title class_">Number</span>&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// If `ranges` option is on:</span></span><br><span class="line">  <span class="string">&quot;range&quot;</span>: [<span class="title class_">Number</span>, <span class="title class_">Number</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>Note that you are not allowed to call the parser from the<br>callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>ranges</strong>: Nodes have their start and end characters offsets<br>recorded in <code>start</code> and <code>end</code> properties (directly on the node,<br>rather than the <code>loc</code> object, which holds line&#x2F;column data. To also<br>add a<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678" >semi-standardized</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><code>range</code> property holding a <code>[start, end]</code> array with the same<br>numbers, set the <code>ranges</code> option to <code>true</code>.</p>
</li>
<li><p><strong>program</strong>: It is possible to parse multiple files into a single<br>AST by passing the tree produced by parsing the first file as the<br><code>program</code> option in subsequent parses. This will add the toplevel<br>forms of the parsed file to the “Program” (top) node of an existing<br>parse tree.</p>
</li>
<li><p><strong>sourceFile</strong>: When the <code>locations</code> option is <code>true</code>, you can pass<br>this option to add a <code>source</code> attribute in every node’s <code>loc</code><br>object. Note that the contents of this option are not examined or<br>processed in any way; you are free to use whatever format you<br>choose.</p>
</li>
<li><p><strong>directSourceFile</strong>: Like <code>sourceFile</code>, but a <code>sourceFile</code> property<br>will be added (regardless of the <code>location</code> option) directly to the<br>nodes, rather than the <code>loc</code> object.</p>
</li>
<li><p><strong>preserveParens</strong>: If this option is <code>true</code>, parenthesized expressions<br>are represented by (non-standard) <code>ParenthesizedExpression</code> nodes<br>that have a single <code>expression</code> property containing the expression<br>inside parentheses.</p>
</li>
</ul>
<p><strong>parseExpressionAt</strong><code>(input, offset, options)</code> will parse a single<br>expression in a string, and return its AST. It will not complain if<br>there is more of the string left after the expression.</p>
<p><strong>tokenizer</strong><code>(input, options)</code> returns an object with a <code>getToken</code><br>method that can be called repeatedly to get the next token, a <code>&#123;start, end, type, value&#125;</code> object (with added <code>loc</code> property when the<br><code>locations</code> option is enabled and <code>range</code> property when the <code>ranges</code><br>option is enabled). When the token’s type is <code>tokTypes.eof</code>, you<br>should stop calling the method, since it will keep returning that same<br>token forever.</p>
<p>In ES6 environment, returned result can be used as any other<br>protocol-compliant iterable:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> token <span class="keyword">of</span> acorn.<span class="title function_">tokenizer</span>(str)) &#123;</span><br><span class="line">  <span class="comment">// iterate over the tokens</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// transform code to array of tokens:</span></span><br><span class="line"><span class="keyword">var</span> tokens = [...acorn.<span class="title function_">tokenizer</span>(str)];</span><br></pre></td></tr></table></div></figure>

<p><strong>tokTypes</strong> holds an object mapping names to the token type objects<br>that end up in the <code>type</code> properties of tokens.</p>
<p><strong>getLineInfo</strong><code>(input, offset)</code> can be used to get a <code>&#123;line, column&#125;</code> object for a given program string and offset.</p>

        <h3 id="The-Parser-class"   >
          <a href="#The-Parser-class" class="heading-link"><i class="fas fa-link"></i></a><a href="#The-Parser-class" class="headerlink" title="The Parser class"></a>The <code>Parser</code> class</h3>
      <p>Instances of the <strong><code>Parser</code></strong> class contain all the state and logic<br>that drives a parse. It has static methods <code>parse</code>,<br><code>parseExpressionAt</code>, and <code>tokenizer</code> that match the top-level<br>functions by the same name.</p>
<p>When extending the parser with plugins, you need to call these methods<br>on the extended version of the class. To extend a parser with plugins,<br>you can use its static <code>extend</code> method.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> acorn = <span class="built_in">require</span>(<span class="string">&quot;acorn&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> jsx = <span class="built_in">require</span>(<span class="string">&quot;acorn-jsx&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">JSXParser</span> = acorn.<span class="property">Parser</span>.<span class="title function_">extend</span>(<span class="title function_">jsx</span>());</span><br><span class="line"><span class="title class_">JSXParser</span>.<span class="title function_">parse</span>(<span class="string">&quot;foo(&lt;bar/&gt;)&quot;</span>);</span><br></pre></td></tr></table></div></figure>

<p>The <code>extend</code> method takes any number of plugin values, and returns a<br>new <code>Parser</code> class that includes the extra parser logic provided by<br>the plugins.</p>

        <h2 id="Command-line-interface"   >
          <a href="#Command-line-interface" class="heading-link"><i class="fas fa-link"></i></a><a href="#Command-line-interface" class="headerlink" title="Command line interface"></a>Command line interface</h2>
      <p>The <code>bin/acorn</code> utility can be used to parse a file from the command<br>line. It accepts as arguments its input file and the following<br>options:</p>
<ul>
<li><p><code>--ecma3|--ecma5|--ecma6|--ecma7|--ecma8|--ecma9|--ecma10</code>: Sets the ECMAScript version<br>to parse. Default is version 9.</p>
</li>
<li><p><code>--module</code>: Sets the parsing mode to <code>&quot;module&quot;</code>. Is set to <code>&quot;script&quot;</code> otherwise.</p>
</li>
<li><p><code>--locations</code>: Attaches a “loc” object to each node with “start” and<br>“end” subobjects, each of which contains the one-based line and<br>zero-based column numbers in <code>&#123;line, column&#125;</code> form.</p>
</li>
<li><p><code>--allow-hash-bang</code>: If the code starts with the characters #! (as<br>in a shellscript), the first line will be treated as a comment.</p>
</li>
<li><p><code>--compact</code>: No whitespace is used in the AST output.</p>
</li>
<li><p><code>--silent</code>: Do not output the AST, just return the exit status.</p>
</li>
<li><p><code>--help</code>: Print the usage information and quit.</p>
</li>
</ul>
<p>The utility spits out the syntax tree as JSON data.</p>

        <h2 id="Existing-plugins"   >
          <a href="#Existing-plugins" class="heading-link"><i class="fas fa-link"></i></a><a href="#Existing-plugins" class="headerlink" title="Existing plugins"></a>Existing plugins</h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/RReverser/acorn-jsx"><code>acorn-jsx</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/facebook/jsx" >Facebook JSX syntax extensions</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
<p>Plugins for ECMAScript proposals:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-stage3"><code>acorn-stage3</code></a>: Parse most stage 3 proposals, bundling:<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-class-fields"><code>acorn-class-fields</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-class-fields" >class fields proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-import-meta"><code>acorn-import-meta</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-import-meta" >import.meta proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-private-methods"><code>acorn-private-methods</code></a>: parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-private-methods" >private methods, getters and setters proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>n</li>
</ul>
</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/acorn-globals/node_modules/acorn/CHANGELOG/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="7-4-0-2020-08-03"   >
          <a href="#7-4-0-2020-08-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-4-0-2020-08-03" class="headerlink" title="7.4.0 (2020-08-03)"></a>7.4.0 (2020-08-03)</h2>
      
        <h3 id="New-features"   >
          <a href="#New-features" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for logical assignment operators.</p>
<p>Add support for numeric separators.</p>

        <h2 id="7-3-1-2020-06-11"   >
          <a href="#7-3-1-2020-06-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-3-1-2020-06-11" class="headerlink" title="7.3.1 (2020-06-11)"></a>7.3.1 (2020-06-11)</h2>
      
        <h3 id="Bug-fixes"   >
          <a href="#Bug-fixes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Make the string in the <code>version</code> export match the actual library version.</p>

        <h2 id="7-3-0-2020-06-11"   >
          <a href="#7-3-0-2020-06-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-3-0-2020-06-11" class="headerlink" title="7.3.0 (2020-06-11)"></a>7.3.0 (2020-06-11)</h2>
      
        <h3 id="Bug-fixes-1"   >
          <a href="#Bug-fixes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-1" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a bug that caused parsing of object patterns with a property named <code>set</code> that had a default value to fail.</p>

        <h3 id="New-features-1"   >
          <a href="#New-features-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-1" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for optional chaining (<code>?.</code>).</p>

        <h2 id="7-2-0-2020-05-09"   >
          <a href="#7-2-0-2020-05-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-2-0-2020-05-09" class="headerlink" title="7.2.0 (2020-05-09)"></a>7.2.0 (2020-05-09)</h2>
      
        <h3 id="Bug-fixes-2"   >
          <a href="#Bug-fixes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-2" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix precedence issue in parsing of async arrow functions.</p>

        <h3 id="New-features-2"   >
          <a href="#New-features-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-2" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for nullish coalescing.</p>
<p>Add support for <code>import.meta</code>.</p>
<p>Support <code>export * as ...</code> syntax.</p>
<p>Upgrade to Unicode 13.</p>

        <h2 id="6-4-1-2020-03-09"   >
          <a href="#6-4-1-2020-03-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-4-1-2020-03-09" class="headerlink" title="6.4.1 (2020-03-09)"></a>6.4.1 (2020-03-09)</h2>
      
        <h3 id="Bug-fixes-3"   >
          <a href="#Bug-fixes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-3" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>More carefully check for valid UTF16 surrogate pairs in regexp validator.</p>

        <h2 id="7-1-1-2020-03-01"   >
          <a href="#7-1-1-2020-03-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-1-1-2020-03-01" class="headerlink" title="7.1.1 (2020-03-01)"></a>7.1.1 (2020-03-01)</h2>
      
        <h3 id="Bug-fixes-4"   >
          <a href="#Bug-fixes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-4" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Treat <code>\8</code> and <code>\9</code> as invalid escapes in template strings.</p>
<p>Allow unicode escapes in property names that are keywords.</p>
<p>Don’t error on an exponential operator expression as argument to <code>await</code>.</p>
<p>More carefully check for valid UTF16 surrogate pairs in regexp validator.</p>

        <h2 id="7-1-0-2019-09-24"   >
          <a href="#7-1-0-2019-09-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-1-0-2019-09-24" class="headerlink" title="7.1.0 (2019-09-24)"></a>7.1.0 (2019-09-24)</h2>
      
        <h3 id="Bug-fixes-5"   >
          <a href="#Bug-fixes-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-5" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow trailing object literal commas when ecmaVersion is less than 5.</p>

        <h3 id="New-features-3"   >
          <a href="#New-features-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-3" class="headerlink" title="New features"></a>New features</h3>
      <p>Add a static <code>acorn</code> property to the <code>Parser</code> class that contains the entire module interface, to allow plugins to access the instance of the library that they are acting on.</p>

        <h2 id="7-0-0-2019-08-13"   >
          <a href="#7-0-0-2019-08-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-0-0-2019-08-13" class="headerlink" title="7.0.0 (2019-08-13)"></a>7.0.0 (2019-08-13)</h2>
      
        <h3 id="Breaking-changes"   >
          <a href="#Breaking-changes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>Changes the node format for dynamic imports to use the <code>ImportExpression</code> node type, as defined in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/estree/estree/blob/master/es2020.md#importexpression" >ESTree</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Makes 10 (ES2019) the default value for the <code>ecmaVersion</code> option.</p>

        <h2 id="6-3-0-2019-08-12"   >
          <a href="#6-3-0-2019-08-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-0-2019-08-12" class="headerlink" title="6.3.0 (2019-08-12)"></a>6.3.0 (2019-08-12)</h2>
      
        <h3 id="New-features-4"   >
          <a href="#New-features-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-4" class="headerlink" title="New features"></a>New features</h3>
      <p><code>sourceType: &quot;module&quot;</code> can now be used even when <code>ecmaVersion</code> is less than 6, to parse module-style code that otherwise conforms to an older standard.</p>

        <h2 id="6-2-1-2019-07-21"   >
          <a href="#6-2-1-2019-07-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-1-2019-07-21" class="headerlink" title="6.2.1 (2019-07-21)"></a>6.2.1 (2019-07-21)</h2>
      
        <h3 id="Bug-fixes-6"   >
          <a href="#Bug-fixes-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-6" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug causing Acorn to treat some characters as identifier characters that shouldn’t be treated as such.</p>
<p>Fix issue where setting the <code>allowReserved</code> option to <code>&quot;never&quot;</code> allowed reserved words in some circumstances.</p>

        <h2 id="6-2-0-2019-07-04"   >
          <a href="#6-2-0-2019-07-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-0-2019-07-04" class="headerlink" title="6.2.0 (2019-07-04)"></a>6.2.0 (2019-07-04)</h2>
      
        <h3 id="Bug-fixes-7"   >
          <a href="#Bug-fixes-7" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-7" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Improve valid assignment checking in <code>for</code>&#x2F;<code>in</code> and <code>for</code>&#x2F;<code>of</code> loops.</p>
<p>Disallow binding <code>let</code> in patterns.</p>

        <h3 id="New-features-5"   >
          <a href="#New-features-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-5" class="headerlink" title="New features"></a>New features</h3>
      <p>Support bigint syntax with <code>ecmaVersion</code> &gt;&#x3D; 11.</p>
<p>Support dynamic <code>import</code> syntax with <code>ecmaVersion</code> &gt;&#x3D; 11.</p>
<p>Upgrade to Unicode version 12.</p>

        <h2 id="6-1-1-2019-02-27"   >
          <a href="#6-1-1-2019-02-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-1-2019-02-27" class="headerlink" title="6.1.1 (2019-02-27)"></a>6.1.1 (2019-02-27)</h2>
      
        <h3 id="Bug-fixes-8"   >
          <a href="#Bug-fixes-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-8" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug that caused parsing default exports of with names to fail.</p>

        <h2 id="6-1-0-2019-02-08"   >
          <a href="#6-1-0-2019-02-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-0-2019-02-08" class="headerlink" title="6.1.0 (2019-02-08)"></a>6.1.0 (2019-02-08)</h2>
      
        <h3 id="Bug-fixes-9"   >
          <a href="#Bug-fixes-9" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-9" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix scope checking when redefining a <code>var</code> as a lexical binding.</p>

        <h3 id="New-features-6"   >
          <a href="#New-features-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-6" class="headerlink" title="New features"></a>New features</h3>
      <p>Split up <code>parseSubscripts</code> to use an internal <code>parseSubscript</code> method to make it easier to extend with plugins.</p>

        <h2 id="6-0-7-2019-02-04"   >
          <a href="#6-0-7-2019-02-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-7-2019-02-04" class="headerlink" title="6.0.7 (2019-02-04)"></a>6.0.7 (2019-02-04)</h2>
      
        <h3 id="Bug-fixes-10"   >
          <a href="#Bug-fixes-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-10" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Check that exported bindings are defined.</p>
<p>Don’t treat <code>\u180e</code> as a whitespace character.</p>
<p>Check for duplicate parameter names in methods.</p>
<p>Don’t allow shorthand properties when they are generators or async methods.</p>
<p>Forbid binding <code>await</code> in async arrow function’s parameter list.</p>

        <h2 id="6-0-6-2019-01-30"   >
          <a href="#6-0-6-2019-01-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-6-2019-01-30" class="headerlink" title="6.0.6 (2019-01-30)"></a>6.0.6 (2019-01-30)</h2>
      
        <h3 id="Bug-fixes-11"   >
          <a href="#Bug-fixes-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-11" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>The content of class declarations and expressions is now always parsed in strict mode.</p>
<p>Don’t allow <code>let</code> or <code>const</code> to bind the variable name <code>let</code>.</p>
<p>Treat class declarations as lexical.</p>
<p>Don’t allow a generator function declaration as the sole body of an <code>if</code> or <code>else</code>.</p>
<p>Ignore <code>&quot;use strict&quot;</code> when after an empty statement.</p>
<p>Allow string line continuations with special line terminator characters.</p>
<p>Treat <code>for</code> bodies as part of the <code>for</code> scope when checking for conflicting bindings.</p>
<p>Fix bug with parsing <code>yield</code> in a <code>for</code> loop initializer.</p>
<p>Implement special cases around scope checking for functions.</p>

        <h2 id="6-0-5-2019-01-02"   >
          <a href="#6-0-5-2019-01-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-5-2019-01-02" class="headerlink" title="6.0.5 (2019-01-02)"></a>6.0.5 (2019-01-02)</h2>
      
        <h3 id="Bug-fixes-12"   >
          <a href="#Bug-fixes-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-12" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix TypeScript type for <code>Parser.extend</code> and add <code>allowAwaitOutsideFunction</code> to options type.</p>
<p>Don’t treat <code>let</code> as a keyword when the next token is <code>&#123;</code> on the next line.</p>
<p>Fix bug that broke checking for parentheses around an object pattern in a destructuring assignment when <code>preserveParens</code> was on.</p>

        <h2 id="6-0-4-2018-11-05"   >
          <a href="#6-0-4-2018-11-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-4-2018-11-05" class="headerlink" title="6.0.4 (2018-11-05)"></a>6.0.4 (2018-11-05)</h2>
      
        <h3 id="Bug-fixes-13"   >
          <a href="#Bug-fixes-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-13" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Further improvements to tokenizing regular expressions in corner cases.</p>

        <h2 id="6-0-3-2018-11-04"   >
          <a href="#6-0-3-2018-11-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-3-2018-11-04" class="headerlink" title="6.0.3 (2018-11-04)"></a>6.0.3 (2018-11-04)</h2>
      
        <h3 id="Bug-fixes-14"   >
          <a href="#Bug-fixes-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-14" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug in tokenizing an expression-less return followed by a function followed by a regular expression.</p>
<p>Remove stray symlink in the package tarball.</p>

        <h2 id="6-0-2-2018-09-26"   >
          <a href="#6-0-2-2018-09-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-2-2018-09-26" class="headerlink" title="6.0.2 (2018-09-26)"></a>6.0.2 (2018-09-26)</h2>
      
        <h3 id="Bug-fixes-15"   >
          <a href="#Bug-fixes-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-15" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug where default expressions could fail to parse inside an object destructuring assignment expression.</p>

        <h2 id="6-0-1-2018-09-14"   >
          <a href="#6-0-1-2018-09-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-1-2018-09-14" class="headerlink" title="6.0.1 (2018-09-14)"></a>6.0.1 (2018-09-14)</h2>
      
        <h3 id="Bug-fixes-16"   >
          <a href="#Bug-fixes-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-16" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix wrong value in <code>version</code> export.</p>

        <h2 id="6-0-0-2018-09-14"   >
          <a href="#6-0-0-2018-09-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-0-2018-09-14" class="headerlink" title="6.0.0 (2018-09-14)"></a>6.0.0 (2018-09-14)</h2>
      
        <h3 id="Bug-fixes-17"   >
          <a href="#Bug-fixes-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-17" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Better handle variable-redefinition checks for catch bindings and functions directly under if statements.</p>
<p>Forbid <code>new.target</code> in top-level arrow functions.</p>
<p>Fix issue with parsing a regexp after <code>yield</code> in some contexts.</p>

        <h3 id="New-features-7"   >
          <a href="#New-features-7" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-7" class="headerlink" title="New features"></a>New features</h3>
      <p>The package now comes with TypeScript definitions.</p>

        <h3 id="Breaking-changes-1"   >
          <a href="#Breaking-changes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-1" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default value of the <code>ecmaVersion</code> option is now 9 (2018).</p>
<p>Plugins work differently, and will have to be rewritten to work with this version.</p>
<p>The loose parser and walker have been moved into separate packages (<code>acorn-loose</code> and <code>acorn-walk</code>).</p>

        <h2 id="5-7-3-2018-09-10"   >
          <a href="#5-7-3-2018-09-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-3-2018-09-10" class="headerlink" title="5.7.3 (2018-09-10)"></a>5.7.3 (2018-09-10)</h2>
      
        <h3 id="Bug-fixes-18"   >
          <a href="#Bug-fixes-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-18" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix failure to tokenize regexps after expressions like <code>x.of</code>.</p>
<p>Better error message for unterminated template literals.</p>

        <h2 id="5-7-2-2018-08-24"   >
          <a href="#5-7-2-2018-08-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-2-2018-08-24" class="headerlink" title="5.7.2 (2018-08-24)"></a>5.7.2 (2018-08-24)</h2>
      
        <h3 id="Bug-fixes-19"   >
          <a href="#Bug-fixes-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-19" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Properly handle <code>allowAwaitOutsideFunction</code> in for statements.</p>
<p>Treat function declarations at the top level of modules like let bindings.</p>
<p>Don’t allow async function declarations as the only statement under a label.</p>

        <h2 id="5-7-0-2018-06-15"   >
          <a href="#5-7-0-2018-06-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-0-2018-06-15" class="headerlink" title="5.7.0 (2018-06-15)"></a>5.7.0 (2018-06-15)</h2>
      
        <h3 id="New-features-8"   >
          <a href="#New-features-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-8" class="headerlink" title="New features"></a>New features</h3>
      <p>Upgraded to Unicode 11.</p>

        <h2 id="5-6-0-2018-05-31"   >
          <a href="#5-6-0-2018-05-31" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-6-0-2018-05-31" class="headerlink" title="5.6.0 (2018-05-31)"></a>5.6.0 (2018-05-31)</h2>
      
        <h3 id="New-features-9"   >
          <a href="#New-features-9" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-9" class="headerlink" title="New features"></a>New features</h3>
      <p>Allow U+2028 and U+2029 in string when ECMAVersion &gt;&#x3D; 10.</p>
<p>Allow binding-less catch statements when ECMAVersion &gt;&#x3D; 10.</p>
<p>Add <code>allowAwaitOutsideFunction</code> option for parsing top-level <code>await</code>.</p>

        <h2 id="5-5-3-2018-03-08"   >
          <a href="#5-5-3-2018-03-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-3-2018-03-08" class="headerlink" title="5.5.3 (2018-03-08)"></a>5.5.3 (2018-03-08)</h2>
      
        <h3 id="Bug-fixes-20"   >
          <a href="#Bug-fixes-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-20" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A <em>second</em> republish of the code in 5.5.1, this time with yarn, to hopefully get valid timestamps.</p>

        <h2 id="5-5-2-2018-03-08"   >
          <a href="#5-5-2-2018-03-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-2-2018-03-08" class="headerlink" title="5.5.2 (2018-03-08)"></a>5.5.2 (2018-03-08)</h2>
      
        <h3 id="Bug-fixes-21"   >
          <a href="#Bug-fixes-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-21" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A republish of the code in 5.5.1 in an attempt to solve an issue with the file timestamps in the npm package being 0.</p>

        <h2 id="5-5-1-2018-03-06"   >
          <a href="#5-5-1-2018-03-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-1-2018-03-06" class="headerlink" title="5.5.1 (2018-03-06)"></a>5.5.1 (2018-03-06)</h2>
      
        <h3 id="Bug-fixes-22"   >
          <a href="#Bug-fixes-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-22" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix misleading error message for octal escapes in template strings.</p>

        <h2 id="5-5-0-2018-02-27"   >
          <a href="#5-5-0-2018-02-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-0-2018-02-27" class="headerlink" title="5.5.0 (2018-02-27)"></a>5.5.0 (2018-02-27)</h2>
      
        <h3 id="New-features-10"   >
          <a href="#New-features-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-10" class="headerlink" title="New features"></a>New features</h3>
      <p>The identifier character categorization is now based on Unicode version 10.</p>
<p>Acorn will now validate the content of regular expressions, including new ES9 features.</p>

        <h2 id="5-4-0-2018-02-01"   >
          <a href="#5-4-0-2018-02-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-4-0-2018-02-01" class="headerlink" title="5.4.0 (2018-02-01)"></a>5.4.0 (2018-02-01)</h2>
      
        <h3 id="Bug-fixes-23"   >
          <a href="#Bug-fixes-23" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-23" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow duplicate or escaped flags on regular expressions.</p>
<p>Disallow octal escapes in strings in strict mode.</p>

        <h3 id="New-features-11"   >
          <a href="#New-features-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-11" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for async iteration.</p>
<p>Add support for object spread and rest.</p>

        <h2 id="5-3-0-2017-12-28"   >
          <a href="#5-3-0-2017-12-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-0-2017-12-28" class="headerlink" title="5.3.0 (2017-12-28)"></a>5.3.0 (2017-12-28)</h2>
      
        <h3 id="Bug-fixes-24"   >
          <a href="#Bug-fixes-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-24" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix parsing of floating point literals with leading zeroes in loose mode.</p>
<p>Allow duplicate property names in object patterns.</p>
<p>Don’t allow static class methods named <code>prototype</code>.</p>
<p>Disallow async functions directly under <code>if</code> or <code>else</code>.</p>
<p>Parse right-hand-side of <code>for</code>&#x2F;<code>of</code> as an assignment expression.</p>
<p>Stricter parsing of <code>for</code>&#x2F;<code>in</code>.</p>
<p>Don’t allow unicode escapes in contextual keywords.</p>

        <h3 id="New-features-12"   >
          <a href="#New-features-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-12" class="headerlink" title="New features"></a>New features</h3>
      <p>Parsing class members was factored into smaller methods to allow plugins to hook into it.</p>

        <h2 id="5-2-1-2017-10-30"   >
          <a href="#5-2-1-2017-10-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-1-2017-10-30" class="headerlink" title="5.2.1 (2017-10-30)"></a>5.2.1 (2017-10-30)</h2>
      
        <h3 id="Bug-fixes-25"   >
          <a href="#Bug-fixes-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-25" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a token context corruption bug.</p>

        <h2 id="5-2-0-2017-10-30"   >
          <a href="#5-2-0-2017-10-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-0-2017-10-30" class="headerlink" title="5.2.0 (2017-10-30)"></a>5.2.0 (2017-10-30)</h2>
      
        <h3 id="Bug-fixes-26"   >
          <a href="#Bug-fixes-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-26" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix token context tracking for <code>class</code> and <code>function</code> in property-name position.</p>
<p>Make sure <code>%*</code> isn’t parsed as a valid operator.</p>
<p>Allow shorthand properties <code>get</code> and <code>set</code> to be followed by default values.</p>
<p>Disallow <code>super</code> when not in callee or object position.</p>

        <h3 id="New-features-13"   >
          <a href="#New-features-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-13" class="headerlink" title="New features"></a>New features</h3>
      <p>Support <a target="_blank" rel="noopener" href="https://github.com/estree/estree/compare/b3de58c9997504d6fba04b72f76e6dd1619ee4eb...1da8e603237144f44710360f8feb7a9977e905e0"><code>directive</code> property</a> on directive expression statements.</p>

        <h2 id="5-1-2-2017-09-04"   >
          <a href="#5-1-2-2017-09-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-2-2017-09-04" class="headerlink" title="5.1.2 (2017-09-04)"></a>5.1.2 (2017-09-04)</h2>
      
        <h3 id="Bug-fixes-27"   >
          <a href="#Bug-fixes-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-27" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disable parsing of legacy HTML-style comments in modules.</p>
<p>Fix parsing of async methods whose names are keywords.</p>

        <h2 id="5-1-1-2017-07-06"   >
          <a href="#5-1-1-2017-07-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-1-2017-07-06" class="headerlink" title="5.1.1 (2017-07-06)"></a>5.1.1 (2017-07-06)</h2>
      
        <h3 id="Bug-fixes-28"   >
          <a href="#Bug-fixes-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-28" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix problem with disambiguating regexp and division after a class.</p>

        <h2 id="5-1-0-2017-07-05"   >
          <a href="#5-1-0-2017-07-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-0-2017-07-05" class="headerlink" title="5.1.0 (2017-07-05)"></a>5.1.0 (2017-07-05)</h2>
      
        <h3 id="Bug-fixes-29"   >
          <a href="#Bug-fixes-29" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-29" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix tokenizing of regexps in an object-desctructuring <code>for</code>&#x2F;<code>of</code> loop and after <code>yield</code>.</p>
<p>Parse zero-prefixed numbers with non-octal digits as decimal.</p>
<p>Allow object&#x2F;array patterns in rest parameters.</p>
<p>Don’t error when <code>yield</code> is used as a property name.</p>
<p>Allow <code>async</code> as a shorthand object property.</p>

        <h3 id="New-features-14"   >
          <a href="#New-features-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-14" class="headerlink" title="New features"></a>New features</h3>
      <p>Implement the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-template-literal-revision" >template literal revision proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for ES9.</p>

        <h2 id="5-0-3-2017-04-01"   >
          <a href="#5-0-3-2017-04-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-3-2017-04-01" class="headerlink" title="5.0.3 (2017-04-01)"></a>5.0.3 (2017-04-01)</h2>
      
        <h3 id="Bug-fixes-30"   >
          <a href="#Bug-fixes-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-30" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix spurious duplicate variable definition errors for named functions.</p>

        <h2 id="5-0-2-2017-03-30"   >
          <a href="#5-0-2-2017-03-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-2-2017-03-30" class="headerlink" title="5.0.2 (2017-03-30)"></a>5.0.2 (2017-03-30)</h2>
      
        <h3 id="Bug-fixes-31"   >
          <a href="#Bug-fixes-31" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-31" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A binary operator after a parenthesized arrow expression is no longer incorrectly treated as an error.</p>

        <h2 id="5-0-0-2017-03-28"   >
          <a href="#5-0-0-2017-03-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-0-2017-03-28" class="headerlink" title="5.0.0 (2017-03-28)"></a>5.0.0 (2017-03-28)</h2>
      
        <h3 id="Bug-fixes-32"   >
          <a href="#Bug-fixes-32" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-32" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Raise an error for duplicated lexical bindings.</p>
<p>Fix spurious error when an assignement expression occurred after a spread expression.</p>
<p>Accept regular expressions after <code>of</code> (in <code>for</code>&#x2F;<code>of</code>), <code>yield</code> (in a generator), and braced arrow functions.</p>
<p>Allow labels in front or <code>var</code> declarations, even in strict mode.</p>

        <h3 id="Breaking-changes-2"   >
          <a href="#Breaking-changes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-2" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>Parse declarations following <code>export default</code> as declaration nodes, not expressions. This means that class and function declarations nodes can now have <code>null</code> as their <code>id</code>.</p>

        <h2 id="4-0-11-2017-02-07"   >
          <a href="#4-0-11-2017-02-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-11-2017-02-07" class="headerlink" title="4.0.11 (2017-02-07)"></a>4.0.11 (2017-02-07)</h2>
      
        <h3 id="Bug-fixes-33"   >
          <a href="#Bug-fixes-33" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-33" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Allow all forms of member expressions to be parenthesized as lvalue.</p>

        <h2 id="4-0-10-2017-02-07"   >
          <a href="#4-0-10-2017-02-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-10-2017-02-07" class="headerlink" title="4.0.10 (2017-02-07)"></a>4.0.10 (2017-02-07)</h2>
      
        <h3 id="Bug-fixes-34"   >
          <a href="#Bug-fixes-34" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-34" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Don’t expect semicolons after default-exported functions or classes, even when they are expressions.</p>
<p>Check for use of <code>&#39;use strict&#39;</code> directives in non-simple parameter functions, even when already in strict mode.</p>

        <h2 id="4-0-9-2017-02-06"   >
          <a href="#4-0-9-2017-02-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-9-2017-02-06" class="headerlink" title="4.0.9 (2017-02-06)"></a>4.0.9 (2017-02-06)</h2>
      
        <h3 id="Bug-fixes-35"   >
          <a href="#Bug-fixes-35" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-35" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix incorrect error raised for parenthesized simple assignment targets, so that <code>(x) = 1</code> parses again.</p>

        <h2 id="4-0-8-2017-02-03"   >
          <a href="#4-0-8-2017-02-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-8-2017-02-03" class="headerlink" title="4.0.8 (2017-02-03)"></a>4.0.8 (2017-02-03)</h2>
      
        <h3 id="Bug-fixes-36"   >
          <a href="#Bug-fixes-36" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-36" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Solve spurious parenthesized pattern errors by temporarily erring on the side of accepting programs that our delayed errors don’t handle correctly yet.</p>

        <h2 id="4-0-7-2017-02-02"   >
          <a href="#4-0-7-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-7-2017-02-02" class="headerlink" title="4.0.7 (2017-02-02)"></a>4.0.7 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-37"   >
          <a href="#Bug-fixes-37" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-37" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Accept invalidly rejected code like <code>(x).y = 2</code> again.</p>
<p>Don’t raise an error when a function <em>inside</em> strict code has a non-simple parameter list.</p>

        <h2 id="4-0-6-2017-02-02"   >
          <a href="#4-0-6-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-6-2017-02-02" class="headerlink" title="4.0.6 (2017-02-02)"></a>4.0.6 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-38"   >
          <a href="#Bug-fixes-38" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-38" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix exponential behavior (manifesting itself as a complete hang for even relatively small source files) introduced by the new ‘use strict’ check.</p>

        <h2 id="4-0-5-2017-02-02"   >
          <a href="#4-0-5-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-5-2017-02-02" class="headerlink" title="4.0.5 (2017-02-02)"></a>4.0.5 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-39"   >
          <a href="#Bug-fixes-39" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-39" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow parenthesized pattern expressions.</p>
<p>Allow keywords as export names.</p>
<p>Don’t allow the <code>async</code> keyword to be parenthesized.</p>
<p>Properly raise an error when a keyword contains a character escape.</p>
<p>Allow <code>&quot;use strict&quot;</code> to appear after other string literal expressions.</p>
<p>Disallow labeled declarations.</p>

        <h2 id="4-0-4-2016-12-19"   >
          <a href="#4-0-4-2016-12-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-4-2016-12-19" class="headerlink" title="4.0.4 (2016-12-19)"></a>4.0.4 (2016-12-19)</h2>
      
        <h3 id="Bug-fixes-40"   >
          <a href="#Bug-fixes-40" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-40" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix crash when <code>export</code> was followed by a keyword that can’t be<br>exported.</p>

        <h2 id="4-0-3-2016-08-16"   >
          <a href="#4-0-3-2016-08-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-3-2016-08-16" class="headerlink" title="4.0.3 (2016-08-16)"></a>4.0.3 (2016-08-16)</h2>
      
        <h3 id="Bug-fixes-41"   >
          <a href="#Bug-fixes-41" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-41" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Allow regular function declarations inside single-statement <code>if</code> branches in loose mode. Forbid them entirely in strict mode.</p>
<p>Properly parse properties named <code>async</code> in ES2017 mode.</p>
<p>Fix bug where reserved words were broken in ES2017 mode.</p>

        <h2 id="4-0-2-2016-08-11"   >
          <a href="#4-0-2-2016-08-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-2-2016-08-11" class="headerlink" title="4.0.2 (2016-08-11)"></a>4.0.2 (2016-08-11)</h2>
      
        <h3 id="Bug-fixes-42"   >
          <a href="#Bug-fixes-42" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-42" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Don’t ignore period or ‘e’ characters after octal numbers.</p>
<p>Fix broken parsing for call expressions in default parameter values of arrow functions.</p>

        <h2 id="4-0-1-2016-08-08"   >
          <a href="#4-0-1-2016-08-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-1-2016-08-08" class="headerlink" title="4.0.1 (2016-08-08)"></a>4.0.1 (2016-08-08)</h2>
      
        <h3 id="Bug-fixes-43"   >
          <a href="#Bug-fixes-43" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-43" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix false positives in duplicated export name errors.</p>

        <h2 id="4-0-0-2016-08-07"   >
          <a href="#4-0-0-2016-08-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-0-2016-08-07" class="headerlink" title="4.0.0 (2016-08-07)"></a>4.0.0 (2016-08-07)</h2>
      
        <h3 id="Breaking-changes-3"   >
          <a href="#Breaking-changes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-3" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default <code>ecmaVersion</code> option value is now 7.</p>
<p>A number of internal method signatures changed, so plugins might need to be updated.</p>

        <h3 id="Bug-fixes-44"   >
          <a href="#Bug-fixes-44" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-44" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>The parser now raises errors on duplicated export names.</p>
<p><code>arguments</code> and <code>eval</code> can now be used in shorthand properties.</p>
<p>Duplicate parameter names in non-simple argument lists now always produce an error.</p>

        <h3 id="New-features-15"   >
          <a href="#New-features-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-15" class="headerlink" title="New features"></a>New features</h3>
      <p>The <code>ecmaVersion</code> option now also accepts year-style version numbers<br>(2015, etc).</p>
<p>Support for <code>async</code>&#x2F;<code>await</code> syntax when <code>ecmaVersion</code> is &gt;&#x3D; 8.</p>
<p>Support for trailing commas in call expressions when <code>ecmaVersion</code> is &gt;&#x3D; 8.</p>

        <h2 id="3-3-0-2016-07-25"   >
          <a href="#3-3-0-2016-07-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-0-2016-07-25" class="headerlink" title="3.3.0 (2016-07-25)"></a>3.3.0 (2016-07-25)</h2>
      
        <h3 id="Bug-fixes-45"   >
          <a href="#Bug-fixes-45" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-45" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug in tokenizing of regexp operator after a function declaration.</p>
<p>Fix parser crash when parsing an array pattern with a hole.</p>

        <h3 id="New-features-16"   >
          <a href="#New-features-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-16" class="headerlink" title="New features"></a>New features</h3>
      <p>Implement check against complex argument lists in functions that enable strict mode in ES7.</p>

        <h2 id="3-2-0-2016-06-07"   >
          <a href="#3-2-0-2016-06-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-0-2016-06-07" class="headerlink" title="3.2.0 (2016-06-07)"></a>3.2.0 (2016-06-07)</h2>
      
        <h3 id="Bug-fixes-46"   >
          <a href="#Bug-fixes-46" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-46" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Improve handling of lack of unicode regexp support in host<br>environment.</p>
<p>Properly reject shorthand properties whose name is a keyword.</p>

        <h3 id="New-features-17"   >
          <a href="#New-features-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-17" class="headerlink" title="New features"></a>New features</h3>
      <p>Visitors created with <code>visit.make</code> now have their base as <em>prototype</em>, rather than copying properties into a fresh object.</p>

        <h2 id="3-1-0-2016-04-18"   >
          <a href="#3-1-0-2016-04-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-0-2016-04-18" class="headerlink" title="3.1.0 (2016-04-18)"></a>3.1.0 (2016-04-18)</h2>
      
        <h3 id="Bug-fixes-47"   >
          <a href="#Bug-fixes-47" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-47" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Properly tokenize the division operator directly after a function expression.</p>
<p>Allow trailing comma in destructuring arrays.</p>

        <h2 id="3-0-4-2016-02-25"   >
          <a href="#3-0-4-2016-02-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-4-2016-02-25" class="headerlink" title="3.0.4 (2016-02-25)"></a>3.0.4 (2016-02-25)</h2>
      
        <h3 id="Fixes"   >
          <a href="#Fixes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Allow update expressions as left-hand-side of the ES7 exponential operator.</p>

        <h2 id="3-0-2-2016-02-10"   >
          <a href="#3-0-2-2016-02-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-2-2016-02-10" class="headerlink" title="3.0.2 (2016-02-10)"></a>3.0.2 (2016-02-10)</h2>
      
        <h3 id="Fixes-1"   >
          <a href="#Fixes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-1" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Fix bug that accidentally made <code>undefined</code> a reserved word when parsing ES7.</p>

        <h2 id="3-0-0-2016-02-10"   >
          <a href="#3-0-0-2016-02-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-0-2016-02-10" class="headerlink" title="3.0.0 (2016-02-10)"></a>3.0.0 (2016-02-10)</h2>
      
        <h3 id="Breaking-changes-4"   >
          <a href="#Breaking-changes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-4" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default value of the <code>ecmaVersion</code> option is now 6 (used to be 5).</p>
<p>Support for comprehension syntax (which was dropped from the draft spec) has been removed.</p>

        <h3 id="Fixes-2"   >
          <a href="#Fixes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-2" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p><code>let</code> and <code>yield</code> are now “contextual keywords”, meaning you can mostly use them as identifiers in ES5 non-strict code.</p>
<p>A parenthesized class or function expression after <code>export default</code> is now parsed correctly.</p>

        <h3 id="New-features-18"   >
          <a href="#New-features-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-18" class="headerlink" title="New features"></a>New features</h3>
      <p>When <code>ecmaVersion</code> is set to 7, Acorn will parse the exponentiation operator (<code>**</code>).</p>
<p>The identifier character ranges are now based on Unicode 8.0.0.</p>
<p>Plugins can now override the <code>raiseRecoverable</code> method to override the way non-critical errors are handled.</p>

        <h2 id="2-7-0-2016-01-04"   >
          <a href="#2-7-0-2016-01-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-7-0-2016-01-04" class="headerlink" title="2.7.0 (2016-01-04)"></a>2.7.0 (2016-01-04)</h2>
      
        <h3 id="Fixes-3"   >
          <a href="#Fixes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-3" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Stop allowing rest parameters in setters.</p>
<p>Disallow <code>y</code> rexexp flag in ES5.</p>
<p>Disallow <code>\00</code> and <code>\000</code> escapes in strict mode.</p>
<p>Raise an error when an import name is a reserved word.</p>

        <h2 id="2-6-2-2015-11-10"   >
          <a href="#2-6-2-2015-11-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-6-2-2015-11-10" class="headerlink" title="2.6.2 (2015-11-10)"></a>2.6.2 (2015-11-10)</h2>
      
        <h3 id="Fixes-4"   >
          <a href="#Fixes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-4" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Don’t crash when no options object is passed.</p>

        <h2 id="2-6-0-2015-11-09"   >
          <a href="#2-6-0-2015-11-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-6-0-2015-11-09" class="headerlink" title="2.6.0 (2015-11-09)"></a>2.6.0 (2015-11-09)</h2>
      
        <h3 id="Fixes-5"   >
          <a href="#Fixes-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-5" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Add <code>await</code> as a reserved word in module sources.</p>
<p>Disallow <code>yield</code> in a parameter default value for a generator.</p>
<p>Forbid using a comma after a rest pattern in an array destructuring.</p>

        <h3 id="New-features-19"   >
          <a href="#New-features-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-19" class="headerlink" title="New features"></a>New features</h3>
      <p>Support parsing stdin in command-line tool.</p>

        <h2 id="2-5-0-2015-10-27"   >
          <a href="#2-5-0-2015-10-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-5-0-2015-10-27" class="headerlink" title="2.5.0 (2015-10-27)"></a>2.5.0 (2015-10-27)</h2>
      
        <h3 id="Fixes-6"   >
          <a href="#Fixes-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-6" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Fix tokenizer support in the command-line tool.</p>
<p>Stop allowing <code>new.target</code> outside of functions.</p>
<p>Remove legacy <code>guard</code> and <code>guardedHandler</code> properties from try nodes.</p>
<p>Stop allowing multiple <code>__proto__</code> properties on an object literal in strict mode.</p>
<p>Don’t allow rest parameters to be non-identifier patterns.</p>
<p>Check for duplicate paramter names in arrow functions.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/acorn-globals/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2020-03-08</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="acorn-globals"   >
          <a href="#acorn-globals" class="heading-link"><i class="fas fa-link"></i></a><a href="#acorn-globals" class="headerlink" title="acorn-globals"></a>acorn-globals</h1>
      <p>Detect global variables in JavaScript using acorn</p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tidelift.com/subscription/pkg/npm-acorn_globals?utm_source=npm-acorn-globals&utm_medium=referral&utm_campaign=readme" >Get supported acorn-globals with the Tidelift Subscription</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p><a target="_blank" rel="noopener" href="https://travis-ci.org/ForbesLindesay/acorn-globals"><img src="https://img.shields.io/travis/ForbesLindesay/acorn-globals/master.svg" alt="Build Status"></a><br><a target="_blank" rel="noopener" href="https://david-dm.org/ForbesLindesay/acorn-globals"><img src="https://img.shields.io/david/ForbesLindesay/acorn-globals.svg" alt="Dependency Status"></a><br><a target="_blank" rel="noopener" href="https://www.npmjs.org/package/acorn-globals"><img src="https://img.shields.io/npm/v/acorn-globals.svg" alt="NPM version"></a></p>

        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <pre><code>npm install acorn-globals
</code></pre>

        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      <p>detect.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> detect = <span class="built_in">require</span>(<span class="string">&#x27;acorn-globals&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> src = fs.<span class="title function_">readFileSync</span>(__dirname + <span class="string">&#x27;/input.js&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> scope = <span class="title function_">detect</span>(src);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(scope);</span><br></pre></td></tr></table></div></figure>

<p>input.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">3</span>, z = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">w.<span class="title function_">foo</span>();</span><br><span class="line">w = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">RAWR</span>=<span class="number">444</span>;</span><br><span class="line"><span class="variable constant_">RAWR</span>.<span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">BLARG</span>=<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">BAR</span> = <span class="number">3</span>;</span><br><span class="line">    process.<span class="title function_">nextTick</span>(<span class="keyword">function</span> (<span class="params">ZZZZZZZZZZZZ</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beep boop&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> xyz = <span class="number">4</span>;</span><br><span class="line">        x += <span class="number">10</span>;</span><br><span class="line">        x.<span class="property">zzzzzz</span>;</span><br><span class="line">        <span class="variable constant_">ZZZ</span>=<span class="number">6</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">doom</span> () &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable constant_">ZZZ</span>.<span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(xyz);</span><br></pre></td></tr></table></div></figure>

<p>output:</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ node example/detect.js</span><br><span class="line">[ &#123; name: &#x27;BLARG&#x27;, nodes: [ [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;RAWR&#x27;, nodes: [ [Object], [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;ZZZ&#x27;, nodes: [ [Object], [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;console&#x27;, nodes: [ [Object], [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;foo&#x27;, nodes: [ [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;process&#x27;, nodes: [ [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;w&#x27;, nodes: [ [Object], [Object] ] &#125;,</span><br><span class="line">  &#123; name: &#x27;xyz&#x27;, nodes: [ [Object] ] &#125; ]</span><br></pre></td></tr></table></div></figure>


        <h2 id="Security-contact-information"   >
          <a href="#Security-contact-information" class="heading-link"><i class="fas fa-link"></i></a><a href="#Security-contact-information" class="headerlink" title="Security contact information"></a>Security contact information</h2>
      <p>To report a security vulnerability, please use the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tidelift.com/security" >Tidelift security contact</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. Tidelift will coordinate the fix and disclosure.</p>

        <h2 id="License"   >
          <a href="#License" class="heading-link"><i class="fas fa-link"></i></a><a href="#License" class="headerlink" title="License"></a>License</h2>
      <p>  MIT</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/acorn/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Acorn"   >
          <a href="#Acorn" class="heading-link"><i class="fas fa-link"></i></a><a href="#Acorn" class="headerlink" title="Acorn"></a>Acorn</h1>
      <p>A tiny, fast JavaScript parser written in JavaScript.</p>

        <h2 id="Community"   >
          <a href="#Community" class="heading-link"><i class="fas fa-link"></i></a><a href="#Community" class="headerlink" title="Community"></a>Community</h2>
      <p>Acorn is open source software released under an<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn/blob/master/acorn/LICENSE" >MIT license</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>You are welcome to<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn/issues" >report bugs</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> or create pull<br>requests on <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/acornjs/acorn" >github</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. For questions<br>and discussion, please use the<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://discuss.ternjs.net/" >Tern discussion forum</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <p>The easiest way to install acorn is from <a target="_blank" rel="noopener" href="https://www.npmjs.com/"><code>npm</code></a>:</p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install acorn</span><br></pre></td></tr></table></div></figure>

<p>Alternately, you can download the source and build acorn yourself:</p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/acornjs/acorn.git</span><br><span class="line"><span class="built_in">cd</span> acorn</span><br><span class="line">npm install</span><br></pre></td></tr></table></div></figure>


        <h2 id="Interface"   >
          <a href="#Interface" class="heading-link"><i class="fas fa-link"></i></a><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2>
      <p><strong>parse</strong><code>(input, options)</code> is the main interface to the library. The<br><code>input</code> parameter is a string, <code>options</code> must be an object setting<br>some of the options listed below. The return value will be an abstract<br>syntax tree object as specified by the <a target="_blank" rel="noopener" href="https://github.com/estree/estree">ESTree<br>spec</a>.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> acorn = <span class="built_in">require</span>(<span class="string">&quot;acorn&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(acorn.<span class="title function_">parse</span>(<span class="string">&quot;1 + 1&quot;</span>, &#123;<span class="attr">ecmaVersion</span>: <span class="number">2020</span>&#125;));</span><br></pre></td></tr></table></div></figure>

<p>When encountering a syntax error, the parser will raise a<br><code>SyntaxError</code> object with a meaningful message. The error object will<br>have a <code>pos</code> property that indicates the string offset at which the<br>error occurred, and a <code>loc</code> object that contains a <code>&#123;line, column&#125;</code><br>object referring to that same position.</p>
<p>Options are provided by in a second argument, which should be an<br>object containing any of these fields (only <code>ecmaVersion</code> is<br>required):</p>
<ul>
<li><p><strong>ecmaVersion</strong>: Indicates the ECMAScript version to parse. Must be<br>either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10 (2019),<br>11 (2020), or 12 (2021, partial support), or <code>&quot;latest&quot;</code> (the latest<br>the library supports). This influences support for strict mode, the<br>set of reserved words, and support for new syntax features.</p>
<p><strong>NOTE</strong>: Only ‘stage 4’ (finalized) ECMAScript features are being<br>implemented by Acorn. Other proposed new features must be<br>implemented through plugins.</p>
</li>
<li><p><strong>sourceType</strong>: Indicate the mode the code should be parsed in. Can be<br>either <code>&quot;script&quot;</code> or <code>&quot;module&quot;</code>. This influences global strict mode<br>and parsing of <code>import</code> and <code>export</code> declarations.</p>
<p><strong>NOTE</strong>: If set to <code>&quot;module&quot;</code>, then static <code>import</code> &#x2F; <code>export</code> syntax<br>will be valid, even if <code>ecmaVersion</code> is less than 6.</p>
</li>
<li><p><strong>onInsertedSemicolon</strong>: If given a callback, that callback will be<br>called whenever a missing semicolon is inserted by the parser. The<br>callback will be given the character offset of the point where the<br>semicolon is inserted as argument, and if <code>locations</code> is on, also a<br><code>&#123;line, column&#125;</code> object representing this position.</p>
</li>
<li><p><strong>onTrailingComma</strong>: Like <code>onInsertedSemicolon</code>, but for trailing<br>commas.</p>
</li>
<li><p><strong>allowReserved</strong>: If <code>false</code>, using a reserved word will generate<br>an error. Defaults to <code>true</code> for <code>ecmaVersion</code> 3, <code>false</code> for higher<br>versions. When given the value <code>&quot;never&quot;</code>, reserved words and<br>keywords can also not be used as property names (as in Internet<br>Explorer’s old parser).</p>
</li>
<li><p><strong>allowReturnOutsideFunction</strong>: By default, a return statement at<br>the top level raises an error. Set this to <code>true</code> to accept such<br>code.</p>
</li>
<li><p><strong>allowImportExportEverywhere</strong>: By default, <code>import</code> and <code>export</code><br>declarations can only appear at a program’s top level. Setting this<br>option to <code>true</code> allows them anywhere where a statement is allowed,<br>and also allows <code>import.meta</code> expressions to appear in scripts<br>(when <code>sourceType</code> is not <code>&quot;module&quot;</code>).</p>
</li>
<li><p><strong>allowAwaitOutsideFunction</strong>: By default, <code>await</code> expressions can<br>only appear inside <code>async</code> functions. Setting this option to<br><code>true</code> allows to have top-level <code>await</code> expressions. They are<br>still not allowed in non-<code>async</code> functions, though.</p>
</li>
<li><p><strong>allowHashBang</strong>: When this is enabled (off by default), if the<br>code starts with the characters <code>#!</code> (as in a shellscript), the<br>first line will be treated as a comment.</p>
</li>
<li><p><strong>locations</strong>: When <code>true</code>, each node has a <code>loc</code> object attached<br>with <code>start</code> and <code>end</code> subobjects, each of which contains the<br>one-based line and zero-based column numbers in <code>&#123;line, column&#125;</code><br>form. Default is <code>false</code>.</p>
</li>
<li><p><strong>onToken</strong>: If a function is passed for this option, each found<br>token will be passed in same format as tokens returned from<br><code>tokenizer().getToken()</code>.</p>
<p>If array is passed, each found token is pushed to it.</p>
<p>Note that you are not allowed to call the parser from the<br>callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>onComment</strong>: If a function is passed for this option, whenever a<br>comment is encountered the function will be called with the<br>following parameters:</p>
<ul>
<li><code>block</code>: <code>true</code> if the comment is a block comment, false if it<br>is a line comment.</li>
<li><code>text</code>: The content of the comment.</li>
<li><code>start</code>: Character offset of the start of the comment.</li>
<li><code>end</code>: Character offset of the end of the comment.</li>
</ul>
<p>When the <code>locations</code> options is on, the <code>&#123;line, column&#125;</code> locations<br>of the comment’s start and end are passed as two additional<br>parameters.</p>
<p>If array is passed for this option, each found comment is pushed<br>to it as object in Esprima format:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="string">&quot;Line&quot;</span> | <span class="string">&quot;Block&quot;</span>,</span><br><span class="line">  <span class="string">&quot;value&quot;</span>: <span class="string">&quot;comment text&quot;</span>,</span><br><span class="line">  <span class="string">&quot;start&quot;</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="string">&quot;end&quot;</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="comment">// If `locations` option is on:</span></span><br><span class="line">  <span class="string">&quot;loc&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: &#123;<span class="attr">line</span>: <span class="title class_">Number</span>, <span class="attr">column</span>: <span class="title class_">Number</span>&#125;</span><br><span class="line">    <span class="string">&quot;end&quot;</span>: &#123;<span class="attr">line</span>: <span class="title class_">Number</span>, <span class="attr">column</span>: <span class="title class_">Number</span>&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// If `ranges` option is on:</span></span><br><span class="line">  <span class="string">&quot;range&quot;</span>: [<span class="title class_">Number</span>, <span class="title class_">Number</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>Note that you are not allowed to call the parser from the<br>callback—that will corrupt its internal state.</p>
</li>
<li><p><strong>ranges</strong>: Nodes have their start and end characters offsets<br>recorded in <code>start</code> and <code>end</code> properties (directly on the node,<br>rather than the <code>loc</code> object, which holds line&#x2F;column data. To also<br>add a<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://bugzilla.mozilla.org/show_bug.cgi?id=745678" >semi-standardized</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br><code>range</code> property holding a <code>[start, end]</code> array with the same<br>numbers, set the <code>ranges</code> option to <code>true</code>.</p>
</li>
<li><p><strong>program</strong>: It is possible to parse multiple files into a single<br>AST by passing the tree produced by parsing the first file as the<br><code>program</code> option in subsequent parses. This will add the toplevel<br>forms of the parsed file to the “Program” (top) node of an existing<br>parse tree.</p>
</li>
<li><p><strong>sourceFile</strong>: When the <code>locations</code> option is <code>true</code>, you can pass<br>this option to add a <code>source</code> attribute in every node’s <code>loc</code><br>object. Note that the contents of this option are not examined or<br>processed in any way; you are free to use whatever format you<br>choose.</p>
</li>
<li><p><strong>directSourceFile</strong>: Like <code>sourceFile</code>, but a <code>sourceFile</code> property<br>will be added (regardless of the <code>location</code> option) directly to the<br>nodes, rather than the <code>loc</code> object.</p>
</li>
<li><p><strong>preserveParens</strong>: If this option is <code>true</code>, parenthesized expressions<br>are represented by (non-standard) <code>ParenthesizedExpression</code> nodes<br>that have a single <code>expression</code> property containing the expression<br>inside parentheses.</p>
</li>
</ul>
<p><strong>parseExpressionAt</strong><code>(input, offset, options)</code> will parse a single<br>expression in a string, and return its AST. It will not complain if<br>there is more of the string left after the expression.</p>
<p><strong>tokenizer</strong><code>(input, options)</code> returns an object with a <code>getToken</code><br>method that can be called repeatedly to get the next token, a <code>&#123;start, end, type, value&#125;</code> object (with added <code>loc</code> property when the<br><code>locations</code> option is enabled and <code>range</code> property when the <code>ranges</code><br>option is enabled). When the token’s type is <code>tokTypes.eof</code>, you<br>should stop calling the method, since it will keep returning that same<br>token forever.</p>
<p>In ES6 environment, returned result can be used as any other<br>protocol-compliant iterable:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> token <span class="keyword">of</span> acorn.<span class="title function_">tokenizer</span>(str)) &#123;</span><br><span class="line">  <span class="comment">// iterate over the tokens</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// transform code to array of tokens:</span></span><br><span class="line"><span class="keyword">var</span> tokens = [...acorn.<span class="title function_">tokenizer</span>(str)];</span><br></pre></td></tr></table></div></figure>

<p><strong>tokTypes</strong> holds an object mapping names to the token type objects<br>that end up in the <code>type</code> properties of tokens.</p>
<p><strong>getLineInfo</strong><code>(input, offset)</code> can be used to get a <code>&#123;line, column&#125;</code> object for a given program string and offset.</p>

        <h3 id="The-Parser-class"   >
          <a href="#The-Parser-class" class="heading-link"><i class="fas fa-link"></i></a><a href="#The-Parser-class" class="headerlink" title="The Parser class"></a>The <code>Parser</code> class</h3>
      <p>Instances of the <strong><code>Parser</code></strong> class contain all the state and logic<br>that drives a parse. It has static methods <code>parse</code>,<br><code>parseExpressionAt</code>, and <code>tokenizer</code> that match the top-level<br>functions by the same name.</p>
<p>When extending the parser with plugins, you need to call these methods<br>on the extended version of the class. To extend a parser with plugins,<br>you can use its static <code>extend</code> method.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> acorn = <span class="built_in">require</span>(<span class="string">&quot;acorn&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> jsx = <span class="built_in">require</span>(<span class="string">&quot;acorn-jsx&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">JSXParser</span> = acorn.<span class="property">Parser</span>.<span class="title function_">extend</span>(<span class="title function_">jsx</span>());</span><br><span class="line"><span class="title class_">JSXParser</span>.<span class="title function_">parse</span>(<span class="string">&quot;foo(&lt;bar/&gt;)&quot;</span>, &#123;<span class="attr">ecmaVersion</span>: <span class="number">2020</span>&#125;);</span><br></pre></td></tr></table></div></figure>

<p>The <code>extend</code> method takes any number of plugin values, and returns a<br>new <code>Parser</code> class that includes the extra parser logic provided by<br>the plugins.</p>

        <h2 id="Command-line-interface"   >
          <a href="#Command-line-interface" class="heading-link"><i class="fas fa-link"></i></a><a href="#Command-line-interface" class="headerlink" title="Command line interface"></a>Command line interface</h2>
      <p>The <code>bin/acorn</code> utility can be used to parse a file from the command<br>line. It accepts as arguments its input file and the following<br>options:</p>
<ul>
<li><p><code>--ecma3|--ecma5|--ecma6|--ecma7|--ecma8|--ecma9|--ecma10</code>: Sets the ECMAScript version<br>to parse. Default is version 9.</p>
</li>
<li><p><code>--module</code>: Sets the parsing mode to <code>&quot;module&quot;</code>. Is set to <code>&quot;script&quot;</code> otherwise.</p>
</li>
<li><p><code>--locations</code>: Attaches a “loc” object to each node with “start” and<br>“end” subobjects, each of which contains the one-based line and<br>zero-based column numbers in <code>&#123;line, column&#125;</code> form.</p>
</li>
<li><p><code>--allow-hash-bang</code>: If the code starts with the characters #! (as<br>in a shellscript), the first line will be treated as a comment.</p>
</li>
<li><p><code>--allow-await-outside-function</code>: Allows top-level <code>await</code> expressions.<br>See the <code>allowAwaitOutsideFunction</code> option for more information.</p>
</li>
<li><p><code>--compact</code>: No whitespace is used in the AST output.</p>
</li>
<li><p><code>--silent</code>: Do not output the AST, just return the exit status.</p>
</li>
<li><p><code>--help</code>: Print the usage information and quit.</p>
</li>
</ul>
<p>The utility spits out the syntax tree as JSON data.</p>

        <h2 id="Existing-plugins"   >
          <a href="#Existing-plugins" class="heading-link"><i class="fas fa-link"></i></a><a href="#Existing-plugins" class="headerlink" title="Existing plugins"></a>Existing plugins</h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/RReverser/acorn-jsx"><code>acorn-jsx</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/facebook/jsx" >Facebook JSX syntax extensions</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
<p>Plugins for ECMAScript proposals:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-stage3"><code>acorn-stage3</code></a>: Parse most stage 3 proposals, bundling:<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-class-fields"><code>acorn-class-fields</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-class-fields" >class fields proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-import-meta"><code>acorn-import-meta</code></a>: Parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-import-meta" >import.meta proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="https://github.com/acornjs/acorn-private-methods"><code>acorn-private-methods</code></a>: parse <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-private-methods" >private methods, getters and setters proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>n</li>
</ul>
</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/acorn/CHANGELOG/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="8-2-1-2021-04-24"   >
          <a href="#8-2-1-2021-04-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-2-1-2021-04-24" class="headerlink" title="8.2.1 (2021-04-24)"></a>8.2.1 (2021-04-24)</h2>
      
        <h3 id="Bug-fixes"   >
          <a href="#Bug-fixes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a regression introduced in 8.2.0 where static or async class methods with keyword names fail to parse.</p>

        <h2 id="8-2-0-2021-04-24"   >
          <a href="#8-2-0-2021-04-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-2-0-2021-04-24" class="headerlink" title="8.2.0 (2021-04-24)"></a>8.2.0 (2021-04-24)</h2>
      
        <h3 id="New-features"   >
          <a href="#New-features" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for ES2022 class fields and private methods.</p>

        <h2 id="8-1-1-2021-04-12"   >
          <a href="#8-1-1-2021-04-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-1-1-2021-04-12" class="headerlink" title="8.1.1 (2021-04-12)"></a>8.1.1 (2021-04-12)</h2>
      
        <h3 id="Various"   >
          <a href="#Various" class="heading-link"><i class="fas fa-link"></i></a><a href="#Various" class="headerlink" title="Various"></a>Various</h3>
      <p>Stop shipping source maps in the NPM package.</p>

        <h2 id="8-1-0-2021-03-09"   >
          <a href="#8-1-0-2021-03-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-1-0-2021-03-09" class="headerlink" title="8.1.0 (2021-03-09)"></a>8.1.0 (2021-03-09)</h2>
      
        <h3 id="Bug-fixes-1"   >
          <a href="#Bug-fixes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-1" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a spurious error in nested destructuring arrays.</p>

        <h3 id="New-features-1"   >
          <a href="#New-features-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-1" class="headerlink" title="New features"></a>New features</h3>
      <p>Expose <code>allowAwaitOutsideFunction</code> in CLI interface.</p>
<p>Make <code>allowImportExportAnywhere</code> also apply to <code>import.meta</code>.</p>

        <h2 id="8-0-5-2021-01-25"   >
          <a href="#8-0-5-2021-01-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-5-2021-01-25" class="headerlink" title="8.0.5 (2021-01-25)"></a>8.0.5 (2021-01-25)</h2>
      
        <h3 id="Bug-fixes-2"   >
          <a href="#Bug-fixes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-2" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Adjust package.json to work with Node 12.16.0 and 13.0-13.6.</p>

        <h2 id="8-0-4-2020-10-05"   >
          <a href="#8-0-4-2020-10-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-4-2020-10-05" class="headerlink" title="8.0.4 (2020-10-05)"></a>8.0.4 (2020-10-05)</h2>
      
        <h3 id="Bug-fixes-3"   >
          <a href="#Bug-fixes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-3" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Make <code>await x ** y</code> an error, following the spec.</p>
<p>Fix potentially exponential regular expression.</p>

        <h2 id="8-0-3-2020-10-02"   >
          <a href="#8-0-3-2020-10-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-3-2020-10-02" class="headerlink" title="8.0.3 (2020-10-02)"></a>8.0.3 (2020-10-02)</h2>
      
        <h3 id="Bug-fixes-4"   >
          <a href="#Bug-fixes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-4" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a wasteful loop during <code>Parser</code> creation when setting <code>ecmaVersion</code> to <code>&quot;latest&quot;</code>.</p>

        <h2 id="8-0-2-2020-09-30"   >
          <a href="#8-0-2-2020-09-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-2-2020-09-30" class="headerlink" title="8.0.2 (2020-09-30)"></a>8.0.2 (2020-09-30)</h2>
      
        <h3 id="Bug-fixes-5"   >
          <a href="#Bug-fixes-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-5" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Make the TypeScript types reflect the current allowed values for <code>ecmaVersion</code>.</p>
<p>Fix another regexp&#x2F;division tokenizer issue.</p>

        <h2 id="8-0-1-2020-08-12"   >
          <a href="#8-0-1-2020-08-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-1-2020-08-12" class="headerlink" title="8.0.1 (2020-08-12)"></a>8.0.1 (2020-08-12)</h2>
      
        <h3 id="Bug-fixes-6"   >
          <a href="#Bug-fixes-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-6" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Provide the correct value in the <code>version</code> export.</p>

        <h2 id="8-0-0-2020-08-12"   >
          <a href="#8-0-0-2020-08-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-0-0-2020-08-12" class="headerlink" title="8.0.0 (2020-08-12)"></a>8.0.0 (2020-08-12)</h2>
      
        <h3 id="Bug-fixes-7"   >
          <a href="#Bug-fixes-7" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-7" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow expressions like <code>(a = b) = c</code>.</p>
<p>Make non-octal escape sequences a syntax error in strict mode.</p>

        <h3 id="New-features-2"   >
          <a href="#New-features-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-2" class="headerlink" title="New features"></a>New features</h3>
      <p>The package can now be loaded directly as an ECMAScript module in node 13+.</p>
<p>Update to the set of Unicode properties from ES2021.</p>

        <h3 id="Breaking-changes"   >
          <a href="#Breaking-changes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The <code>ecmaVersion</code> option is now required. For the moment, omitting it will still work with a warning, but that will change in a future release.</p>
<p>Some changes to method signatures that may be used by plugins.</p>

        <h2 id="7-4-0-2020-08-03"   >
          <a href="#7-4-0-2020-08-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-4-0-2020-08-03" class="headerlink" title="7.4.0 (2020-08-03)"></a>7.4.0 (2020-08-03)</h2>
      
        <h3 id="New-features-3"   >
          <a href="#New-features-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-3" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for logical assignment operators.</p>
<p>Add support for numeric separators.</p>

        <h2 id="7-3-1-2020-06-11"   >
          <a href="#7-3-1-2020-06-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-3-1-2020-06-11" class="headerlink" title="7.3.1 (2020-06-11)"></a>7.3.1 (2020-06-11)</h2>
      
        <h3 id="Bug-fixes-8"   >
          <a href="#Bug-fixes-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-8" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Make the string in the <code>version</code> export match the actual library version.</p>

        <h2 id="7-3-0-2020-06-11"   >
          <a href="#7-3-0-2020-06-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-3-0-2020-06-11" class="headerlink" title="7.3.0 (2020-06-11)"></a>7.3.0 (2020-06-11)</h2>
      
        <h3 id="Bug-fixes-9"   >
          <a href="#Bug-fixes-9" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-9" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a bug that caused parsing of object patterns with a property named <code>set</code> that had a default value to fail.</p>

        <h3 id="New-features-4"   >
          <a href="#New-features-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-4" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for optional chaining (<code>?.</code>).</p>

        <h2 id="7-2-0-2020-05-09"   >
          <a href="#7-2-0-2020-05-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-2-0-2020-05-09" class="headerlink" title="7.2.0 (2020-05-09)"></a>7.2.0 (2020-05-09)</h2>
      
        <h3 id="Bug-fixes-10"   >
          <a href="#Bug-fixes-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-10" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix precedence issue in parsing of async arrow functions.</p>

        <h3 id="New-features-5"   >
          <a href="#New-features-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-5" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for nullish coalescing.</p>
<p>Add support for <code>import.meta</code>.</p>
<p>Support <code>export * as ...</code> syntax.</p>
<p>Upgrade to Unicode 13.</p>

        <h2 id="6-4-1-2020-03-09"   >
          <a href="#6-4-1-2020-03-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-4-1-2020-03-09" class="headerlink" title="6.4.1 (2020-03-09)"></a>6.4.1 (2020-03-09)</h2>
      
        <h3 id="Bug-fixes-11"   >
          <a href="#Bug-fixes-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-11" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>More carefully check for valid UTF16 surrogate pairs in regexp validator.</p>

        <h2 id="7-1-1-2020-03-01"   >
          <a href="#7-1-1-2020-03-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-1-1-2020-03-01" class="headerlink" title="7.1.1 (2020-03-01)"></a>7.1.1 (2020-03-01)</h2>
      
        <h3 id="Bug-fixes-12"   >
          <a href="#Bug-fixes-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-12" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Treat <code>\8</code> and <code>\9</code> as invalid escapes in template strings.</p>
<p>Allow unicode escapes in property names that are keywords.</p>
<p>Don’t error on an exponential operator expression as argument to <code>await</code>.</p>
<p>More carefully check for valid UTF16 surrogate pairs in regexp validator.</p>

        <h2 id="7-1-0-2019-09-24"   >
          <a href="#7-1-0-2019-09-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-1-0-2019-09-24" class="headerlink" title="7.1.0 (2019-09-24)"></a>7.1.0 (2019-09-24)</h2>
      
        <h3 id="Bug-fixes-13"   >
          <a href="#Bug-fixes-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-13" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow trailing object literal commas when ecmaVersion is less than 5.</p>

        <h3 id="New-features-6"   >
          <a href="#New-features-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-6" class="headerlink" title="New features"></a>New features</h3>
      <p>Add a static <code>acorn</code> property to the <code>Parser</code> class that contains the entire module interface, to allow plugins to access the instance of the library that they are acting on.</p>

        <h2 id="7-0-0-2019-08-13"   >
          <a href="#7-0-0-2019-08-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-0-0-2019-08-13" class="headerlink" title="7.0.0 (2019-08-13)"></a>7.0.0 (2019-08-13)</h2>
      
        <h3 id="Breaking-changes-1"   >
          <a href="#Breaking-changes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-1" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>Changes the node format for dynamic imports to use the <code>ImportExpression</code> node type, as defined in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/estree/estree/blob/master/es2020.md#importexpression" >ESTree</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Makes 10 (ES2019) the default value for the <code>ecmaVersion</code> option.</p>

        <h2 id="6-3-0-2019-08-12"   >
          <a href="#6-3-0-2019-08-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-0-2019-08-12" class="headerlink" title="6.3.0 (2019-08-12)"></a>6.3.0 (2019-08-12)</h2>
      
        <h3 id="New-features-7"   >
          <a href="#New-features-7" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-7" class="headerlink" title="New features"></a>New features</h3>
      <p><code>sourceType: &quot;module&quot;</code> can now be used even when <code>ecmaVersion</code> is less than 6, to parse module-style code that otherwise conforms to an older standard.</p>

        <h2 id="6-2-1-2019-07-21"   >
          <a href="#6-2-1-2019-07-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-1-2019-07-21" class="headerlink" title="6.2.1 (2019-07-21)"></a>6.2.1 (2019-07-21)</h2>
      
        <h3 id="Bug-fixes-14"   >
          <a href="#Bug-fixes-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-14" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug causing Acorn to treat some characters as identifier characters that shouldn’t be treated as such.</p>
<p>Fix issue where setting the <code>allowReserved</code> option to <code>&quot;never&quot;</code> allowed reserved words in some circumstances.</p>

        <h2 id="6-2-0-2019-07-04"   >
          <a href="#6-2-0-2019-07-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-0-2019-07-04" class="headerlink" title="6.2.0 (2019-07-04)"></a>6.2.0 (2019-07-04)</h2>
      
        <h3 id="Bug-fixes-15"   >
          <a href="#Bug-fixes-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-15" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Improve valid assignment checking in <code>for</code>&#x2F;<code>in</code> and <code>for</code>&#x2F;<code>of</code> loops.</p>
<p>Disallow binding <code>let</code> in patterns.</p>

        <h3 id="New-features-8"   >
          <a href="#New-features-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-8" class="headerlink" title="New features"></a>New features</h3>
      <p>Support bigint syntax with <code>ecmaVersion</code> &gt;&#x3D; 11.</p>
<p>Support dynamic <code>import</code> syntax with <code>ecmaVersion</code> &gt;&#x3D; 11.</p>
<p>Upgrade to Unicode version 12.</p>

        <h2 id="6-1-1-2019-02-27"   >
          <a href="#6-1-1-2019-02-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-1-2019-02-27" class="headerlink" title="6.1.1 (2019-02-27)"></a>6.1.1 (2019-02-27)</h2>
      
        <h3 id="Bug-fixes-16"   >
          <a href="#Bug-fixes-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-16" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug that caused parsing default exports of with names to fail.</p>

        <h2 id="6-1-0-2019-02-08"   >
          <a href="#6-1-0-2019-02-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-0-2019-02-08" class="headerlink" title="6.1.0 (2019-02-08)"></a>6.1.0 (2019-02-08)</h2>
      
        <h3 id="Bug-fixes-17"   >
          <a href="#Bug-fixes-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-17" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix scope checking when redefining a <code>var</code> as a lexical binding.</p>

        <h3 id="New-features-9"   >
          <a href="#New-features-9" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-9" class="headerlink" title="New features"></a>New features</h3>
      <p>Split up <code>parseSubscripts</code> to use an internal <code>parseSubscript</code> method to make it easier to extend with plugins.</p>

        <h2 id="6-0-7-2019-02-04"   >
          <a href="#6-0-7-2019-02-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-7-2019-02-04" class="headerlink" title="6.0.7 (2019-02-04)"></a>6.0.7 (2019-02-04)</h2>
      
        <h3 id="Bug-fixes-18"   >
          <a href="#Bug-fixes-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-18" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Check that exported bindings are defined.</p>
<p>Don’t treat <code>\u180e</code> as a whitespace character.</p>
<p>Check for duplicate parameter names in methods.</p>
<p>Don’t allow shorthand properties when they are generators or async methods.</p>
<p>Forbid binding <code>await</code> in async arrow function’s parameter list.</p>

        <h2 id="6-0-6-2019-01-30"   >
          <a href="#6-0-6-2019-01-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-6-2019-01-30" class="headerlink" title="6.0.6 (2019-01-30)"></a>6.0.6 (2019-01-30)</h2>
      
        <h3 id="Bug-fixes-19"   >
          <a href="#Bug-fixes-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-19" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>The content of class declarations and expressions is now always parsed in strict mode.</p>
<p>Don’t allow <code>let</code> or <code>const</code> to bind the variable name <code>let</code>.</p>
<p>Treat class declarations as lexical.</p>
<p>Don’t allow a generator function declaration as the sole body of an <code>if</code> or <code>else</code>.</p>
<p>Ignore <code>&quot;use strict&quot;</code> when after an empty statement.</p>
<p>Allow string line continuations with special line terminator characters.</p>
<p>Treat <code>for</code> bodies as part of the <code>for</code> scope when checking for conflicting bindings.</p>
<p>Fix bug with parsing <code>yield</code> in a <code>for</code> loop initializer.</p>
<p>Implement special cases around scope checking for functions.</p>

        <h2 id="6-0-5-2019-01-02"   >
          <a href="#6-0-5-2019-01-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-5-2019-01-02" class="headerlink" title="6.0.5 (2019-01-02)"></a>6.0.5 (2019-01-02)</h2>
      
        <h3 id="Bug-fixes-20"   >
          <a href="#Bug-fixes-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-20" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix TypeScript type for <code>Parser.extend</code> and add <code>allowAwaitOutsideFunction</code> to options type.</p>
<p>Don’t treat <code>let</code> as a keyword when the next token is <code>&#123;</code> on the next line.</p>
<p>Fix bug that broke checking for parentheses around an object pattern in a destructuring assignment when <code>preserveParens</code> was on.</p>

        <h2 id="6-0-4-2018-11-05"   >
          <a href="#6-0-4-2018-11-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-4-2018-11-05" class="headerlink" title="6.0.4 (2018-11-05)"></a>6.0.4 (2018-11-05)</h2>
      
        <h3 id="Bug-fixes-21"   >
          <a href="#Bug-fixes-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-21" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Further improvements to tokenizing regular expressions in corner cases.</p>

        <h2 id="6-0-3-2018-11-04"   >
          <a href="#6-0-3-2018-11-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-3-2018-11-04" class="headerlink" title="6.0.3 (2018-11-04)"></a>6.0.3 (2018-11-04)</h2>
      
        <h3 id="Bug-fixes-22"   >
          <a href="#Bug-fixes-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-22" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug in tokenizing an expression-less return followed by a function followed by a regular expression.</p>
<p>Remove stray symlink in the package tarball.</p>

        <h2 id="6-0-2-2018-09-26"   >
          <a href="#6-0-2-2018-09-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-2-2018-09-26" class="headerlink" title="6.0.2 (2018-09-26)"></a>6.0.2 (2018-09-26)</h2>
      
        <h3 id="Bug-fixes-23"   >
          <a href="#Bug-fixes-23" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-23" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug where default expressions could fail to parse inside an object destructuring assignment expression.</p>

        <h2 id="6-0-1-2018-09-14"   >
          <a href="#6-0-1-2018-09-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-1-2018-09-14" class="headerlink" title="6.0.1 (2018-09-14)"></a>6.0.1 (2018-09-14)</h2>
      
        <h3 id="Bug-fixes-24"   >
          <a href="#Bug-fixes-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-24" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix wrong value in <code>version</code> export.</p>

        <h2 id="6-0-0-2018-09-14"   >
          <a href="#6-0-0-2018-09-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-0-2018-09-14" class="headerlink" title="6.0.0 (2018-09-14)"></a>6.0.0 (2018-09-14)</h2>
      
        <h3 id="Bug-fixes-25"   >
          <a href="#Bug-fixes-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-25" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Better handle variable-redefinition checks for catch bindings and functions directly under if statements.</p>
<p>Forbid <code>new.target</code> in top-level arrow functions.</p>
<p>Fix issue with parsing a regexp after <code>yield</code> in some contexts.</p>

        <h3 id="New-features-10"   >
          <a href="#New-features-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-10" class="headerlink" title="New features"></a>New features</h3>
      <p>The package now comes with TypeScript definitions.</p>

        <h3 id="Breaking-changes-2"   >
          <a href="#Breaking-changes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-2" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default value of the <code>ecmaVersion</code> option is now 9 (2018).</p>
<p>Plugins work differently, and will have to be rewritten to work with this version.</p>
<p>The loose parser and walker have been moved into separate packages (<code>acorn-loose</code> and <code>acorn-walk</code>).</p>

        <h2 id="5-7-3-2018-09-10"   >
          <a href="#5-7-3-2018-09-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-3-2018-09-10" class="headerlink" title="5.7.3 (2018-09-10)"></a>5.7.3 (2018-09-10)</h2>
      
        <h3 id="Bug-fixes-26"   >
          <a href="#Bug-fixes-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-26" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix failure to tokenize regexps after expressions like <code>x.of</code>.</p>
<p>Better error message for unterminated template literals.</p>

        <h2 id="5-7-2-2018-08-24"   >
          <a href="#5-7-2-2018-08-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-2-2018-08-24" class="headerlink" title="5.7.2 (2018-08-24)"></a>5.7.2 (2018-08-24)</h2>
      
        <h3 id="Bug-fixes-27"   >
          <a href="#Bug-fixes-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-27" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Properly handle <code>allowAwaitOutsideFunction</code> in for statements.</p>
<p>Treat function declarations at the top level of modules like let bindings.</p>
<p>Don’t allow async function declarations as the only statement under a label.</p>

        <h2 id="5-7-0-2018-06-15"   >
          <a href="#5-7-0-2018-06-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-7-0-2018-06-15" class="headerlink" title="5.7.0 (2018-06-15)"></a>5.7.0 (2018-06-15)</h2>
      
        <h3 id="New-features-11"   >
          <a href="#New-features-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-11" class="headerlink" title="New features"></a>New features</h3>
      <p>Upgraded to Unicode 11.</p>

        <h2 id="5-6-0-2018-05-31"   >
          <a href="#5-6-0-2018-05-31" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-6-0-2018-05-31" class="headerlink" title="5.6.0 (2018-05-31)"></a>5.6.0 (2018-05-31)</h2>
      
        <h3 id="New-features-12"   >
          <a href="#New-features-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-12" class="headerlink" title="New features"></a>New features</h3>
      <p>Allow U+2028 and U+2029 in string when ECMAVersion &gt;&#x3D; 10.</p>
<p>Allow binding-less catch statements when ECMAVersion &gt;&#x3D; 10.</p>
<p>Add <code>allowAwaitOutsideFunction</code> option for parsing top-level <code>await</code>.</p>

        <h2 id="5-5-3-2018-03-08"   >
          <a href="#5-5-3-2018-03-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-3-2018-03-08" class="headerlink" title="5.5.3 (2018-03-08)"></a>5.5.3 (2018-03-08)</h2>
      
        <h3 id="Bug-fixes-28"   >
          <a href="#Bug-fixes-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-28" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A <em>second</em> republish of the code in 5.5.1, this time with yarn, to hopefully get valid timestamps.</p>

        <h2 id="5-5-2-2018-03-08"   >
          <a href="#5-5-2-2018-03-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-2-2018-03-08" class="headerlink" title="5.5.2 (2018-03-08)"></a>5.5.2 (2018-03-08)</h2>
      
        <h3 id="Bug-fixes-29"   >
          <a href="#Bug-fixes-29" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-29" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A republish of the code in 5.5.1 in an attempt to solve an issue with the file timestamps in the npm package being 0.</p>

        <h2 id="5-5-1-2018-03-06"   >
          <a href="#5-5-1-2018-03-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-1-2018-03-06" class="headerlink" title="5.5.1 (2018-03-06)"></a>5.5.1 (2018-03-06)</h2>
      
        <h3 id="Bug-fixes-30"   >
          <a href="#Bug-fixes-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-30" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix misleading error message for octal escapes in template strings.</p>

        <h2 id="5-5-0-2018-02-27"   >
          <a href="#5-5-0-2018-02-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-5-0-2018-02-27" class="headerlink" title="5.5.0 (2018-02-27)"></a>5.5.0 (2018-02-27)</h2>
      
        <h3 id="New-features-13"   >
          <a href="#New-features-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-13" class="headerlink" title="New features"></a>New features</h3>
      <p>The identifier character categorization is now based on Unicode version 10.</p>
<p>Acorn will now validate the content of regular expressions, including new ES9 features.</p>

        <h2 id="5-4-0-2018-02-01"   >
          <a href="#5-4-0-2018-02-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-4-0-2018-02-01" class="headerlink" title="5.4.0 (2018-02-01)"></a>5.4.0 (2018-02-01)</h2>
      
        <h3 id="Bug-fixes-31"   >
          <a href="#Bug-fixes-31" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-31" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow duplicate or escaped flags on regular expressions.</p>
<p>Disallow octal escapes in strings in strict mode.</p>

        <h3 id="New-features-14"   >
          <a href="#New-features-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-14" class="headerlink" title="New features"></a>New features</h3>
      <p>Add support for async iteration.</p>
<p>Add support for object spread and rest.</p>

        <h2 id="5-3-0-2017-12-28"   >
          <a href="#5-3-0-2017-12-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-3-0-2017-12-28" class="headerlink" title="5.3.0 (2017-12-28)"></a>5.3.0 (2017-12-28)</h2>
      
        <h3 id="Bug-fixes-32"   >
          <a href="#Bug-fixes-32" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-32" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix parsing of floating point literals with leading zeroes in loose mode.</p>
<p>Allow duplicate property names in object patterns.</p>
<p>Don’t allow static class methods named <code>prototype</code>.</p>
<p>Disallow async functions directly under <code>if</code> or <code>else</code>.</p>
<p>Parse right-hand-side of <code>for</code>&#x2F;<code>of</code> as an assignment expression.</p>
<p>Stricter parsing of <code>for</code>&#x2F;<code>in</code>.</p>
<p>Don’t allow unicode escapes in contextual keywords.</p>

        <h3 id="New-features-15"   >
          <a href="#New-features-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-15" class="headerlink" title="New features"></a>New features</h3>
      <p>Parsing class members was factored into smaller methods to allow plugins to hook into it.</p>

        <h2 id="5-2-1-2017-10-30"   >
          <a href="#5-2-1-2017-10-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-1-2017-10-30" class="headerlink" title="5.2.1 (2017-10-30)"></a>5.2.1 (2017-10-30)</h2>
      
        <h3 id="Bug-fixes-33"   >
          <a href="#Bug-fixes-33" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-33" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix a token context corruption bug.</p>

        <h2 id="5-2-0-2017-10-30"   >
          <a href="#5-2-0-2017-10-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-0-2017-10-30" class="headerlink" title="5.2.0 (2017-10-30)"></a>5.2.0 (2017-10-30)</h2>
      
        <h3 id="Bug-fixes-34"   >
          <a href="#Bug-fixes-34" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-34" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix token context tracking for <code>class</code> and <code>function</code> in property-name position.</p>
<p>Make sure <code>%*</code> isn’t parsed as a valid operator.</p>
<p>Allow shorthand properties <code>get</code> and <code>set</code> to be followed by default values.</p>
<p>Disallow <code>super</code> when not in callee or object position.</p>

        <h3 id="New-features-16"   >
          <a href="#New-features-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-16" class="headerlink" title="New features"></a>New features</h3>
      <p>Support <a target="_blank" rel="noopener" href="https://github.com/estree/estree/compare/b3de58c9997504d6fba04b72f76e6dd1619ee4eb...1da8e603237144f44710360f8feb7a9977e905e0"><code>directive</code> property</a> on directive expression statements.</p>

        <h2 id="5-1-2-2017-09-04"   >
          <a href="#5-1-2-2017-09-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-2-2017-09-04" class="headerlink" title="5.1.2 (2017-09-04)"></a>5.1.2 (2017-09-04)</h2>
      
        <h3 id="Bug-fixes-35"   >
          <a href="#Bug-fixes-35" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-35" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disable parsing of legacy HTML-style comments in modules.</p>
<p>Fix parsing of async methods whose names are keywords.</p>

        <h2 id="5-1-1-2017-07-06"   >
          <a href="#5-1-1-2017-07-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-1-2017-07-06" class="headerlink" title="5.1.1 (2017-07-06)"></a>5.1.1 (2017-07-06)</h2>
      
        <h3 id="Bug-fixes-36"   >
          <a href="#Bug-fixes-36" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-36" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix problem with disambiguating regexp and division after a class.</p>

        <h2 id="5-1-0-2017-07-05"   >
          <a href="#5-1-0-2017-07-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-0-2017-07-05" class="headerlink" title="5.1.0 (2017-07-05)"></a>5.1.0 (2017-07-05)</h2>
      
        <h3 id="Bug-fixes-37"   >
          <a href="#Bug-fixes-37" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-37" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix tokenizing of regexps in an object-desctructuring <code>for</code>&#x2F;<code>of</code> loop and after <code>yield</code>.</p>
<p>Parse zero-prefixed numbers with non-octal digits as decimal.</p>
<p>Allow object&#x2F;array patterns in rest parameters.</p>
<p>Don’t error when <code>yield</code> is used as a property name.</p>
<p>Allow <code>async</code> as a shorthand object property.</p>

        <h3 id="New-features-17"   >
          <a href="#New-features-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-17" class="headerlink" title="New features"></a>New features</h3>
      <p>Implement the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tc39/proposal-template-literal-revision" >template literal revision proposal</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for ES9.</p>

        <h2 id="5-0-3-2017-04-01"   >
          <a href="#5-0-3-2017-04-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-3-2017-04-01" class="headerlink" title="5.0.3 (2017-04-01)"></a>5.0.3 (2017-04-01)</h2>
      
        <h3 id="Bug-fixes-38"   >
          <a href="#Bug-fixes-38" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-38" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix spurious duplicate variable definition errors for named functions.</p>

        <h2 id="5-0-2-2017-03-30"   >
          <a href="#5-0-2-2017-03-30" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-2-2017-03-30" class="headerlink" title="5.0.2 (2017-03-30)"></a>5.0.2 (2017-03-30)</h2>
      
        <h3 id="Bug-fixes-39"   >
          <a href="#Bug-fixes-39" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-39" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>A binary operator after a parenthesized arrow expression is no longer incorrectly treated as an error.</p>

        <h2 id="5-0-0-2017-03-28"   >
          <a href="#5-0-0-2017-03-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-0-2017-03-28" class="headerlink" title="5.0.0 (2017-03-28)"></a>5.0.0 (2017-03-28)</h2>
      
        <h3 id="Bug-fixes-40"   >
          <a href="#Bug-fixes-40" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-40" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Raise an error for duplicated lexical bindings.</p>
<p>Fix spurious error when an assignement expression occurred after a spread expression.</p>
<p>Accept regular expressions after <code>of</code> (in <code>for</code>&#x2F;<code>of</code>), <code>yield</code> (in a generator), and braced arrow functions.</p>
<p>Allow labels in front or <code>var</code> declarations, even in strict mode.</p>

        <h3 id="Breaking-changes-3"   >
          <a href="#Breaking-changes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-3" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>Parse declarations following <code>export default</code> as declaration nodes, not expressions. This means that class and function declarations nodes can now have <code>null</code> as their <code>id</code>.</p>

        <h2 id="4-0-11-2017-02-07"   >
          <a href="#4-0-11-2017-02-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-11-2017-02-07" class="headerlink" title="4.0.11 (2017-02-07)"></a>4.0.11 (2017-02-07)</h2>
      
        <h3 id="Bug-fixes-41"   >
          <a href="#Bug-fixes-41" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-41" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Allow all forms of member expressions to be parenthesized as lvalue.</p>

        <h2 id="4-0-10-2017-02-07"   >
          <a href="#4-0-10-2017-02-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-10-2017-02-07" class="headerlink" title="4.0.10 (2017-02-07)"></a>4.0.10 (2017-02-07)</h2>
      
        <h3 id="Bug-fixes-42"   >
          <a href="#Bug-fixes-42" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-42" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Don’t expect semicolons after default-exported functions or classes, even when they are expressions.</p>
<p>Check for use of <code>&#39;use strict&#39;</code> directives in non-simple parameter functions, even when already in strict mode.</p>

        <h2 id="4-0-9-2017-02-06"   >
          <a href="#4-0-9-2017-02-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-9-2017-02-06" class="headerlink" title="4.0.9 (2017-02-06)"></a>4.0.9 (2017-02-06)</h2>
      
        <h3 id="Bug-fixes-43"   >
          <a href="#Bug-fixes-43" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-43" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix incorrect error raised for parenthesized simple assignment targets, so that <code>(x) = 1</code> parses again.</p>

        <h2 id="4-0-8-2017-02-03"   >
          <a href="#4-0-8-2017-02-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-8-2017-02-03" class="headerlink" title="4.0.8 (2017-02-03)"></a>4.0.8 (2017-02-03)</h2>
      
        <h3 id="Bug-fixes-44"   >
          <a href="#Bug-fixes-44" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-44" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Solve spurious parenthesized pattern errors by temporarily erring on the side of accepting programs that our delayed errors don’t handle correctly yet.</p>

        <h2 id="4-0-7-2017-02-02"   >
          <a href="#4-0-7-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-7-2017-02-02" class="headerlink" title="4.0.7 (2017-02-02)"></a>4.0.7 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-45"   >
          <a href="#Bug-fixes-45" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-45" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Accept invalidly rejected code like <code>(x).y = 2</code> again.</p>
<p>Don’t raise an error when a function <em>inside</em> strict code has a non-simple parameter list.</p>

        <h2 id="4-0-6-2017-02-02"   >
          <a href="#4-0-6-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-6-2017-02-02" class="headerlink" title="4.0.6 (2017-02-02)"></a>4.0.6 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-46"   >
          <a href="#Bug-fixes-46" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-46" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix exponential behavior (manifesting itself as a complete hang for even relatively small source files) introduced by the new ‘use strict’ check.</p>

        <h2 id="4-0-5-2017-02-02"   >
          <a href="#4-0-5-2017-02-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-5-2017-02-02" class="headerlink" title="4.0.5 (2017-02-02)"></a>4.0.5 (2017-02-02)</h2>
      
        <h3 id="Bug-fixes-47"   >
          <a href="#Bug-fixes-47" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-47" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Disallow parenthesized pattern expressions.</p>
<p>Allow keywords as export names.</p>
<p>Don’t allow the <code>async</code> keyword to be parenthesized.</p>
<p>Properly raise an error when a keyword contains a character escape.</p>
<p>Allow <code>&quot;use strict&quot;</code> to appear after other string literal expressions.</p>
<p>Disallow labeled declarations.</p>

        <h2 id="4-0-4-2016-12-19"   >
          <a href="#4-0-4-2016-12-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-4-2016-12-19" class="headerlink" title="4.0.4 (2016-12-19)"></a>4.0.4 (2016-12-19)</h2>
      
        <h3 id="Bug-fixes-48"   >
          <a href="#Bug-fixes-48" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-48" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix crash when <code>export</code> was followed by a keyword that can’t be<br>exported.</p>

        <h2 id="4-0-3-2016-08-16"   >
          <a href="#4-0-3-2016-08-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-3-2016-08-16" class="headerlink" title="4.0.3 (2016-08-16)"></a>4.0.3 (2016-08-16)</h2>
      
        <h3 id="Bug-fixes-49"   >
          <a href="#Bug-fixes-49" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-49" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Allow regular function declarations inside single-statement <code>if</code> branches in loose mode. Forbid them entirely in strict mode.</p>
<p>Properly parse properties named <code>async</code> in ES2017 mode.</p>
<p>Fix bug where reserved words were broken in ES2017 mode.</p>

        <h2 id="4-0-2-2016-08-11"   >
          <a href="#4-0-2-2016-08-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-2-2016-08-11" class="headerlink" title="4.0.2 (2016-08-11)"></a>4.0.2 (2016-08-11)</h2>
      
        <h3 id="Bug-fixes-50"   >
          <a href="#Bug-fixes-50" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-50" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Don’t ignore period or ‘e’ characters after octal numbers.</p>
<p>Fix broken parsing for call expressions in default parameter values of arrow functions.</p>

        <h2 id="4-0-1-2016-08-08"   >
          <a href="#4-0-1-2016-08-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-1-2016-08-08" class="headerlink" title="4.0.1 (2016-08-08)"></a>4.0.1 (2016-08-08)</h2>
      
        <h3 id="Bug-fixes-51"   >
          <a href="#Bug-fixes-51" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-51" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix false positives in duplicated export name errors.</p>

        <h2 id="4-0-0-2016-08-07"   >
          <a href="#4-0-0-2016-08-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-0-2016-08-07" class="headerlink" title="4.0.0 (2016-08-07)"></a>4.0.0 (2016-08-07)</h2>
      
        <h3 id="Breaking-changes-4"   >
          <a href="#Breaking-changes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-4" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default <code>ecmaVersion</code> option value is now 7.</p>
<p>A number of internal method signatures changed, so plugins might need to be updated.</p>

        <h3 id="Bug-fixes-52"   >
          <a href="#Bug-fixes-52" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-52" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>The parser now raises errors on duplicated export names.</p>
<p><code>arguments</code> and <code>eval</code> can now be used in shorthand properties.</p>
<p>Duplicate parameter names in non-simple argument lists now always produce an error.</p>

        <h3 id="New-features-18"   >
          <a href="#New-features-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-18" class="headerlink" title="New features"></a>New features</h3>
      <p>The <code>ecmaVersion</code> option now also accepts year-style version numbers<br>(2015, etc).</p>
<p>Support for <code>async</code>&#x2F;<code>await</code> syntax when <code>ecmaVersion</code> is &gt;&#x3D; 8.</p>
<p>Support for trailing commas in call expressions when <code>ecmaVersion</code> is &gt;&#x3D; 8.</p>

        <h2 id="3-3-0-2016-07-25"   >
          <a href="#3-3-0-2016-07-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-0-2016-07-25" class="headerlink" title="3.3.0 (2016-07-25)"></a>3.3.0 (2016-07-25)</h2>
      
        <h3 id="Bug-fixes-53"   >
          <a href="#Bug-fixes-53" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-53" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Fix bug in tokenizing of regexp operator after a function declaration.</p>
<p>Fix parser crash when parsing an array pattern with a hole.</p>

        <h3 id="New-features-19"   >
          <a href="#New-features-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-19" class="headerlink" title="New features"></a>New features</h3>
      <p>Implement check against complex argument lists in functions that enable strict mode in ES7.</p>

        <h2 id="3-2-0-2016-06-07"   >
          <a href="#3-2-0-2016-06-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-0-2016-06-07" class="headerlink" title="3.2.0 (2016-06-07)"></a>3.2.0 (2016-06-07)</h2>
      
        <h3 id="Bug-fixes-54"   >
          <a href="#Bug-fixes-54" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-54" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Improve handling of lack of unicode regexp support in host<br>environment.</p>
<p>Properly reject shorthand properties whose name is a keyword.</p>

        <h3 id="New-features-20"   >
          <a href="#New-features-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-20" class="headerlink" title="New features"></a>New features</h3>
      <p>Visitors created with <code>visit.make</code> now have their base as <em>prototype</em>, rather than copying properties into a fresh object.</p>

        <h2 id="3-1-0-2016-04-18"   >
          <a href="#3-1-0-2016-04-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-0-2016-04-18" class="headerlink" title="3.1.0 (2016-04-18)"></a>3.1.0 (2016-04-18)</h2>
      
        <h3 id="Bug-fixes-55"   >
          <a href="#Bug-fixes-55" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bug-fixes-55" class="headerlink" title="Bug fixes"></a>Bug fixes</h3>
      <p>Properly tokenize the division operator directly after a function expression.</p>
<p>Allow trailing comma in destructuring arrays.</p>

        <h2 id="3-0-4-2016-02-25"   >
          <a href="#3-0-4-2016-02-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-4-2016-02-25" class="headerlink" title="3.0.4 (2016-02-25)"></a>3.0.4 (2016-02-25)</h2>
      
        <h3 id="Fixes"   >
          <a href="#Fixes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Allow update expressions as left-hand-side of the ES7 exponential operator.</p>

        <h2 id="3-0-2-2016-02-10"   >
          <a href="#3-0-2-2016-02-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-2-2016-02-10" class="headerlink" title="3.0.2 (2016-02-10)"></a>3.0.2 (2016-02-10)</h2>
      
        <h3 id="Fixes-1"   >
          <a href="#Fixes-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-1" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Fix bug that accidentally made <code>undefined</code> a reserved word when parsing ES7.</p>

        <h2 id="3-0-0-2016-02-10"   >
          <a href="#3-0-0-2016-02-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-0-2016-02-10" class="headerlink" title="3.0.0 (2016-02-10)"></a>3.0.0 (2016-02-10)</h2>
      
        <h3 id="Breaking-changes-5"   >
          <a href="#Breaking-changes-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#Breaking-changes-5" class="headerlink" title="Breaking changes"></a>Breaking changes</h3>
      <p>The default value of the <code>ecmaVersion</code> option is now 6 (used to be 5).</p>
<p>Support for comprehension syntax (which was dropped from the draft spec) has been removed.</p>

        <h3 id="Fixes-2"   >
          <a href="#Fixes-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-2" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p><code>let</code> and <code>yield</code> are now “contextual keywords”, meaning you can mostly use them as identifiers in ES5 non-strict code.</p>
<p>A parenthesized class or function expression after <code>export default</code> is now parsed correctly.</p>

        <h3 id="New-features-21"   >
          <a href="#New-features-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-21" class="headerlink" title="New features"></a>New features</h3>
      <p>When <code>ecmaVersion</code> is set to 7, Acorn will parse the exponentiation operator (<code>**</code>).</p>
<p>The identifier character ranges are now based on Unicode 8.0.0.</p>
<p>Plugins can now override the <code>raiseRecoverable</code> method to override the way non-critical errors are handled.</p>

        <h2 id="2-7-0-2016-01-04"   >
          <a href="#2-7-0-2016-01-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-7-0-2016-01-04" class="headerlink" title="2.7.0 (2016-01-04)"></a>2.7.0 (2016-01-04)</h2>
      
        <h3 id="Fixes-3"   >
          <a href="#Fixes-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-3" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Stop allowing rest parameters in setters.</p>
<p>Disallow <code>y</code> rexexp flag in ES5.</p>
<p>Disallow <code>\00</code> and <code>\000</code> escapes in strict mode.</p>
<p>Raise an error when an import name is a reserved word.</p>

        <h2 id="2-6-2-2015-11-10"   >
          <a href="#2-6-2-2015-11-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-6-2-2015-11-10" class="headerlink" title="2.6.2 (2015-11-10)"></a>2.6.2 (2015-11-10)</h2>
      
        <h3 id="Fixes-4"   >
          <a href="#Fixes-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-4" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Don’t crash when no options object is passed.</p>

        <h2 id="2-6-0-2015-11-09"   >
          <a href="#2-6-0-2015-11-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-6-0-2015-11-09" class="headerlink" title="2.6.0 (2015-11-09)"></a>2.6.0 (2015-11-09)</h2>
      
        <h3 id="Fixes-5"   >
          <a href="#Fixes-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-5" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Add <code>await</code> as a reserved word in module sources.</p>
<p>Disallow <code>yield</code> in a parameter default value for a generator.</p>
<p>Forbid using a comma after a rest pattern in an array destructuring.</p>

        <h3 id="New-features-22"   >
          <a href="#New-features-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#New-features-22" class="headerlink" title="New features"></a>New features</h3>
      <p>Support parsing stdin in command-line tool.</p>

        <h2 id="2-5-0-2015-10-27"   >
          <a href="#2-5-0-2015-10-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-5-0-2015-10-27" class="headerlink" title="2.5.0 (2015-10-27)"></a>2.5.0 (2015-10-27)</h2>
      
        <h3 id="Fixes-6"   >
          <a href="#Fixes-6" class="heading-link"><i class="fas fa-link"></i></a><a href="#Fixes-6" class="headerlink" title="Fixes"></a>Fixes</h3>
      <p>Fix tokenizer support in the command-line tool.</p>
<p>Stop allowing <code>new.target</code> outside of functions.</p>
<p>Remove legacy <code>guard</code> and <code>guardedHandler</code> properties from try nodes.</p>
<p>Stop allowing multiple <code>__proto__</code> properties on an object literal in strict mode.</p>
<p>Don’t allow rest parameters to be non-identifier patterns.</p>
<p>Check for duplicate paramter names in arrow functions.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/abab/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="abab"   >
          <a href="#abab" class="heading-link"><i class="fas fa-link"></i></a><a href="#abab" class="headerlink" title="abab  "></a>abab <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/abab"><img src="https://badge.fury.io/js/abab.svg" alt="npm version"></a> <a target="_blank" rel="noopener" href="https://travis-ci.org/jsdom/abab"><img   src="https://travis-ci.org/jsdom/abab.svg?branch=master" style=""  alt="Build Status"></a></h1>
      <p>A JavaScript module that implements <code>window.atob</code> and <code>window.btoa</code> according the forgiving-base64 algorithm in the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://infra.spec.whatwg.org/#forgiving-base64" >Infra Standard</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. The original code was forked from <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/w3c/web-platform-tests/blob/master/html/webappapis/atob/base64.html" >w3c&#x2F;web-platform-tests</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Compatibility: Node.js version 3+ and all major browsers.</p>
<p>Install with <code>npm</code>:</p>
<figure class="highlight sh"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install abab</span><br></pre></td></tr></table></div></figure>


        <h2 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h2>
      
        <h3 id="btoa-base64-encode"   >
          <a href="#btoa-base64-encode" class="heading-link"><i class="fas fa-link"></i></a><a href="#btoa-base64-encode" class="headerlink" title="btoa (base64 encode)"></a><code>btoa</code> (base64 encode)</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; btoa &#125; = <span class="built_in">require</span>(<span class="string">&#x27;abab&#x27;</span>);</span><br><span class="line"><span class="title function_">btoa</span>(<span class="string">&#x27;Hello, world!&#x27;</span>); <span class="comment">// &#x27;SGVsbG8sIHdvcmxkIQ==&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="atob-base64-decode"   >
          <a href="#atob-base64-decode" class="heading-link"><i class="fas fa-link"></i></a><a href="#atob-base64-decode" class="headerlink" title="atob (base64 decode)"></a><code>atob</code> (base64 decode)</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; atob &#125; = <span class="built_in">require</span>(<span class="string">&#x27;abab&#x27;</span>);</span><br><span class="line"><span class="title function_">atob</span>(<span class="string">&#x27;SGVsbG8sIHdvcmxkIQ==&#x27;</span>); <span class="comment">// &#x27;Hello, world!&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="Valid-characters"   >
          <a href="#Valid-characters" class="heading-link"><i class="fas fa-link"></i></a><a href="#Valid-characters" class="headerlink" title="Valid characters"></a>Valid characters</h4>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/webappapis.html#atob:dom-windowbase64-btoa-3" >Per the spec</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, <code>btoa</code> will accept strings “containing only characters in the range <code>U+0000</code> to <code>U+00FF</code>.” If passed a string with characters above <code>U+00FF</code>, <code>btoa</code> will return <code>null</code>. If <code>atob</code> is passed a string that is not base64-valid, it will also return <code>null</code>. In both cases when <code>null</code> is returned, the spec calls for throwing a <code>DOMException</code> of type <code>InvalidCharacterError</code>.</p>

        <h2 id="Browsers"   >
          <a href="#Browsers" class="heading-link"><i class="fas fa-link"></i></a><a href="#Browsers" class="headerlink" title="Browsers"></a>Browsers</h2>
      <p>If you want to include just one of the methods to save bytes in your client-side code, you can <code>require</code> the desired module directly.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> atob = <span class="built_in">require</span>(<span class="string">&#x27;abab/lib/atob&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> btoa = <span class="built_in">require</span>(<span class="string">&#x27;abab/lib/btoa&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Development"   >
          <a href="#Development" class="heading-link"><i class="fas fa-link"></i></a><a href="#Development" class="headerlink" title="Development"></a>Development</h2>
      <p>If you’re <strong>submitting a PR</strong> or <strong>deploying to npm</strong>, please use the <a href="CONTRIBUTING.md#checklists">checklists in CONTRIBUTING.md</a>.</p>

        <h2 id="Remembering-what-atob-and-btoa-stand-for"   >
          <a href="#Remembering-what-atob-and-btoa-stand-for" class="heading-link"><i class="fas fa-link"></i></a><a href="#Remembering-what-atob-and-btoa-stand-for" class="headerlink" title="Remembering what atob and btoa stand for"></a>Remembering what <code>atob</code> and <code>btoa</code> stand for</h2>
      <p>Base64 comes from IETF <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc4648#section-4" >RFC 4648</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (2006). </p>
<ul>
<li><strong><code>btoa</code></strong>, the encoder function, stands for <strong>binary</strong> to <strong>ASCII</strong>, meaning it converts any binary input into a subset of <strong>ASCII</strong> (Base64).</li>
<li><strong><code>atob</code></strong>, the decoder function, converts <strong>ASCII</strong> (or Base64) to its original <strong>binary</strong> format.</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/abab/LICENSE/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt"><p>Copyright © 2019 W3C and Jeff Carpenter &lt;<span class="exturl"><a class="exturl__link"   href="mailto:&#106;&#101;&#x66;&#x66;&#99;&#x61;&#114;&#112;&#x40;&#99;&#x68;&#114;&#x6f;&#109;&#x69;&#117;&#x6d;&#x2e;&#x6f;&#x72;&#x67;" >&#106;&#101;&#x66;&#x66;&#99;&#x61;&#114;&#112;&#x40;&#99;&#x68;&#114;&#x6f;&#109;&#x69;&#117;&#x6d;&#x2e;&#x6f;&#x72;&#x67;</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>&gt;</p>
<p>Both the original source code and new contributions in this repository are released under the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://opensource.org/licenses/BSD-3-Clause" >3-Clause BSD license</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h1 id="The-3-Clause-BSD-License"   >
          <a href="#The-3-Clause-BSD-License" class="heading-link"><i class="fas fa-link"></i></a><a href="#The-3-Clause-BSD-License" class="headerlink" title="The 3-Clause BSD License"></a>The 3-Clause BSD License</h1>
      <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol>
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and&#x2F;or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/abab/CHANGELOG/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="2-0-5"   >
          <a href="#2-0-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-5" class="headerlink" title="2.0.5"></a>2.0.5</h2>
      <ul>
<li>Use a lookup string in atobLookup and btoaLookup (@GiovanniFrigo in #38)</li>
<li>Dependency updates</li>
</ul>

        <h2 id="2-0-4"   >
          <a href="#2-0-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-4" class="headerlink" title="2.0.4"></a>2.0.4</h2>
      <ul>
<li>Dependency updates</li>
</ul>

        <h2 id="2-0-3"   >
          <a href="#2-0-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-3" class="headerlink" title="2.0.3"></a>2.0.3</h2>
      <ul>
<li>Use standard wording for BSD-3-Clause license (@PhilippWendler)</li>
</ul>

        <h2 id="2-0-2"   >
          <a href="#2-0-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-2" class="headerlink" title="2.0.2"></a>2.0.2</h2>
      <ul>
<li>Correct license in <code>package.json</code> (@Haegin)</li>
</ul>

        <h2 id="2-0-1"   >
          <a href="#2-0-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-1" class="headerlink" title="2.0.1"></a>2.0.1</h2>
      <ul>
<li>Add TypeScript type definitions, thanks to @LinusU</li>
</ul>

        <h2 id="2-0-0"   >
          <a href="#2-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-0" class="headerlink" title="2.0.0"></a>2.0.0</h2>
      <p>Modernization updates thanks to @TimothyGu:</p>
<ul>
<li>Use jsdom’s eslint config, remove jscs</li>
<li>Move syntax to ES6</li>
<li>Remove Babel</li>
<li>Via: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jsdom/abab/pull/26" >https://github.com/jsdom/abab/pull/26</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h2 id="1-0-4"   >
          <a href="#1-0-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-4" class="headerlink" title="1.0.4"></a>1.0.4</h2>
      <ul>
<li>Added license file</li>
</ul>

        <h2 id="1-0-3"   >
          <a href="#1-0-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-3" class="headerlink" title="1.0.3"></a>1.0.3</h2>
      <ul>
<li>Replaced <code>let</code> with <code>var</code> in <code>lib/btoa.js</code><ul>
<li>Follow up from <code>1.0.2</code></li>
<li>Resolves <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jsdom/abab/issues/18" >https://github.com/jsdom/abab/issues/18</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
</li>
</ul>

        <h2 id="1-0-2"   >
          <a href="#1-0-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-2" class="headerlink" title="1.0.2"></a>1.0.2</h2>
      <ul>
<li>Replaced <code>const</code> with <code>var</code> in <code>index.js</code><ul>
<li>Allows use of <code>abab</code> in the browser without a transpilation step</li>
<li>Resolves <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jsdom/abab/issues/15" >https://github.com/jsdom/abab/issues/15</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2023-02-20</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="数据存储"   >
          <a href="#数据存储" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据存储" class="headerlink" title="数据存储"></a>数据存储</h1>
      
        <h2 id="1-javaScript数据类型"   >
          <a href="#1-javaScript数据类型" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-javaScript数据类型" class="headerlink" title="1. javaScript数据类型"></a>1. javaScript数据类型</h2>
      
        <h3 id="1-1-（6-3）"   >
          <a href="#1-1-（6-3）" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-（6-3）" class="headerlink" title="1.1 （6+3）"></a>1.1 （6+3）</h3>
      <p>**值类型(基本类型)**：字符串（String）、数字(Number)、布尔(Boolean)、空（Null）、未定义（Undefined）、Symbol。</p>
<p><strong>引用数据类型（对象类型）</strong>：对象(Object)、数组(Array)、函数(Function)，还有两个特殊的对象：正则（RegExp）和日期（Date）。</p>

        <h2 id="2-判断数据类型的几种方法"   >
          <a href="#2-判断数据类型的几种方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-判断数据类型的几种方法" class="headerlink" title="2. 判断数据类型的几种方法"></a>2. 判断数据类型的几种方法</h2>
      
        <h3 id="2-1-typeof-常用于判断基本数据类型，对于引用数据类型全部返回Object"   >
          <a href="#2-1-typeof-常用于判断基本数据类型，对于引用数据类型全部返回Object" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-typeof-常用于判断基本数据类型，对于引用数据类型全部返回Object" class="headerlink" title="2.1 typeof(常用于判断基本数据类型，对于引用数据类型全部返回Object)"></a>2.1 typeof(常用于判断基本数据类型，对于引用数据类型全部返回Object)</h3>
      <ul>
<li><p>语法： typeof   [检测数据]     返回数据的类型名称</p>
</li>
<li><p>特点</p>
<ul>
<li>对于基本类型，除 null 以外，均可以返回正确的结果。</li>
<li>对于引用类型，除 function 以外，一律返回 object 类型。</li>
<li>对于 null ，返回 object 类型。</li>
<li>对于 function 返回  function 类型。</li>
</ul>
</li>
</ul>

        <h3 id="2-2-instanceof（检测某一个实例的原型链上是否有这个类的原型属性）"   >
          <a href="#2-2-instanceof（检测某一个实例的原型链上是否有这个类的原型属性）" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-instanceof（检测某一个实例的原型链上是否有这个类的原型属性）" class="headerlink" title="2.2 *instanceof（检测某一个实例的原型链上是否有这个类的原型属性）"></a>2.2 *instanceof（检测某一个实例的原型链上是否有这个类的原型属性）</h3>
      <ul>
<li><p>语法：[监测数据] instanceof [class]  ：返回true或false</p>
</li>
<li><p>特点：</p>
<ul>
<li>可以区分复杂数据类型</li>
<li>只要在当前实例的原型链上，我们用其检测出来的结果都是true</li>
<li>基本类型值检测繁琐，且检测不全(undefined, null, symbol)</li>
</ul>
</li>
<li><p>原理：验证当前类的原型prototype是否会出现在实例的原型链__proto__上，只要在它的原型链上，则结果都为true。因此，<code>instanceof</code> 在查找的过程中会遍历左边变量的原型链，直到找到右边变量的 <code>prototype</code>，找到返回true，未找到返回false</p>
</li>
<li><p>*手写instanceof</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myinstanceOf_</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> proto = left.<span class="property">__proto__</span>;</span><br><span class="line">            <span class="keyword">let</span> prototype = right.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (proto == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">                <span class="keyword">if</span> (proto == prototype) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                proto = proto.<span class="property">__proto__</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></div></figure></li>
</ul>

        <h3 id="2-3-constructor-用于引用数据类型"   >
          <a href="#2-3-constructor-用于引用数据类型" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-constructor-用于引用数据类型" class="headerlink" title="2.3 constructor (用于引用数据类型)"></a>2.3 constructor (用于引用数据类型)</h3>
      <ul>
<li>语法： 检测数据.constructor &#x3D;&#x3D;&#x3D; class</li>
<li>特点：<ul>
<li>适合使用在引用数据类型上</li>
<li>原型链不会干扰</li>
</ul>
</li>
<li>原理：构造函数原型上有一个 constructor 属性指向构造函数自身的，如果在实例上使用 construtor 时，就会直接使用其构造函数原型的上的该属性，并指向其构造函数。</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person1.<span class="property">constructor</span> === <span class="title class_">Person</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="2-4-Object-prototype-toString-call-（对象原型链判断方法）"   >
          <a href="#2-4-Object-prototype-toString-call-（对象原型链判断方法）" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-4-Object-prototype-toString-call-（对象原型链判断方法）" class="headerlink" title="2.4 Object.prototype.toString.call()（对象原型链判断方法）"></a>2.4 Object.prototype.toString.call()（对象原型链判断方法）</h3>
      <ul>
<li>语法：Object.prototype.toString.call(检测数据)   </li>
<li>特点：适用于所有类型的判断检测</li>
<li>原理：Object.prototype.toString 表示一个返回对象类型的字符串，call()方法可以改变this的指向，那么把Object.prototype.toString()方法指向不同的数据类型上面，返回不同的结果</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//由于 JavaScript 的类型检测不够严格，例如 typeof null 返回的是 &quot;object&quot;，而不是 &quot;null&quot;，因此 Object.prototype.toString.call() 方法经常用于确定对象的确切类型。以下是一些常见的用法示例</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([]); <span class="comment">// &quot;[object Array]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(&#123;&#125;); <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">null</span>); <span class="comment">// &quot;[object Null]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">undefined</span>); <span class="comment">// &quot;[object Undefined]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="number">123</span>); <span class="comment">// &quot;[object Number]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="string">&quot;hello&quot;</span>); <span class="comment">// &quot;[object String]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">true</span>); <span class="comment">// &quot;[object Boolean]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;); <span class="comment">// &quot;[object Function]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()); <span class="comment">// &quot;[object Date]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="regexp">/regex/</span>); <span class="comment">// &quot;[object RegExp]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Map</span>()); <span class="comment">// &quot;[object Map]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Set</span>()); <span class="comment">// &quot;[object Set]&quot;</span></span><br></pre></td></tr></table></div></figure>


        <h2 id="3-内存空间"   >
          <a href="#3-内存空间" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-内存空间" class="headerlink" title="3. 内存空间"></a>3. 内存空间</h2>
      
        <h3 id="3-1-内存空间分配"   >
          <a href="#3-1-内存空间分配" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-内存空间分配" class="headerlink" title="3.1 内存空间分配"></a>3.1 内存空间分配</h3>
      <p>在 JavaScript 的执行过程中， 主要有三种类型内存空间，分别是<strong>代码空间、栈空间和堆空间</strong>。</p>
<p><strong>代码空间主要是存储可执行代码</strong></p>
<img src="img\02.png" style="zoom:33%;" />


        <h3 id="3-2-栈和堆空间"   >
          <a href="#3-2-栈和堆空间" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-栈和堆空间" class="headerlink" title="3.2 栈和堆空间"></a>3.2 栈和堆空间</h3>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>)&#123; </span><br><span class="line">	<span class="keyword">var</span> a = <span class="string">&quot;闷倒驴&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> b = a;</span><br><span class="line">    <span class="keyword">var</span> c = &#123;<span class="attr">name</span>:<span class="string">&quot;王美丽&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">var</span> d = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>()</span><br></pre></td></tr></table></div></figure>

<p><img src="/img%5C03.png" alt="image-20210419170906123"></p>
<p><strong>为什么不能把存储在堆中的数据存储在栈中？</strong></p>
<p>因为 JavaScript 引擎需要用栈来维护程序执行期间上下文的状态，如果栈空间大了话，所有的数据都存放在栈空间里面，那么会影响到上下文切换的效率，进而又影响到整个程序的执行效率。</p>
<p><strong>堆栈特点</strong></p>
<ul>
<li><p><strong>栈</strong>空间都不会设置太大，主要用来<strong>存放一些原始类型的小数据</strong>。而<strong>引用类型的数据</strong>占用的空间都比较大，所以这一类数据会被存放到<strong>堆</strong>中，堆空间很大，能存放很多大的数据，不过缺点是分配内存和回收内存都会占用一定的时间</p>
</li>
<li><p>原始类型的赋值会完整复制变量值，而引用类型的赋值是复制引用地址</p>
</li>
</ul>

        <h3 id="3-3-数据的赋值与引用数据类型的深浅拷贝"   >
          <a href="#3-3-数据的赋值与引用数据类型的深浅拷贝" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-数据的赋值与引用数据类型的深浅拷贝" class="headerlink" title="3.3 数据的赋值与引用数据类型的深浅拷贝"></a>3.3 数据的赋值与引用数据类型的深浅拷贝</h3>
      <p><strong>赋值</strong>：简单数据类型直接在栈中开辟一块新的内存，存储赋值的数据；引用数据类型，在栈中开辟一块空间，存储赋值的数据对应的堆中的存储地址，源数据和拷贝的新数据对应的是同一块堆空间中的数据</p>
<p><strong>浅拷贝</strong>：堆栈各开辟一块新空间，栈中存储堆中新开辟的空间的地址，堆中赋值了源数据的数据，如果值是基本数据类型那么新数据和源数据没有任何关系，如果值是引用数据类型那么新数据的值指向的源数据的数据存储地址</p>
<p><strong>深拷贝</strong>：堆栈各开辟一块新空间，栈中存储堆中新开辟的空间的地址，堆中存储的数据和源数据一样，但是二者没有任何联系</p>
<p>赋值例子：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;<span class="attr">userName</span>:<span class="string">&#x27;闷倒驴&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>,<span class="attr">body</span>:&#123;<span class="attr">weight</span>:<span class="string">&#x27;50kg&#x27;</span>,<span class="attr">height</span>:<span class="string">&#x27;160&#x27;</span>&#125;&#125;</span><br><span class="line"><span class="comment">// 赋值</span></span><br><span class="line"><span class="keyword">var</span> userCopy = user;</span><br><span class="line">user.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">user.<span class="property">body</span>.<span class="property">weight</span> = <span class="string">&#x27;100斤&#x27;</span>;</span><br></pre></td></tr></table></div></figure>

<img src="img\10.png" alt="image-20210607171856700" style="zoom: 50%;" />

<p><strong>浅拷贝例子：</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123;<span class="attr">userName</span>:<span class="string">&#x27;闷倒驴&#x27;</span>,<span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>,<span class="attr">body</span>:&#123;<span class="attr">weight</span>:<span class="string">&#x27;50kg&#x27;</span>,<span class="attr">height</span>:<span class="string">&#x27;160&#x27;</span>&#125;&#125;</span><br><span class="line"><span class="comment">// 浅拷贝</span></span><br><span class="line"><span class="keyword">var</span> userCopy = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, user);  <span class="comment">//Object.assign 对象合并</span></span><br><span class="line">user.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">user.<span class="property">body</span>.<span class="property">weight</span> = <span class="string">&#x27;100斤&#x27;</span>;</span><br></pre></td></tr></table></div></figure>

<p>当执行完userCopy浅拷贝之后，内存空间如图所示：</p>
<p><img src="/img%5C04.png" alt="image-20210426144901358"></p>
<p>执行完   user.sex &#x3D; ‘男’; user.body.weight &#x3D; ‘100斤’;  之后，如下图所示</p>
<p><img src="/img%5C05.png" alt="image-20210426145839124"></p>
<p><strong>深拷贝例子：</strong></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> user = &#123; <span class="attr">userName</span>: <span class="string">&#x27;闷倒驴&#x27;</span>, <span class="attr">sex</span>: <span class="string">&#x27;女&#x27;</span>, <span class="attr">body</span>: &#123; <span class="attr">weight</span>: <span class="string">&#x27;50kg&#x27;</span>, <span class="attr">height</span>: <span class="string">&#x27;160&#x27;</span> &#125; &#125;</span><br><span class="line"><span class="comment">// 深拷贝</span></span><br><span class="line"><span class="keyword">var</span> userCopy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user));  <span class="comment">//深拷贝</span></span><br><span class="line">	<span class="comment">//JSON.stringify() 转为json字符串。JSON.parse() 再转为JS对象。</span></span><br><span class="line">user.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">user.<span class="property">body</span>.<span class="property">weight</span> = <span class="string">&#x27;100斤&#x27;</span>;</span><br></pre></td></tr></table></div></figure>

<p>当执行完userCopy深拷贝之后，内存空间如图所示：</p>
<p><img src="/img%5C08.png" alt="image-20210426154620250"></p>
<p>当执行完userCopy深拷贝之后，内存空间如图所示：</p>
<p><img src="/img%5C09.png" alt="image-20210426154800915"></p>

        <h4 id="浅拷贝方法："   >
          <a href="#浅拷贝方法：" class="heading-link"><i class="fas fa-link"></i></a><a href="#浅拷贝方法：" class="headerlink" title="浅拷贝方法："></a><strong>浅拷贝方法</strong>：</h4>
      
        <h5 id="1-Object-assign-x2F-x2F-对象的操作多涉及到浅拷贝"   >
          <a href="#1-Object-assign-x2F-x2F-对象的操作多涉及到浅拷贝" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-Object-assign-x2F-x2F-对象的操作多涉及到浅拷贝" class="headerlink" title="1.Object.assign()   &#x2F;&#x2F;对象的操作多涉及到浅拷贝"></a>1.Object.assign()   &#x2F;&#x2F;对象的操作多涉及到浅拷贝</h5>
      <p>Object.assign() 方法可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">person</span>: &#123;<span class="attr">name</span>: <span class="string">&quot;kobe&quot;</span>, <span class="attr">age</span>: <span class="number">41</span>&#125;,<span class="attr">sports</span>:<span class="string">&#x27;basketball&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, obj1);</span><br><span class="line">obj2.<span class="property">person</span>.<span class="property">name</span> = <span class="string">&quot;wade&quot;</span>;</span><br><span class="line">obj2.<span class="property">sports</span> = <span class="string">&#x27;football&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1); <span class="comment">// &#123; person: &#123; name: &#x27;wade&#x27;, age: 41 &#125;, sports: &#x27;basketball&#x27; &#125;</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="2-函数库lodash的-clone方法"   >
          <a href="#2-函数库lodash的-clone方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-函数库lodash的-clone方法" class="headerlink" title="2.函数库lodash的_.clone方法"></a>2.函数库lodash的_.clone方法</h5>
      <p>该函数库也有提供_.clone用来做 Shallow Copy,后面我们会再介绍利用这个库实现深拷贝。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: &#123; <span class="attr">f</span>: &#123; <span class="attr">g</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">    <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = _.<span class="title function_">clone</span>(obj1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">b</span>.<span class="property">f</span> === obj2.<span class="property">b</span>.<span class="property">f</span>);<span class="comment">// true</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="3-展开运算符…"   >
          <a href="#3-展开运算符…" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-展开运算符…" class="headerlink" title="3.展开运算符…"></a>3.展开运算符…</h5>
      <p>展开运算符是一个 es6 &#x2F; es2015特性，它提供了一种非常方便的方式来执行浅拷贝，这与 Object.assign ()的功能相同。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&#x27;王美丽&#x27;</span>, <span class="attr">address</span>: &#123; <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">100</span> &#125; &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; ...obj1 &#125;</span><br><span class="line">obj1.<span class="property">address</span>.<span class="property">x</span> = <span class="number">200</span>;</span><br><span class="line">obj1.<span class="property">name</span> = <span class="string">&#x27;闷倒驴&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj2&#x27;</span>, obj2) <span class="comment">// obj2 &#123; name: &#x27;Kobe&#x27;, address: &#123; x: 200, y: 100 &#125; &#125;</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="4-Array-prototype-concat"   >
          <a href="#4-Array-prototype-concat" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-Array-prototype-concat" class="headerlink" title="4.Array.prototype.concat()"></a>4.Array.prototype.concat()</h5>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;王美丽&#x27;</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr.<span class="title function_">concat</span>();</span><br><span class="line">arr2[<span class="number">2</span>].<span class="property">username</span> = <span class="string">&#x27;闷倒驴&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">//[ 1, 3, &#123; username: &#x27;闷倒驴&#x27; &#125; ]</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="5-Array-prototype-slice"   >
          <a href="#5-Array-prototype-slice" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-Array-prototype-slice" class="headerlink" title="5.Array.prototype.slice()"></a>5.Array.prototype.slice()</h5>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27; 王美丽&#x27;</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="keyword">let</span> arr3 = arr.<span class="title function_">slice</span>();</span><br><span class="line">arr3[<span class="number">2</span>].<span class="property">username</span> = <span class="string">&#x27;闷倒驴&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [ 1, 3, &#123; username: &#x27;闷倒驴&#x27; &#125; ]</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="深拷贝方法："   >
          <a href="#深拷贝方法：" class="heading-link"><i class="fas fa-link"></i></a><a href="#深拷贝方法：" class="headerlink" title="深拷贝方法："></a>深拷贝方法：</h4>
      
        <h5 id="1-JSON-parse-JSON-stringify"   >
          <a href="#1-JSON-parse-JSON-stringify" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-JSON-parse-JSON-stringify" class="headerlink" title="1.JSON.parse(JSON.stringify())"></a>1.JSON.parse(JSON.stringify())</h5>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;闷倒驴&#x27;</span></span><br><span class="line">&#125;];</span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr));</span><br><span class="line">arr1[<span class="number">2</span>].<span class="property">username</span> = <span class="string">&#x27;王美丽&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr, arr1)</span><br></pre></td></tr></table></div></figure>

<p><img src="/img%5C07.png" alt="image-20210419183131174"></p>
<p>这也是利用JSON.stringify将对象转成JSON字符串，再用JSON.parse把字符串解析成对象，一去一来，新的对象产生了，而且对象会开辟新的栈，实现深拷贝。</p>
<p><strong>这种方法虽然可以实现数组或对象深拷贝,但不能处理函数和正则</strong>，因为这两者基于JSON.stringify和JSON.parse处理后，得到的正则就不再是正则（变为空对象），得到的函数就不再是函数（变为null）了。</p>
<p>比如下面的例子：</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;闷倒驴&#x27;</span></span><br><span class="line">&#125;,<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;];</span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr));</span><br><span class="line">arr1[<span class="number">2</span>].<span class="property">username</span> = <span class="string">&#x27;王美丽&#x27;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr, arr1)</span><br></pre></td></tr></table></div></figure>

<p><img src="/img%5C06.png" alt="image-20210419183036305"></p>

        <h5 id="2-函数库lodash的-cloneDeep方法"   >
          <a href="#2-函数库lodash的-cloneDeep方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-函数库lodash的-cloneDeep方法" class="headerlink" title="2.函数库lodash的_.cloneDeep方法"></a>2.函数库lodash的_.cloneDeep方法</h5>
      <p>该函数库也有提供_.cloneDeep用来做 Deep Copy</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: &#123; <span class="attr">f</span>: &#123; <span class="attr">g</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">    <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = _.<span class="title function_">cloneDeep</span>(obj1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">b</span>.<span class="property">f</span> === obj2.<span class="property">b</span>.<span class="property">f</span>);<span class="comment">// false</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="3-jQuery-extend-方法"   >
          <a href="#3-jQuery-extend-方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-jQuery-extend-方法" class="headerlink" title="3.jQuery.extend()方法"></a>3.jQuery.extend()方法</h5>
      <p>jquery 有提供一個<code>$.extend</code>可以用来做 Deep Copy</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $.extend(deepCopy, target, object1, [objectN])//第一个参数为true,就是深拷贝</span></span><br><span class="line"><span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">&#x27;jquery&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: &#123; <span class="attr">f</span>: &#123; <span class="attr">g</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">    <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = $.<span class="title function_">extend</span>(<span class="literal">true</span>, &#123;&#125;, obj1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">b</span>.<span class="property">f</span> === obj2.<span class="property">b</span>.<span class="property">f</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="4-手写递归方法"   >
          <a href="#4-手写递归方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-手写递归方法" class="headerlink" title="4.手写递归方法"></a>4.手写递归方法</h5>
      <p>递归方法实现深度克隆原理：<strong>遍历对象、数组直到里边都是基本数据类型，然后再去复制，就是深度拷贝</strong>。</p>
<p>有种特殊情况需注意就是对象存在<strong>循环引用</strong>的情况，即对象的属性直接的引用了自身的情况，解决循环引用问题，我们可以额外开辟一个存储空间，来存储当前对象和拷贝对象的对应关系，当需要拷贝当前对象时，先去存储空间中找，有没有拷贝过这个对象，如果有的话直接返回，如果没有的话继续拷贝，这样就巧妙化解的循环引用的问题。</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span>) <span class="keyword">return</span> obj; <span class="comment">// 如果是null或者undefined我就不进行拷贝操作</span></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>(obj);</span><br><span class="line">  <span class="comment">// 可能是对象或者普通的值  如果是函数的话是不需要深拷贝</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="comment">// 是对象的话就要进行深拷贝,遇到循环引用，将引用存储起来，如果存在就不再拷贝</span></span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">get</span>(obj)) <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj);</span><br><span class="line">  <span class="keyword">let</span> cloneObj = <span class="keyword">new</span> obj.<span class="title function_">constructor</span>(<span class="params"></span>);</span><br><span class="line">  <span class="comment">// 找到的是所属类原型上的constructor,而原型上的 constructor指向的是当前类本身</span></span><br><span class="line">  hash.<span class="title function_">set</span>(obj, cloneObj);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// 实现一个递归拷贝</span></span><br><span class="line">      cloneObj[key] = <span class="title function_">deepClone</span>(obj[key], hash);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cloneObj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="number">1</span>, <span class="attr">address</span>: &#123; <span class="attr">x</span>: <span class="number">100</span> &#125; &#125;;</span><br><span class="line">obj.<span class="property">o</span> = obj; <span class="comment">// 对象存在循环引用的情况</span></span><br><span class="line"><span class="keyword">let</span> d = <span class="title function_">deepClone</span>(obj);</span><br><span class="line">obj.<span class="property">address</span>.<span class="property">x</span> = <span class="number">200</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(d);</span><br></pre></td></tr></table></div></figure>

<p><strong>循环引用</strong>：</p>
<p>当对象 1 中的某个属性指向对象 2，对象 2 中的某个属性指向对象 1 就会出现循环引用，（当然不止这一种情况，不过原理是一样的）</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/01_%E5%B8%83%E5%B1%80%E4%B8%8E%E4%BA%8B%E4%BB%B6/%E4%BA%8B%E4%BB%B6/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2023-02-20</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="事件"   >
          <a href="#事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#事件" class="headerlink" title="事件"></a>事件</h1>
      
        <h2 id="1-dom树"   >
          <a href="#1-dom树" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-dom树" class="headerlink" title="1. dom树"></a>1. dom树</h2>
      <p>DOM（Document Object Model）是一种将 HTML 或 XML 文档表示为树形结构的方式，它定义了一种标准的方式来访问和操作文档内容。在浏览器中，文档对象模型（DOM）由一个层次结构的节点树组成，称为 DOM 树。</p>
<p>可以通过 DOM 提供的 API 对节点进行创建、插入、修改、删除等操作，也可以通过事件监听器实现用户交互。</p>
<img src="img\image-20210526144435715.png" alt="image-20210526144435715" style="zoom:50%;" />


        <h2 id="2-dom事件流"   >
          <a href="#2-dom事件流" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-dom事件流" class="headerlink" title="2. dom事件流"></a>2. dom事件流</h2>
      <p>JavaScript 事件流指的是当一个事件在网页中触发时，它经过的三个阶段：<strong>事件捕获阶段、目标阶段和事件冒泡阶段</strong>。可以通过添加事件处理程序来处理特定的事件，通过 <code>addEventListener()</code> 方法添加事件监听器，指定事件类型、处理函数和是否在捕获阶段处理事件。</p>
<img src="img\image-20210526150509858.png" alt="image-20210526150509858" style="zoom:50%;" />


        <h2 id="3-dom事件流验证"   >
          <a href="#3-dom事件流验证" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-dom事件流验证" class="headerlink" title="3. dom事件流验证"></a>3. dom事件流验证</h2>
      
        <h3 id="3-1-冒泡事件"   >
          <a href="#3-1-冒泡事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-冒泡事件" class="headerlink" title="3.1 冒泡事件"></a>3.1 冒泡事件</h3>
      <p>事件冒泡是一种处理事件的方式，它从事件的目标元素开始，逐级向上传递事件，直到达到最外层的元素。在事件冒泡的过程中，事件的目标元素之后的所有祖先元素都会收到事件。</p>
<p>要使用事件冒泡，可以在绑定事件处理程序时省略或将<code>useCapture</code>参数设为<code>false</code>。例如，以下代码将在冒泡阶段处理事件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myFunction, <span class="literal">false</span>【可以省略】);</span><br></pre></td></tr></table></div></figure>

<p>事件冒泡是JavaScript中最常见和默认的事件处理方式。它的优点是简单易用，同时也提供了灵活的方式来处理事件。通过在事件处理程序中使用<code>event.target</code>属性可以获取事件的目标元素，从而在处理事件时针对不同的元素做出不同的响应。</p>
<img src="img\image-20210526151556848.png" alt="image-20210526151556848" style="zoom: 50%;" />


        <h3 id="3-2-捕获事件"   >
          <a href="#3-2-捕获事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-捕获事件" class="headerlink" title="3.2 捕获事件"></a>3.2 捕获事件</h3>
      <p>事件捕获是一种处理事件的方式，它从最外层的元素开始，逐级向下传递事件，直到达到目标元素。在事件捕获的过程中，事件的目标元素之前的所有祖先元素都会收到事件。</p>
<p>要使用事件捕获，需要在绑定事件处理程序时指定<code>useCapture</code>参数为<code>true</code>。例如，以下代码将在捕获阶段处理事件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, myFunction, <span class="literal">true</span>);</span><br></pre></td></tr></table></div></figure>

<p>事件捕获通常比事件冒泡更少用，但是它也提供了灵活的方式来处理事件。在事件捕获的过程中，可以在事件到达目标元素之前对事件进行一些处理，例如修改事件的属性或取消事件的默认行为。但是需要注意，不是所有浏览器都支持事件捕获，一些浏览器可能会忽略<code>useCapture</code>参数。</p>
<img src="img\image-20210526151813079.png" alt="image-20210526151813079" style="zoom:50%;" />


        <h3 id="3-3-阻止冒泡"   >
          <a href="#3-3-阻止冒泡" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-阻止冒泡" class="headerlink" title="3.3 阻止冒泡"></a>3.3 阻止冒泡</h3>
      <p>可以使用<code>event.stopPropagation()</code>方法来阻止事件冒泡。当事件处理程序调用该方法时，事件将不再继续传播到祖先元素，从而停止事件冒泡的过程。</p>
<p>例如，以下代码将阻止<code>myFunction</code>事件处理程序的事件冒泡：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  event.<span class="title function_">stopPropagation</span>();</span><br><span class="line">  <span class="title function_">myFunction</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>





<img src="img\image-20210526152215967.png" alt="image-20210526152215967" style="zoom:50%;" />



<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.<span class="title function_">stopPropagation</span>();</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-4-event-target-和-this-在事件处理程序中的区别"   >
          <a href="#3-4-event-target-和-this-在事件处理程序中的区别" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-event-target-和-this-在事件处理程序中的区别" class="headerlink" title="3.4 event.target 和 this 在事件处理程序中的区别"></a>3.4 event.target 和 this 在事件处理程序中的区别</h3>
      <ul>
<li>event.target： 实际点击的最近元素</li>
<li>this：绑定事件的元素</li>
</ul>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">event.target指向触发事件的DOM元素，也就是事件的发起者。</span><br><span class="line">this指向绑定事件处理程序的DOM元素。</span><br><span class="line"></span><br><span class="line">在某些情况下，event.target和this可能指向不同的元素。例如，在嵌套的DOM结构中，当一个子元素触发事件时，event.target指向该子元素，而this则指向父元素。</span><br></pre></td></tr></table></div></figure>

<img src="img\image-20210526153011987.png" alt="image-20210526153011987" style="zoom:50%;" />


        <h3 id="3-5-事件委托"   >
          <a href="#3-5-事件委托" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-5-事件委托" class="headerlink" title="3.5 事件委托"></a>3.5 事件委托</h3>
      <p>事件委托的实现方法是将事件绑定到父元素上，然后通过事件对象的 target 属性来判断用户点击的是哪个子元素，并调用相应的处理函数。</p>
<p>示范程序如下，假设有一个包含多个按钮的列表，我们要为每个按钮绑定 click 事件，点击时弹出按钮的文本内容。使用事件委托的方法，可以将 click 事件绑定到列表的父元素上：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>Button 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>Button 2<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>Button 3<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>Button 4<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>Button 5<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#list&#x27;</span>);</span><br><span class="line">list.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">target</span>.<span class="property">nodeName</span> === <span class="string">&#x27;BUTTON&#x27;</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(event.<span class="property">target</span>.<span class="property">textContent</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>在这个例子中，我们将 click 事件绑定到列表元素上，并在事件处理函数中判断点击的是哪个子元素。如果点击的是按钮元素，则弹出该按钮的文本内容。</p>
<p>这样做的好处是，不需要为每个按钮单独绑定事件，而是将事件绑定到父元素上，这样可以提高页面的性能，并且可以避免由于动态添加或删除子元素而导致的事件失效的问题。</p>
<img src="img\image-20210526153513417.png" alt="image-20210526153513417" style="zoom:50%;" /></div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/13/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/15/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/cat.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Hello Stun</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">144</div><div class="sidebar-ov-state-item__name">Archives</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>汪汪队</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.3.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>