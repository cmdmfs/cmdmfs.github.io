<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="have a try try">
<meta property="og:type" content="website">
<meta property="og:title" content="汪汪队">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="汪汪队">
<meta property="og:description" content="have a try try">
<meta property="og:locale">
<meta property="article:author" content="汪汪队">
<meta name="twitter:card" content="summary"><title>汪汪队</title><link ref="canonical" href="http://example.com/page/9/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hello Stun</div><div class="header-banner-info__subtitle">An elegant theme for Hexo</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/is-potential-custom-element-name/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="is-potential-custom-element-name"   >
          <a href="#is-potential-custom-element-name" class="heading-link"><i class="fas fa-link"></i></a><a href="#is-potential-custom-element-name" class="headerlink" title="is-potential-custom-element-name "></a>is-potential-custom-element-name <a target="_blank" rel="noopener" href="https://travis-ci.org/mathiasbynens/is-potential-custom-element-name"><img   src="https://travis-ci.org/mathiasbynens/is-potential-custom-element-name.svg?branch=master" style=""  alt="Build status"></a></h1>
      <p><em>is-potential-custom-element-name</em> checks whether a given string matches <a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/scripting.html#prod-potentialcustomelementname">the <code>PotentialCustomElementName</code> production</a> as defined in the HTML Standard.</p>

        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <p>To use <em>is-potential-custom-element-name</em> programmatically, install it as a dependency via <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/" >npm</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install is-potential-custom-element-name</span><br></pre></td></tr></table></div></figure>

<p>Then, <code>require</code> it:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isPotentialCustomElementName = <span class="built_in">require</span>(<span class="string">&#x27;is-potential-custom-element-name&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">isPotentialCustomElementName</span>(<span class="string">&#x27;foo-bar&#x27;</span>);</span><br><span class="line"><span class="comment">// → true</span></span><br><span class="line"><span class="title function_">isPotentialCustomElementName</span>(<span class="string">&#x27;Foo-bar&#x27;</span>);</span><br><span class="line"><span class="comment">// → false</span></span><br><span class="line"><span class="title function_">isPotentialCustomElementName</span>(<span class="string">&#x27;baz-©&#x27;</span>);</span><br><span class="line"><span class="comment">// → false</span></span><br><span class="line"><span class="title function_">isPotentialCustomElementName</span>(<span class="string">&#x27;annotation-xml&#x27;</span>);</span><br><span class="line"><span class="comment">// → true</span></span><br></pre></td></tr></table></div></figure>


        <h2 id="Author"   >
          <a href="#Author" class="heading-link"><i class="fas fa-link"></i></a><a href="#Author" class="headerlink" title="Author"></a>Author</h2>
      <div class="table-container"><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="https://twitter.com/mathias" title="Follow @mathias on Twitter"><img   src="https://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70" style=""  alt="twitter/mathias"></a></th>
</tr>
</thead>
<tbody><tr>
<td><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://mathiasbynens.be/" >Mathias Bynens</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
</tr>
</tbody></table></div>

        <h2 id="License"   >
          <a href="#License" class="heading-link"><i class="fas fa-link"></i></a><a href="#License" class="headerlink" title="License"></a>License</h2>
      <p><em>is-potential-custom-element-name</em> is available under the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://mths.be/mit" >MIT</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> license.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/iconv-lite/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2018-08-23</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Pure-JS-character-encoding-conversion"   >
          <a href="#Pure-JS-character-encoding-conversion" class="heading-link"><i class="fas fa-link"></i></a><a href="#Pure-JS-character-encoding-conversion" class="headerlink" title="Pure JS character encoding conversion "></a>Pure JS character encoding conversion <a target="_blank" rel="noopener" href="https://travis-ci.org/ashtuchkin/iconv-lite"><img   src="https://travis-ci.org/ashtuchkin/iconv-lite.svg?branch=master" style=""  alt="Build Status"></a></h2>
      <ul>
<li>Doesn’t need native code compilation. Works on Windows and in sandboxed environments like <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://c9.io/" >Cloud9</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</li>
<li>Used in popular projects like <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/expressjs/body-parser" >Express.js (body_parser)</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>,<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://gruntjs.com/" >Grunt</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.nodemailer.com/" >Nodemailer</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://yeoman.io/" >Yeoman</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and others.</li>
<li>Faster than <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/bnoordhuis/node-iconv" >node-iconv</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (see below for performance comparison).</li>
<li>Intuitive encode&#x2F;decode API</li>
<li>Streaming support for Node v0.10+</li>
<li>[Deprecated] Can extend Node.js primitives (buffers, streams) to support all iconv-lite encodings.</li>
<li>In-browser usage via <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/substack/node-browserify" >Browserify</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (~180k gzip compressed with Buffer shim included).</li>
<li>Typescript <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ashtuchkin/iconv-lite/blob/master/lib/index.d.ts" >type definition file</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> included.</li>
<li>React Native is supported (need to explicitly <code>npm install</code> two more modules: <code>buffer</code> and <code>stream</code>).</li>
<li>License: MIT.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://npmjs.org/packages/iconv-lite/"><img   src="https://nodei.co/npm/iconv-lite.png?downloads=true&downloadRank=true" style=""  alt="NPM Stats"></a></p>

        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      
        <h3 id="Basic-API"   >
          <a href="#Basic-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#Basic-API" class="headerlink" title="Basic API"></a>Basic API</h3>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iconv = <span class="built_in">require</span>(<span class="string">&#x27;iconv-lite&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert from an encoded buffer to js string.</span></span><br><span class="line">str = iconv.<span class="title function_">decode</span>(<span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x68</span>, <span class="number">0x65</span>, <span class="number">0x6c</span>, <span class="number">0x6c</span>, <span class="number">0x6f</span>]), <span class="string">&#x27;win1251&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert from js string to an encoded buffer.</span></span><br><span class="line">buf = iconv.<span class="title function_">encode</span>(<span class="string">&quot;Sample input string&quot;</span>, <span class="string">&#x27;win1251&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Check if encoding is supported</span></span><br><span class="line">iconv.<span class="title function_">encodingExists</span>(<span class="string">&quot;us-ascii&quot;</span>)</span><br></pre></td></tr></table></div></figure>


        <h3 id="Streaming-API-Node-v0-10"   >
          <a href="#Streaming-API-Node-v0-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#Streaming-API-Node-v0-10" class="headerlink" title="Streaming API (Node v0.10+)"></a>Streaming API (Node v0.10+)</h3>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Decode stream (from binary stream to js strings)</span></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="keyword">function</span>(<span class="params">req, res</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> converterStream = iconv.<span class="title function_">decodeStream</span>(<span class="string">&#x27;win1251&#x27;</span>);</span><br><span class="line">    req.<span class="title function_">pipe</span>(converterStream);</span><br><span class="line"></span><br><span class="line">    converterStream.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span>(<span class="params">str</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">// Do something with decoded strings, chunk-by-chunk.</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Convert encoding streaming example</span></span><br><span class="line">fs.<span class="title function_">createReadStream</span>(<span class="string">&#x27;file-in-win1251.txt&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(iconv.<span class="title function_">decodeStream</span>(<span class="string">&#x27;win1251&#x27;</span>))</span><br><span class="line">    .<span class="title function_">pipe</span>(iconv.<span class="title function_">encodeStream</span>(<span class="string">&#x27;ucs2&#x27;</span>))</span><br><span class="line">    .<span class="title function_">pipe</span>(fs.<span class="title function_">createWriteStream</span>(<span class="string">&#x27;file-in-ucs2.txt&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Sugar: all encode/decode streams have .collect(cb) method to accumulate data.</span></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="keyword">function</span>(<span class="params">req, res</span>) &#123;</span><br><span class="line">    req.<span class="title function_">pipe</span>(iconv.<span class="title function_">decodeStream</span>(<span class="string">&#x27;win1251&#x27;</span>)).<span class="title function_">collect</span>(<span class="keyword">function</span>(<span class="params">err, body</span>) &#123;</span><br><span class="line">        <span class="title function_">assert</span>(<span class="keyword">typeof</span> body == <span class="string">&#x27;string&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body); <span class="comment">// full request body string</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Deprecated-Extend-Node-js-own-encodings"   >
          <a href="#Deprecated-Extend-Node-js-own-encodings" class="heading-link"><i class="fas fa-link"></i></a><a href="#Deprecated-Extend-Node-js-own-encodings" class="headerlink" title="[Deprecated] Extend Node.js own encodings"></a>[Deprecated] Extend Node.js own encodings</h3>
      <blockquote>
<p>NOTE: This doesn’t work on latest Node versions. See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility" >details</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
</blockquote>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// After this call all Node basic primitives will understand iconv-lite encodings.</span></span><br><span class="line">iconv.<span class="title function_">extendNodeEncodings</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Examples:</span></span><br><span class="line">buf = <span class="keyword">new</span> <span class="title class_">Buffer</span>(str, <span class="string">&#x27;win1251&#x27;</span>);</span><br><span class="line">buf.<span class="title function_">write</span>(str, <span class="string">&#x27;gbk&#x27;</span>);</span><br><span class="line">str = buf.<span class="title function_">toString</span>(<span class="string">&#x27;latin1&#x27;</span>);</span><br><span class="line"><span class="title function_">assert</span>(<span class="title class_">Buffer</span>.<span class="title function_">isEncoding</span>(<span class="string">&#x27;iso-8859-15&#x27;</span>));</span><br><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(str, <span class="string">&#x27;us-ascii&#x27;</span>);</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="keyword">function</span>(<span class="params">req, res</span>) &#123;</span><br><span class="line">    req.<span class="title function_">setEncoding</span>(<span class="string">&#x27;big5&#x27;</span>);</span><br><span class="line">    req.<span class="title function_">collect</span>(<span class="keyword">function</span>(<span class="params">err, body</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">createReadStream</span>(<span class="string">&quot;file.txt&quot;</span>, <span class="string">&quot;shift_jis&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// External modules are also supported (if they use Node primitives, which they probably do).</span></span><br><span class="line">request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line"><span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;http://github.com/&quot;</span>, </span><br><span class="line">    <span class="attr">encoding</span>: <span class="string">&quot;cp932&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// To remove extensions</span></span><br><span class="line">iconv.<span class="title function_">undoExtendNodeEncodings</span>();</span><br></pre></td></tr></table></div></figure>


        <h2 id="Supported-encodings"   >
          <a href="#Supported-encodings" class="heading-link"><i class="fas fa-link"></i></a><a href="#Supported-encodings" class="headerlink" title="Supported encodings"></a>Supported encodings</h2>
      <ul>
<li>All node.js native encodings: utf8, ucs2 &#x2F; utf16-le, ascii, binary, base64, hex.</li>
<li>Additional unicode encodings: utf16, utf16-be, utf-7, utf-7-imap.</li>
<li>All widespread singlebyte encodings: Windows 125x family, ISO-8859 family,<br>IBM&#x2F;DOS codepages, Macintosh family, KOI8 family, all others supported by iconv library.<br>Aliases like ‘latin1’, ‘us-ascii’ also supported.</li>
<li>All widespread multibyte encodings: CP932, CP936, CP949, CP950, GB2312, GBK, GB18030, Big5, Shift_JIS, EUC-JP.</li>
</ul>
<p>See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ashtuchkin/iconv-lite/wiki/Supported-Encodings" >all supported encodings on wiki</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Most singlebyte encodings are generated automatically from <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/bnoordhuis/node-iconv" >node-iconv</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. Thank you Ben Noordhuis and libiconv authors!</p>
<p>Multibyte encodings are generated from <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://www.unicode.org/Public/MAPPINGS/" >Unicode.org mappings</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://encoding.spec.whatwg.org/" >WHATWG Encoding Standard mappings</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. Thank you, respective authors!</p>

        <h2 id="Encoding-x2F-decoding-speed"   >
          <a href="#Encoding-x2F-decoding-speed" class="heading-link"><i class="fas fa-link"></i></a><a href="#Encoding-x2F-decoding-speed" class="headerlink" title="Encoding&#x2F;decoding speed"></a>Encoding&#x2F;decoding speed</h2>
      <p>Comparison with node-iconv module (1000x256kb, on MacBook Pro, Core i5&#x2F;2.6 GHz, Node v0.12.0).<br>Note: your results may vary, so please always check on your hardware.</p>
<pre><code>operation             iconv@2.1.4   iconv-lite@0.4.7
----------------------------------------------------------
encode(&#39;win1251&#39;)     ~96 Mb/s      ~320 Mb/s
decode(&#39;win1251&#39;)     ~95 Mb/s      ~246 Mb/s
</code></pre>

        <h2 id="BOM-handling"   >
          <a href="#BOM-handling" class="heading-link"><i class="fas fa-link"></i></a><a href="#BOM-handling" class="headerlink" title="BOM handling"></a>BOM handling</h2>
      <ul>
<li>Decoding: BOM is stripped by default, unless overridden by passing <code>stripBOM: false</code> in options<br>(f.ex. <code>iconv.decode(buf, enc, &#123;stripBOM: false&#125;)</code>).<br>A callback might also be given as a <code>stripBOM</code> parameter - it’ll be called if BOM character was actually found.</li>
<li>If you want to detect UTF-8 BOM when decoding other encodings, use <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/danielgindi/node-autodetect-decoder-stream" >node-autodetect-decoder-stream</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> module.</li>
<li>Encoding: No BOM added, unless overridden by <code>addBOM: true</code> option.</li>
</ul>

        <h2 id="UTF-16-Encodings"   >
          <a href="#UTF-16-Encodings" class="heading-link"><i class="fas fa-link"></i></a><a href="#UTF-16-Encodings" class="headerlink" title="UTF-16 Encodings"></a>UTF-16 Encodings</h2>
      <p>This library supports UTF-16LE, UTF-16BE and UTF-16 encodings. First two are straightforward, but UTF-16 is trying to be<br>smart about endianness in the following ways:</p>
<ul>
<li>Decoding: uses BOM and ‘spaces heuristic’ to determine input endianness. Default is UTF-16LE, but can be<br>overridden with <code>defaultEncoding: &#39;utf-16be&#39;</code> option. Strips BOM unless <code>stripBOM: false</code>.</li>
<li>Encoding: uses UTF-16LE and writes BOM by default. Use <code>addBOM: false</code> to override.</li>
</ul>

        <h2 id="Other-notes"   >
          <a href="#Other-notes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Other-notes" class="headerlink" title="Other notes"></a>Other notes</h2>
      <p>When decoding, be sure to supply a Buffer to decode() method, otherwise <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding" >bad things usually happen</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.<br>Untranslatable characters are set to � or ?. No transliteration is currently supported.<br>Node versions 0.10.31 and 0.11.13 are buggy, don’t use them (see #65, #77).  </p>

        <h2 id="Testing"   >
          <a href="#Testing" class="heading-link"><i class="fas fa-link"></i></a><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> git@github.com:ashtuchkin/iconv-lite.git</span><br><span class="line">$ <span class="built_in">cd</span> iconv-lite</span><br><span class="line">$ npm install</span><br><span class="line">$ npm <span class="built_in">test</span></span><br><span class="line">    </span><br><span class="line">$ <span class="comment"># To view performance:</span></span><br><span class="line">$ node <span class="built_in">test</span>/performance.js</span><br><span class="line"></span><br><span class="line">$ <span class="comment"># To view test coverage:</span></span><br><span class="line">$ npm run coverage</span><br><span class="line">$ open coverage/lcov-report/index.html</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/iconv-lite/Changelog/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2018-08-23</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="0-4-24-x2F-2018-08-22"   >
          <a href="#0-4-24-x2F-2018-08-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-24-x2F-2018-08-22" class="headerlink" title="0.4.24 &#x2F; 2018-08-22"></a>0.4.24 &#x2F; 2018-08-22</h1>
      <ul>
<li>Added MIK encoding (#196, by @Ivan-Kalatchev)</li>
</ul>

        <h1 id="0-4-23-x2F-2018-05-07"   >
          <a href="#0-4-23-x2F-2018-05-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-23-x2F-2018-05-07" class="headerlink" title="0.4.23 &#x2F; 2018-05-07"></a>0.4.23 &#x2F; 2018-05-07</h1>
      <ul>
<li>Fix deprecation warning in Node v10 due to the last usage of <code>new Buffer</code> (#185, by @felixbuenemann)</li>
<li>Switched from NodeBuffer to Buffer in typings (#155 by @felixfbecker, #186 by @larssn)</li>
</ul>

        <h1 id="0-4-22-x2F-2018-05-05"   >
          <a href="#0-4-22-x2F-2018-05-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-22-x2F-2018-05-05" class="headerlink" title="0.4.22 &#x2F; 2018-05-05"></a>0.4.22 &#x2F; 2018-05-05</h1>
      <ul>
<li>Use older semver style for dependencies to be compatible with Node version 0.10 (#182, by @dougwilson)</li>
<li>Fix tests to accomodate fixes in Node v10 (#182, by @dougwilson)</li>
</ul>

        <h1 id="0-4-21-x2F-2018-04-06"   >
          <a href="#0-4-21-x2F-2018-04-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-21-x2F-2018-04-06" class="headerlink" title="0.4.21 &#x2F; 2018-04-06"></a>0.4.21 &#x2F; 2018-04-06</h1>
      <ul>
<li>Fix encoding canonicalization (#156)</li>
<li>Fix the paths in the “browser” field in package.json (#174 by @LMLB)</li>
<li>Removed “contributors” section in package.json - see Git history instead.</li>
</ul>

        <h1 id="0-4-20-x2F-2018-04-06"   >
          <a href="#0-4-20-x2F-2018-04-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-20-x2F-2018-04-06" class="headerlink" title="0.4.20 &#x2F; 2018-04-06"></a>0.4.20 &#x2F; 2018-04-06</h1>
      <ul>
<li>Updated <code>new Buffer()</code> usages with recommended replacements as it’s being deprecated in Node v10 (#176, #178 by @ChALkeR)</li>
</ul>

        <h1 id="0-4-19-x2F-2017-09-09"   >
          <a href="#0-4-19-x2F-2017-09-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-19-x2F-2017-09-09" class="headerlink" title="0.4.19 &#x2F; 2017-09-09"></a>0.4.19 &#x2F; 2017-09-09</h1>
      <ul>
<li>Fixed iso8859-1 codec regression in handling untranslatable characters (#162, caused by #147)</li>
<li>Re-generated windows1255 codec, because it was updated in iconv project</li>
<li>Fixed grammar in error message when iconv-lite is loaded with encoding other than utf8</li>
</ul>

        <h1 id="0-4-18-x2F-2017-06-13"   >
          <a href="#0-4-18-x2F-2017-06-13" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-18-x2F-2017-06-13" class="headerlink" title="0.4.18 &#x2F; 2017-06-13"></a>0.4.18 &#x2F; 2017-06-13</h1>
      <ul>
<li>Fixed CESU-8 regression in Node v8.</li>
</ul>

        <h1 id="0-4-17-x2F-2017-04-22"   >
          <a href="#0-4-17-x2F-2017-04-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-17-x2F-2017-04-22" class="headerlink" title="0.4.17 &#x2F; 2017-04-22"></a>0.4.17 &#x2F; 2017-04-22</h1>
      <ul>
<li>Updated typescript definition file to support Angular 2 AoT mode (#153 by @larssn)</li>
</ul>

        <h1 id="0-4-16-x2F-2017-04-22"   >
          <a href="#0-4-16-x2F-2017-04-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-16-x2F-2017-04-22" class="headerlink" title="0.4.16 &#x2F; 2017-04-22"></a>0.4.16 &#x2F; 2017-04-22</h1>
      <ul>
<li>Added support for React Native (#150)</li>
<li>Changed iso8859-1 encoding to usine internal ‘binary’ encoding, as it’s the same thing (#147 by @mscdex)</li>
<li>Fixed typo in Readme (#138 by @jiangzhuo)</li>
<li>Fixed build for Node v6.10+ by making correct version comparison</li>
<li>Added a warning if iconv-lite is loaded not as utf-8 (see #142)</li>
</ul>

        <h1 id="0-4-15-x2F-2016-11-21"   >
          <a href="#0-4-15-x2F-2016-11-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-15-x2F-2016-11-21" class="headerlink" title="0.4.15 &#x2F; 2016-11-21"></a>0.4.15 &#x2F; 2016-11-21</h1>
      <ul>
<li>Fixed typescript type definition (#137)</li>
</ul>

        <h1 id="0-4-14-x2F-2016-11-20"   >
          <a href="#0-4-14-x2F-2016-11-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-14-x2F-2016-11-20" class="headerlink" title="0.4.14 &#x2F; 2016-11-20"></a>0.4.14 &#x2F; 2016-11-20</h1>
      <ul>
<li>Preparation for v1.0</li>
<li>Added Node v6 and latest Node versions to Travis CI test rig</li>
<li>Deprecated Node v0.8 support</li>
<li>Typescript typings (@larssn)</li>
<li>Fix encoding of Euro character in GB 18030 (inspired by @lygstate)</li>
<li>Add ms prefix to dbcs windows encodings (@rokoroku)</li>
</ul>

        <h1 id="0-4-13-x2F-2015-10-01"   >
          <a href="#0-4-13-x2F-2015-10-01" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-13-x2F-2015-10-01" class="headerlink" title="0.4.13 &#x2F; 2015-10-01"></a>0.4.13 &#x2F; 2015-10-01</h1>
      <ul>
<li>Fix silly mistake in deprecation notice.</li>
</ul>

        <h1 id="0-4-12-x2F-2015-09-26"   >
          <a href="#0-4-12-x2F-2015-09-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-12-x2F-2015-09-26" class="headerlink" title="0.4.12 &#x2F; 2015-09-26"></a>0.4.12 &#x2F; 2015-09-26</h1>
      <ul>
<li>Node v4 support:<ul>
<li>Added CESU-8 decoding (#106)</li>
<li>Added deprecation notice for <code>extendNodeEncodings</code></li>
<li>Added Travis tests for Node v4 and io.js latest (#105 by @Mithgol)</li>
</ul>
</li>
</ul>

        <h1 id="0-4-11-x2F-2015-07-03"   >
          <a href="#0-4-11-x2F-2015-07-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-11-x2F-2015-07-03" class="headerlink" title="0.4.11 &#x2F; 2015-07-03"></a>0.4.11 &#x2F; 2015-07-03</h1>
      <ul>
<li>Added CESU-8 encoding.</li>
</ul>

        <h1 id="0-4-10-x2F-2015-05-26"   >
          <a href="#0-4-10-x2F-2015-05-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-10-x2F-2015-05-26" class="headerlink" title="0.4.10 &#x2F; 2015-05-26"></a>0.4.10 &#x2F; 2015-05-26</h1>
      <ul>
<li>Changed UTF-16 endianness heuristic to take into account any ASCII chars, not<br>just spaces. This should minimize the importance of “default” endianness.</li>
</ul>

        <h1 id="0-4-9-x2F-2015-05-24"   >
          <a href="#0-4-9-x2F-2015-05-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-9-x2F-2015-05-24" class="headerlink" title="0.4.9 &#x2F; 2015-05-24"></a>0.4.9 &#x2F; 2015-05-24</h1>
      <ul>
<li>Streamlined BOM handling: strip BOM by default, add BOM when encoding if<br>addBOM: true. Added docs to Readme.</li>
<li>UTF16 now uses UTF16-LE by default.</li>
<li>Fixed minor issue with big5 encoding.</li>
<li>Added io.js testing on Travis; updated node-iconv version to test against.<br>Now we just skip testing SBCS encodings that node-iconv doesn’t support.</li>
<li>(internal refactoring) Updated codec interface to use classes.</li>
<li>Use strict mode in all files.</li>
</ul>

        <h1 id="0-4-8-x2F-2015-04-14"   >
          <a href="#0-4-8-x2F-2015-04-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-8-x2F-2015-04-14" class="headerlink" title="0.4.8 &#x2F; 2015-04-14"></a>0.4.8 &#x2F; 2015-04-14</h1>
      <ul>
<li>added alias UNICODE-1-1-UTF-7 for UTF-7 encoding (#94)</li>
</ul>

        <h1 id="0-4-7-x2F-2015-02-05"   >
          <a href="#0-4-7-x2F-2015-02-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-7-x2F-2015-02-05" class="headerlink" title="0.4.7 &#x2F; 2015-02-05"></a>0.4.7 &#x2F; 2015-02-05</h1>
      <ul>
<li>stop official support of Node.js v0.8. Should still work, but no guarantees.<br>reason: Packages needed for testing are hard to get on Travis CI.</li>
<li>work in environment where Object.prototype is monkey patched with enumerable<br>props (#89).</li>
</ul>

        <h1 id="0-4-6-x2F-2015-01-12"   >
          <a href="#0-4-6-x2F-2015-01-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-6-x2F-2015-01-12" class="headerlink" title="0.4.6 &#x2F; 2015-01-12"></a>0.4.6 &#x2F; 2015-01-12</h1>
      <ul>
<li>fix rare aliases of single-byte encodings (thanks @mscdex)</li>
<li>double the timeout for dbcs tests to make them less flaky on travis</li>
</ul>

        <h1 id="0-4-5-x2F-2014-11-20"   >
          <a href="#0-4-5-x2F-2014-11-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-5-x2F-2014-11-20" class="headerlink" title="0.4.5 &#x2F; 2014-11-20"></a>0.4.5 &#x2F; 2014-11-20</h1>
      <ul>
<li>fix windows-31j and x-sjis encoding support (@nleush)</li>
<li>minor fix: undefined variable reference when internal error happens</li>
</ul>

        <h1 id="0-4-4-x2F-2014-07-16"   >
          <a href="#0-4-4-x2F-2014-07-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-4-x2F-2014-07-16" class="headerlink" title="0.4.4 &#x2F; 2014-07-16"></a>0.4.4 &#x2F; 2014-07-16</h1>
      <ul>
<li>added encodings UTF-7 (RFC2152) and UTF-7-IMAP (RFC3501 Section 5.1.3)</li>
<li>fixed streaming base64 encoding</li>
</ul>

        <h1 id="0-4-3-x2F-2014-06-14"   >
          <a href="#0-4-3-x2F-2014-06-14" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-3-x2F-2014-06-14" class="headerlink" title="0.4.3 &#x2F; 2014-06-14"></a>0.4.3 &#x2F; 2014-06-14</h1>
      <ul>
<li>added encodings UTF-16BE and UTF-16 with BOM</li>
</ul>

        <h1 id="0-4-2-x2F-2014-06-12"   >
          <a href="#0-4-2-x2F-2014-06-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-2-x2F-2014-06-12" class="headerlink" title="0.4.2 &#x2F; 2014-06-12"></a>0.4.2 &#x2F; 2014-06-12</h1>
      <ul>
<li>don’t throw exception if <code>extendNodeEncodings()</code> is called more than once</li>
</ul>

        <h1 id="0-4-1-x2F-2014-06-11"   >
          <a href="#0-4-1-x2F-2014-06-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-1-x2F-2014-06-11" class="headerlink" title="0.4.1 &#x2F; 2014-06-11"></a>0.4.1 &#x2F; 2014-06-11</h1>
      <ul>
<li>codepage 808 added</li>
</ul>

        <h1 id="0-4-0-x2F-2014-06-10"   >
          <a href="#0-4-0-x2F-2014-06-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-4-0-x2F-2014-06-10" class="headerlink" title="0.4.0 &#x2F; 2014-06-10"></a>0.4.0 &#x2F; 2014-06-10</h1>
      <ul>
<li>code is rewritten from scratch</li>
<li>all widespread encodings are supported</li>
<li>streaming interface added</li>
<li>browserify compatibility added</li>
<li>(optional) extend core primitive encodings to make usage even simpler</li>
<li>moved from vows to mocha as the testing framework</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/http-signature/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2017-08-25</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="node-http-signature"   >
          <a href="#node-http-signature" class="heading-link"><i class="fas fa-link"></i></a><a href="#node-http-signature" class="headerlink" title="node-http-signature"></a>node-http-signature</h1>
      <p>node-http-signature is a node.js library that has client and server components<br>for Joyent’s <a href="http_signing.md">HTTP Signature Scheme</a>.</p>

        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      <p>Note the example below signs a request with the same key&#x2F;cert used to start an<br>HTTP server. This is almost certainly not what you actually want, but is just<br>used to illustrate the API calls; you will need to provide your own key<br>management in addition to this library.</p>

        <h3 id="Client"   >
          <a href="#Client" class="heading-link"><i class="fas fa-link"></i></a><a href="#Client" class="headerlink" title="Client"></a>Client</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> https = <span class="built_in">require</span>(<span class="string">&#x27;https&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> httpSignature = <span class="built_in">require</span>(<span class="string">&#x27;http-signature&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> key = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./key.pem&#x27;</span>, <span class="string">&#x27;ascii&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">  <span class="attr">port</span>: <span class="number">8443</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Adds a &#x27;Date&#x27; header in, signs it, and adds the</span></span><br><span class="line"><span class="comment">// &#x27;Authorization&#x27; header in.</span></span><br><span class="line"><span class="keyword">var</span> req = https.<span class="title function_">request</span>(options, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">statusCode</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">httpSignature.<span class="title function_">sign</span>(req, &#123;</span><br><span class="line">  <span class="attr">key</span>: key,</span><br><span class="line">  <span class="attr">keyId</span>: <span class="string">&#x27;./cert.pem&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">req.<span class="title function_">end</span>();</span><br></pre></td></tr></table></div></figure>


        <h3 id="Server"   >
          <a href="#Server" class="heading-link"><i class="fas fa-link"></i></a><a href="#Server" class="headerlink" title="Server"></a>Server</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> https = <span class="built_in">require</span>(<span class="string">&#x27;https&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> httpSignature = <span class="built_in">require</span>(<span class="string">&#x27;http-signature&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">  <span class="attr">key</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./key.pem&#x27;</span>),</span><br><span class="line">  <span class="attr">cert</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./cert.pem&#x27;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">https.<span class="title function_">createServer</span>(options, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> rc = <span class="number">200</span>;</span><br><span class="line">  <span class="keyword">var</span> parsed = httpSignature.<span class="title function_">parseRequest</span>(req);</span><br><span class="line">  <span class="keyword">var</span> pub = fs.<span class="title function_">readFileSync</span>(parsed.<span class="property">keyId</span>, <span class="string">&#x27;ascii&#x27;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!httpSignature.<span class="title function_">verifySignature</span>(parsed, pub))</span><br><span class="line">    rc = <span class="number">401</span>;</span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">writeHead</span>(rc);</span><br><span class="line">  res.<span class="title function_">end</span>();</span><br><span class="line">&#125;).<span class="title function_">listen</span>(<span class="number">8443</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <pre><code>npm install http-signature
</code></pre>

        <h2 id="License"   >
          <a href="#License" class="heading-link"><i class="fas fa-link"></i></a><a href="#License" class="headerlink" title="License"></a>License</h2>
      <p>MIT.</p>

        <h2 id="Bugs"   >
          <a href="#Bugs" class="heading-link"><i class="fas fa-link"></i></a><a href="#Bugs" class="headerlink" title="Bugs"></a>Bugs</h2>
      <p>See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/joyent/node-http-signature/issues" >https://github.com/joyent/node-http-signature/issues</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/http-signature/http_signing/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2017-08-25</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Abstract"   >
          <a href="#Abstract" class="heading-link"><i class="fas fa-link"></i></a><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1>
      <p>This document describes a way to add origin authentication, message integrity,<br>and replay resistance to HTTP REST requests.  It is intended to be used over<br>the HTTPS protocol.</p>

        <h1 id="Copyright-Notice"   >
          <a href="#Copyright-Notice" class="heading-link"><i class="fas fa-link"></i></a><a href="#Copyright-Notice" class="headerlink" title="Copyright Notice"></a>Copyright Notice</h1>
      <p>Copyright (c) 2011 Joyent, Inc. and the persons identified as document authors.<br>All rights reserved.</p>
<p>Code Components extracted from this document must include MIT License text.</p>

        <h1 id="Introduction"   >
          <a href="#Introduction" class="heading-link"><i class="fas fa-link"></i></a><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1>
      <p>This protocol is intended to provide a standard way for clients to sign HTTP<br>requests.  RFC2617 (HTTP Authentication) defines Basic and Digest authentication<br>mechanisms, and RFC5246 (TLS 1.2) defines client-auth, both of which are widely<br>employed on the Internet today.  However, it is common place that the burdens of<br>PKI prevent web service operators from deploying that methodology, and so many<br>fall back to Basic authentication, which has poor security characteristics.</p>
<p>Additionally, OAuth provides a fully-specified alternative for authorization<br>of web service requests, but is not (always) ideal for machine to machine<br>communication, as the key acquisition steps (generally) imply a fixed<br>infrastructure that may not make sense to a service provider (e.g., symmetric<br>keys).</p>
<p>Several web service providers have invented their own schemes for signing<br>HTTP requests, but to date, none have been placed in the public domain as a<br>standard.  This document serves that purpose.  There are no techniques in this<br>proposal that are novel beyond previous art, however, this aims to be a simple<br>mechanism for signing these requests.</p>

        <h1 id="Signature-Authentication-Scheme"   >
          <a href="#Signature-Authentication-Scheme" class="heading-link"><i class="fas fa-link"></i></a><a href="#Signature-Authentication-Scheme" class="headerlink" title="Signature Authentication Scheme"></a>Signature Authentication Scheme</h1>
      <p>The “signature” authentication scheme is based on the model that the client must<br>authenticate itself with a digital signature produced by either a private<br>asymmetric key (e.g., RSA) or a shared symmetric key (e.g., HMAC).  The scheme<br>is parameterized enough such that it is not bound to any particular key type or<br>signing algorithm.  However, it does explicitly assume that clients can send an<br>HTTP <code>Date</code> header.</p>

        <h2 id="Authorization-Header"   >
          <a href="#Authorization-Header" class="heading-link"><i class="fas fa-link"></i></a><a href="#Authorization-Header" class="headerlink" title="Authorization Header"></a>Authorization Header</h2>
      <p>The client is expected to send an Authorization header (as defined in RFC 2617)<br>with the following parameterization:</p>
<pre><code>credentials := &quot;Signature&quot; params
params := 1#(keyId | algorithm | [headers] | [ext] | signature)
digitalSignature := plain-string

keyId := &quot;keyId&quot; &quot;=&quot; &lt;&quot;&gt; plain-string &lt;&quot;&gt;
algorithm := &quot;algorithm&quot; &quot;=&quot; &lt;&quot;&gt; plain-string &lt;&quot;&gt;
headers := &quot;headers&quot; &quot;=&quot; &lt;&quot;&gt; 1#headers-value &lt;&quot;&gt;
ext := &quot;ext&quot; &quot;=&quot; &lt;&quot;&gt; plain-string &lt;&quot;&gt;
signature := &quot;signature&quot; &quot;=&quot; &lt;&quot;&gt; plain-string &lt;&quot;&gt;

headers-value := plain-string
plain-string   = 1*( %x20-21 / %x23-5B / %x5D-7E )
</code></pre>

        <h3 id="Signature-Parameters"   >
          <a href="#Signature-Parameters" class="heading-link"><i class="fas fa-link"></i></a><a href="#Signature-Parameters" class="headerlink" title="Signature Parameters"></a>Signature Parameters</h3>
      
        <h4 id="keyId"   >
          <a href="#keyId" class="heading-link"><i class="fas fa-link"></i></a><a href="#keyId" class="headerlink" title="keyId"></a>keyId</h4>
      <p>REQUIRED.  The <code>keyId</code> field is an opaque string that the server can use to look<br>up the component they need to validate the signature.  It could be an SSH key<br>fingerprint, an LDAP DN, etc.  Management of keys and assignment of <code>keyId</code> is<br>out of scope for this document.</p>

        <h4 id="algorithm"   >
          <a href="#algorithm" class="heading-link"><i class="fas fa-link"></i></a><a href="#algorithm" class="headerlink" title="algorithm"></a>algorithm</h4>
      <p>REQUIRED. The <code>algorithm</code> parameter is used if the client and server agree on a<br>non-standard digital signature algorithm.  The full list of supported signature<br>mechanisms is listed below.</p>

        <h4 id="headers"   >
          <a href="#headers" class="heading-link"><i class="fas fa-link"></i></a><a href="#headers" class="headerlink" title="headers"></a>headers</h4>
      <p>OPTIONAL.  The <code>headers</code> parameter is used to specify the list of HTTP headers<br>used to sign the request.  If specified, it should be a quoted list of HTTP<br>header names, separated by a single space character.  By default, only one<br>HTTP header is signed, which is the <code>Date</code> header.  Note that the list MUST be<br>specified in the order the values are concatenated together during signing. To<br>include the HTTP request line in the signature calculation, use the special<br><code>request-line</code> value.  While this is overloading the definition of <code>headers</code> in<br>HTTP linguism, the request-line is defined in RFC 2616, and as the outlier from<br>headers in useful signature calculation, it is deemed simpler to simply use<br><code>request-line</code> than to add a separate parameter for it.</p>

        <h4 id="extensions"   >
          <a href="#extensions" class="heading-link"><i class="fas fa-link"></i></a><a href="#extensions" class="headerlink" title="extensions"></a>extensions</h4>
      <p>OPTIONAL.  The <code>extensions</code> parameter is used to include additional information<br>which is covered by the request.  The content and format of the string is out of<br>scope for this document, and expected to be specified by implementors.</p>

        <h4 id="signature"   >
          <a href="#signature" class="heading-link"><i class="fas fa-link"></i></a><a href="#signature" class="headerlink" title="signature"></a>signature</h4>
      <p>REQUIRED.  The <code>signature</code> parameter is a <code>Base64</code> encoded digital signature<br>generated by the client. The client uses the <code>algorithm</code> and <code>headers</code> request<br>parameters to form a canonicalized <code>signing string</code>.  This <code>signing string</code> is<br>then signed with the key associated with <code>keyId</code> and the algorithm<br>corresponding to <code>algorithm</code>.  The <code>signature</code> parameter is then set to the<br><code>Base64</code> encoding of the signature.</p>

        <h3 id="Signing-String-Composition"   >
          <a href="#Signing-String-Composition" class="heading-link"><i class="fas fa-link"></i></a><a href="#Signing-String-Composition" class="headerlink" title="Signing String Composition"></a>Signing String Composition</h3>
      <p>In order to generate the string that is signed with a key, the client MUST take<br>the values of each HTTP header specified by <code>headers</code> in the order they appear.</p>
<ol>
<li>If the header name is not <code>request-line</code> then append the lowercased header<br>name followed with an ASCII colon <code>:</code> and an ASCII space <code> </code>.</li>
<li>If the header name is <code>request-line</code> then append the HTTP request line,<br>otherwise append the header value.</li>
<li>If value is not the last value then append an ASCII newline <code>\n</code>. The string<br>MUST NOT include a trailing ASCII newline.</li>
</ol>

        <h1 id="Example-Requests"   >
          <a href="#Example-Requests" class="heading-link"><i class="fas fa-link"></i></a><a href="#Example-Requests" class="headerlink" title="Example Requests"></a>Example Requests</h1>
      <p>All requests refer to the following request (body omitted):</p>
<pre><code>POST /foo HTTP/1.1
Host: example.org
Date: Tue, 07 Jun 2014 20:51:35 GMT
Content-Type: application/json
Digest: SHA-256=X48E9qOokqqrvdts8nOJRJN3OWDUoyWxBf7kbu9DBPE=
Content-Length: 18
</code></pre>
<p>The “rsa-key-1” keyId refers to a private key known to the client and a public<br>key known to the server. The “hmac-key-1” keyId refers to key known to the<br>client and server.</p>

        <h2 id="Default-parameterization"   >
          <a href="#Default-parameterization" class="heading-link"><i class="fas fa-link"></i></a><a href="#Default-parameterization" class="headerlink" title="Default parameterization"></a>Default parameterization</h2>
      <p>The authorization header and signature would be generated as:</p>
<pre><code>Authorization: Signature keyId=&quot;rsa-key-1&quot;,algorithm=&quot;rsa-sha256&quot;,signature=&quot;Base64(RSA-SHA256(signing string))&quot;
</code></pre>
<p>The client would compose the signing string as:</p>
<pre><code>date: Tue, 07 Jun 2014 20:51:35 GMT
</code></pre>

        <h2 id="Header-List"   >
          <a href="#Header-List" class="heading-link"><i class="fas fa-link"></i></a><a href="#Header-List" class="headerlink" title="Header List"></a>Header List</h2>
      <p>The authorization header and signature would be generated as:</p>
<pre><code>Authorization: Signature keyId=&quot;rsa-key-1&quot;,algorithm=&quot;rsa-sha256&quot;,headers=&quot;(request-target) date content-type digest&quot;,signature=&quot;Base64(RSA-SHA256(signing string))&quot;
</code></pre>
<p>The client would compose the signing string as (<code>+ &quot;\n&quot;</code> inserted for<br>readability):</p>
<pre><code>(request-target) post /foo + &quot;\n&quot;
date: Tue, 07 Jun 2011 20:51:35 GMT + &quot;\n&quot;
content-type: application/json + &quot;\n&quot;
digest: SHA-256=Base64(SHA256(Body))
</code></pre>

        <h2 id="Algorithm"   >
          <a href="#Algorithm" class="heading-link"><i class="fas fa-link"></i></a><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2>
      <p>The authorization header and signature would be generated as:</p>
<pre><code>Authorization: Signature keyId=&quot;hmac-key-1&quot;,algorithm=&quot;hmac-sha1&quot;,signature=&quot;Base64(HMAC-SHA1(signing string))&quot;
</code></pre>
<p>The client would compose the signing string as:</p>
<pre><code>date: Tue, 07 Jun 2011 20:51:35 GMT
</code></pre>

        <h1 id="Signing-Algorithms"   >
          <a href="#Signing-Algorithms" class="heading-link"><i class="fas fa-link"></i></a><a href="#Signing-Algorithms" class="headerlink" title="Signing Algorithms"></a>Signing Algorithms</h1>
      <p>Currently supported algorithm names are:</p>
<ul>
<li>rsa-sha1</li>
<li>rsa-sha256</li>
<li>rsa-sha512</li>
<li>dsa-sha1</li>
<li>hmac-sha1</li>
<li>hmac-sha256</li>
<li>hmac-sha512</li>
</ul>

        <h1 id="Security-Considerations"   >
          <a href="#Security-Considerations" class="heading-link"><i class="fas fa-link"></i></a><a href="#Security-Considerations" class="headerlink" title="Security Considerations"></a>Security Considerations</h1>
      
        <h2 id="Default-Parameters"   >
          <a href="#Default-Parameters" class="heading-link"><i class="fas fa-link"></i></a><a href="#Default-Parameters" class="headerlink" title="Default Parameters"></a>Default Parameters</h2>
      <p>Note the default parameterization of the <code>Signature</code> scheme is only safe if all<br>requests are carried over a secure transport (i.e., TLS).  Sending the default<br>scheme over a non-secure transport will leave the request vulnerable to<br>spoofing, tampering, replay&#x2F;repudiation, and integrity violations (if using the<br>STRIDE threat-modeling methodology).</p>

        <h2 id="Insecure-Transports"   >
          <a href="#Insecure-Transports" class="heading-link"><i class="fas fa-link"></i></a><a href="#Insecure-Transports" class="headerlink" title="Insecure Transports"></a>Insecure Transports</h2>
      <p>If sending the request over plain HTTP, service providers SHOULD require clients<br>to sign ALL HTTP headers, and the <code>request-line</code>.  Additionally, service<br>providers SHOULD require <code>Content-MD5</code> calculations to be performed to ensure<br>against any tampering from clients.</p>

        <h2 id="Nonces"   >
          <a href="#Nonces" class="heading-link"><i class="fas fa-link"></i></a><a href="#Nonces" class="headerlink" title="Nonces"></a>Nonces</h2>
      <p>Nonces are out of scope for this document simply because many service providers<br>fail to implement them correctly, or do not adopt security specifications<br>because of the infrastructure complexity.  Given the <code>header</code> parameterization,<br>a service provider is fully enabled to add nonce semantics into this scheme by<br>using something like an <code>x-request-nonce</code> header, and ensuring it is signed<br>with the <code>Date</code> header.</p>

        <h2 id="Clock-Skew"   >
          <a href="#Clock-Skew" class="heading-link"><i class="fas fa-link"></i></a><a href="#Clock-Skew" class="headerlink" title="Clock Skew"></a>Clock Skew</h2>
      <p>As the default scheme is to sign the <code>Date</code> header, service providers SHOULD<br>protect against logged replay attacks by enforcing a clock skew.  The server<br>SHOULD be synchronized with NTP, and the recommendation in this specification<br>is to allow 300s of clock skew (in either direction).</p>

        <h2 id="Required-Headers-to-Sign"   >
          <a href="#Required-Headers-to-Sign" class="heading-link"><i class="fas fa-link"></i></a><a href="#Required-Headers-to-Sign" class="headerlink" title="Required Headers to Sign"></a>Required Headers to Sign</h2>
      <p>It is out of scope for this document to dictate what headers a service provider<br>will want to enforce, but service providers SHOULD at minimum include the<br><code>Date</code> header.</p>

        <h1 id="References"   >
          <a href="#References" class="heading-link"><i class="fas fa-link"></i></a><a href="#References" class="headerlink" title="References"></a>References</h1>
      
        <h2 id="Normative-References"   >
          <a href="#Normative-References" class="heading-link"><i class="fas fa-link"></i></a><a href="#Normative-References" class="headerlink" title="Normative References"></a>Normative References</h2>
      <ul>
<li>[RFC2616] Hypertext Transfer Protocol – HTTP&#x2F;1.1</li>
<li>[RFC2617] HTTP Authentication: Basic and Digest Access Authentication</li>
<li>[RFC5246] The Transport Layer Security (TLS) Protocol Version 1.2</li>
</ul>

        <h2 id="Informative-References"   >
          <a href="#Informative-References" class="heading-link"><i class="fas fa-link"></i></a><a href="#Informative-References" class="headerlink" title="Informative References"></a>Informative References</h2>
      <pre><code>Name: Mark Cavage (editor)
Company: Joyent, Inc.
Email: mark.cavage@joyent.com
URI: http://www.joyent.com
</code></pre>

        <h1 id="Appendix-A-Test-Values"   >
          <a href="#Appendix-A-Test-Values" class="heading-link"><i class="fas fa-link"></i></a><a href="#Appendix-A-Test-Values" class="headerlink" title="Appendix A - Test Values"></a>Appendix A - Test Values</h1>
      <p>The following test data uses the RSA (1024b) keys, which we will refer<br>to as <code>keyId=Test</code> in the following samples:</p>
<pre><code>-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCFENGw33yGihy92pDjZQhl0C3
6rPJj+CvfSC8+q28hxA161QFNUd13wuCTUcq0Qd2qsBe/2hFyc2DCJJg0h1L78+6
Z4UMR7EOcpfdUE9Hf3m/hs+FUR45uBJeDK1HSFHD8bHKD6kv8FPGfJTotc+2xjJw
oYi+1hqp1fIekaxsyQIDAQAB
-----END PUBLIC KEY-----

-----BEGIN RSA PRIVATE KEY-----
MIICXgIBAAKBgQDCFENGw33yGihy92pDjZQhl0C36rPJj+CvfSC8+q28hxA161QF
NUd13wuCTUcq0Qd2qsBe/2hFyc2DCJJg0h1L78+6Z4UMR7EOcpfdUE9Hf3m/hs+F
UR45uBJeDK1HSFHD8bHKD6kv8FPGfJTotc+2xjJwoYi+1hqp1fIekaxsyQIDAQAB
AoGBAJR8ZkCUvx5kzv+utdl7T5MnordT1TvoXXJGXK7ZZ+UuvMNUCdN2QPc4sBiA
QWvLw1cSKt5DsKZ8UETpYPy8pPYnnDEz2dDYiaew9+xEpubyeW2oH4Zx71wqBtOK
kqwrXa/pzdpiucRRjk6vE6YY7EBBs/g7uanVpGibOVAEsqH1AkEA7DkjVH28WDUg
f1nqvfn2Kj6CT7nIcE3jGJsZZ7zlZmBmHFDONMLUrXR/Zm3pR5m0tCmBqa5RK95u
412jt1dPIwJBANJT3v8pnkth48bQo/fKel6uEYyboRtA5/uHuHkZ6FQF7OUkGogc
mSJluOdc5t6hI1VsLn0QZEjQZMEOWr+wKSMCQQCC4kXJEsHAve77oP6HtG/IiEn7
kpyUXRNvFsDE0czpJJBvL/aRFUJxuRK91jhjC68sA7NsKMGg5OXb5I5Jj36xAkEA
gIT7aFOYBFwGgQAQkWNKLvySgKbAZRTeLBacpHMuQdl1DfdntvAyqpAZ0lY0RKmW
G6aFKaqQfOXKCyWoUiVknQJAXrlgySFci/2ueKlIE1QqIiLSZ8V8OlpFLRnb1pzI
7U1yQXnTAEFYM560yJlzUpOb1V4cScGd365tiSMvxLOvTA==
-----END RSA PRIVATE KEY-----
</code></pre>
<p>And all examples use this request:</p>
<!-- httpreq -->

<pre><code>POST /foo?param=value&amp;pet=dog HTTP/1.1
Host: example.com
Date: Thu, 05 Jan 2014 21:31:40 GMT
Content-Type: application/json
Digest: SHA-256=X48E9qOokqqrvdts8nOJRJN3OWDUoyWxBf7kbu9DBPE=
Content-Length: 18

&#123;&quot;hello&quot;: &quot;world&quot;&#125;
</code></pre>
<!-- /httpreq -->


        <h3 id="Default"   >
          <a href="#Default" class="heading-link"><i class="fas fa-link"></i></a><a href="#Default" class="headerlink" title="Default"></a>Default</h3>
      <p>The string to sign would be:</p>
<!-- sign {"name": "Default", "options": {"keyId":"Test", "algorithm": "rsa-sha256"}} -->
<!-- signstring -->

<pre><code>date: Thu, 05 Jan 2014 21:31:40 GMT
</code></pre>
<!-- /signstring -->

<p>The Authorization header would be:</p>
<!-- authz -->

<pre><code>Authorization: Signature keyId=&quot;Test&quot;,algorithm=&quot;rsa-sha256&quot;,headers=&quot;date&quot;,signature=&quot;jKyvPcxB4JbmYY4mByyBY7cZfNl4OW9HpFQlG7N4YcJPteKTu4MWCLyk+gIr0wDgqtLWf9NLpMAMimdfsH7FSWGfbMFSrsVTHNTk0rK3usrfFnti1dxsM4jl0kYJCKTGI/UWkqiaxwNiKqGcdlEDrTcUhhsFsOIo8VhddmZTZ8w=&quot;
</code></pre>
<!-- /authz -->


        <h3 id="All-Headers"   >
          <a href="#All-Headers" class="heading-link"><i class="fas fa-link"></i></a><a href="#All-Headers" class="headerlink" title="All Headers"></a>All Headers</h3>
      <p>Parameterized to include all headers, the string to sign would be (<code>+ &quot;\n&quot;</code><br>inserted for readability):</p>
<!-- sign {"name": "All Headers", "options": {"keyId":"Test", "algorithm": "rsa-sha256", "headers": ["(request-target)", "host", "date", "content-type", "digest", "content-length"]}} -->
<!-- signstring -->

<pre><code>(request-target): post /foo?param=value&amp;pet=dog
host: example.com
date: Thu, 05 Jan 2014 21:31:40 GMT
content-type: application/json
digest: SHA-256=X48E9qOokqqrvdts8nOJRJN3OWDUoyWxBf7kbu9DBPE=
content-length: 18
</code></pre>
<!-- /signstring -->

<p>The Authorization header would be:</p>
<!-- authz -->

<pre><code>Authorization: Signature keyId=&quot;Test&quot;,algorithm=&quot;rsa-sha256&quot;,headers=&quot;(request-target) host date content-type digest content-length&quot;,signature=&quot;Ef7MlxLXoBovhil3AlyjtBwAL9g4TN3tibLj7uuNB3CROat/9KaeQ4hW2NiJ+pZ6HQEOx9vYZAyi+7cmIkmJszJCut5kQLAwuX+Ms/mUFvpKlSo9StS2bMXDBNjOh4Auj774GFj4gwjS+3NhFeoqyr/MuN6HsEnkvn6zdgfE2i0=&quot;
</code></pre>
<!-- /authz -->


        <h2 id="Generating-and-verifying-signatures-using-openssl"   >
          <a href="#Generating-and-verifying-signatures-using-openssl" class="heading-link"><i class="fas fa-link"></i></a><a href="#Generating-and-verifying-signatures-using-openssl" class="headerlink" title="Generating and verifying signatures using openssl"></a>Generating and verifying signatures using <code>openssl</code></h2>
      <p>The <code>openssl</code> commandline tool can be used to generate or verify the signatures listed above.</p>
<p>Compose the signing string as usual, and pipe it into the the <code>openssl dgst</code> command, then into <code>openssl enc -base64</code>, as follows:</p>
<pre><code>$ printf &#39;date: Thu, 05 Jan 2014 21:31:40 GMT&#39; | \
  openssl dgst -binary -sign /path/to/private.pem -sha256 | \
  openssl enc -base64
jKyvPcxB4JbmYY4mByyBY7cZfNl4OW9Hp...
$
</code></pre>
<p>The <code>-sha256</code> option is necessary to produce an <code>rsa-sha256</code> signature. You can select other hash algorithms such as <code>sha1</code> by changing this argument.</p>
<p>To verify a signature, first save the signature data, Base64-decoded, into a file, then use <code>openssl dgst</code> again with the <code>-verify</code> option:</p>
<pre><code>$ echo &#39;jKyvPcxB4JbmYY4mByy...&#39; | openssl enc -A -d -base64 &gt; signature
$ printf &#39;date: Thu, 05 Jan 2014 21:31:40 GMT&#39; | \
  openssl dgst -sha256 -verify /path/to/public.pem -signature ./signature
Verified OK
$
</code></pre>

        <h2 id="Generating-and-verifying-signatures-using-sshpk-sign"   >
          <a href="#Generating-and-verifying-signatures-using-sshpk-sign" class="heading-link"><i class="fas fa-link"></i></a><a href="#Generating-and-verifying-signatures-using-sshpk-sign" class="headerlink" title="Generating and verifying signatures using sshpk-sign"></a>Generating and verifying signatures using <code>sshpk-sign</code></h2>
      <p>You can also generate and check signatures using the <code>sshpk-sign</code> tool which is<br>included with the <code>sshpk</code> package in <code>npm</code>.</p>
<p>Compose the signing string as above, and pipe it into <code>sshpk-sign</code> as follows:</p>
<pre><code>$ printf &#39;date: Thu, 05 Jan 2014 21:31:40 GMT&#39; | \
  sshpk-sign -i /path/to/private.pem
jKyvPcxB4JbmYY4mByyBY7cZfNl4OW9Hp...
$
</code></pre>
<p>This will produce an <code>rsa-sha256</code> signature by default, as you can see using<br>the <code>-v</code> option:</p>
<pre><code>sshpk-sign: using rsa-sha256 with a 1024 bit key
</code></pre>
<p>You can also use <code>sshpk-verify</code> in a similar manner:</p>
<pre><code>$ printf &#39;date: Thu, 05 Jan 2014 21:31:40 GMT&#39; | \
  sshpk-verify -i ./public.pem -s &#39;jKyvPcxB4JbmYY...&#39;
OK
$
</code></pre>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/http-signature/CHANGES/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2017-08-25</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="node-http-signature-changelog"   >
          <a href="#node-http-signature-changelog" class="heading-link"><i class="fas fa-link"></i></a><a href="#node-http-signature-changelog" class="headerlink" title="node-http-signature changelog"></a>node-http-signature changelog</h1>
      
        <h2 id="1-1-1"   >
          <a href="#1-1-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-1" class="headerlink" title="1.1.1"></a>1.1.1</h2>
      <ul>
<li>Version of dependency <code>assert-plus</code> updated: old version was missing<br>some license information</li>
<li>Corrected examples in <code>http_signing.md</code>, added auto-tests to<br>automatically validate these examples</li>
</ul>

        <h2 id="1-1-0"   >
          <a href="#1-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-0" class="headerlink" title="1.1.0"></a>1.1.0</h2>
      <ul>
<li>Bump version of <code>sshpk</code> dependency, remove peerDependency on it since<br>it now supports exchanging objects between multiple versions of itself<br>where possible</li>
</ul>

        <h2 id="1-0-2"   >
          <a href="#1-0-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-2" class="headerlink" title="1.0.2"></a>1.0.2</h2>
      <ul>
<li>Bump min version of <code>jsprim</code> dependency, to include fixes for using<br>http-signature with <code>browserify</code></li>
</ul>

        <h2 id="1-0-1"   >
          <a href="#1-0-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-1" class="headerlink" title="1.0.1"></a>1.0.1</h2>
      <ul>
<li>Bump minimum version of <code>sshpk</code> dependency, to include fixes for<br>whitespace tolerance in key parsing.</li>
</ul>

        <h2 id="1-0-0"   >
          <a href="#1-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-0" class="headerlink" title="1.0.0"></a>1.0.0</h2>
      <ul>
<li>First semver release.</li>
<li>#36: Ensure verifySignature does not leak useful timing information</li>
<li>#42: Bring the library up to the latest version of the spec (including the<br> request-target changes)</li>
<li>Support for ECDSA keys and signatures.</li>
<li>Now uses <code>sshpk</code> for key parsing, validation and conversion.</li>
<li>Fixes for #21, #47, #39 and compatibility with node 0.8</li>
</ul>

        <h2 id="0-11-0"   >
          <a href="#0-11-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-11-0" class="headerlink" title="0.11.0"></a>0.11.0</h2>
      <ul>
<li>Split up HMAC and Signature verification to avoid vulnerabilities where a<br>key intended for use with one can be validated against the other method<br>instead.</li>
</ul>

        <h2 id="0-10-2"   >
          <a href="#0-10-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#0-10-2" class="headerlink" title="0.10.2"></a>0.10.2</h2>
      <ul>
<li>Updated versions of most dependencies.</li>
<li>Utility functions exported for PEM &#x3D;&gt; SSH-RSA conversion.</li>
<li>Improvements to tests and examples.</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/html-encoding-sniffer/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Determine-the-Encoding-of-a-HTML-Byte-Stream"   >
          <a href="#Determine-the-Encoding-of-a-HTML-Byte-Stream" class="heading-link"><i class="fas fa-link"></i></a><a href="#Determine-the-Encoding-of-a-HTML-Byte-Stream" class="headerlink" title="Determine the Encoding of a HTML Byte Stream"></a>Determine the Encoding of a HTML Byte Stream</h1>
      <p>This package implements the HTML Standard’s <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/syntax.html#encoding-sniffing-algorithm" >encoding sniffing algorithm</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> in all its glory. The most interesting part of this is how it pre-scans the first 1024 bytes in order to search for certain <code>&lt;meta charset&gt;</code>-related patterns.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> htmlEncodingSniffer = <span class="built_in">require</span>(<span class="string">&quot;html-encoding-sniffer&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> htmlBuffer = fs.<span class="title function_">readFileSync</span>(<span class="string">&quot;./html-page.html&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sniffedEncoding = <span class="title function_">htmlEncodingSniffer</span>(htmlBuffer);</span><br></pre></td></tr></table></div></figure>

<p>The returned value will be a canonical <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://encoding.spec.whatwg.org/#names-and-labels" >encoding name</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (not a label). You might then combine this with the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jsdom/whatwg-encoding" >whatwg-encoding</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> package to decode the result:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> whatwgEncoding = <span class="built_in">require</span>(<span class="string">&quot;whatwg-encoding&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlString = whatwgEncoding.<span class="title function_">decode</span>(htmlBuffer, sniffedEncoding);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Options"   >
          <a href="#Options" class="heading-link"><i class="fas fa-link"></i></a><a href="#Options" class="headerlink" title="Options"></a>Options</h2>
      <p>You can pass two potential options to <code>htmlEncodingSniffer</code>:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sniffedEncoding = <span class="title function_">htmlEncodingSniffer</span>(htmlBuffer, &#123;</span><br><span class="line">  transportLayerEncodingLabel,</span><br><span class="line">  defaultEncoding</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>These represent two possible inputs into the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/syntax.html#encoding-sniffing-algorithm" >encoding sniffing algorithm</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<ul>
<li><code>transportLayerEncodingLabel</code> is an encoding label that is obtained from the “transport layer” (probably a HTTP <code>Content-Type</code> header), which overrides everything but a BOM.</li>
<li><code>defaultEncoding</code> is the ultimate fallback encoding used if no valid encoding is supplied by the transport layer, and no encoding is sniffed from the bytes. It defaults to <code>&quot;windows-1252&quot;</code>, as recommended by the algorithm’s table of suggested defaults for “All other locales” (including the <code>en</code> locale).</li>
</ul>

        <h2 id="Credits"   >
          <a href="#Credits" class="heading-link"><i class="fas fa-link"></i></a><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2>
      <p>This package was originally based on the excellent work of <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nicolashenry" >@nicolashenry</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/tmpvar/jsdom/blob/16fd85618f2705d181232f6552125872a37164bc/lib/jsdom/living/helpers/encoding.js" >in jsdom</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. It has since been pulled out into this separate package.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/har-validator/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="HAR-Validator"   >
          <a href="#HAR-Validator" class="heading-link"><i class="fas fa-link"></i></a><a href="#HAR-Validator" class="headerlink" title="HAR Validator"></a>HAR Validator</h1>
      <p><a href="LICENSE"><img src="https://badgen.net/github/license/ahmadnassri/node-har-validator" alt="license"></a><br><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/har-validator"><img src="https://badgen.net/npm/v/har-validator" alt="version"></a><br><a target="_blank" rel="noopener" href="https://github.com/ahmadnassri/node-har-validator/actions?query=workflow:super-linter"><img src="https://github.com/ahmadnassri/node-har-validator/workflows/super-linter/badge.svg" alt="super linter"></a><br><a target="_blank" rel="noopener" href="https://github.com/ahmadnassri/node-har-validator/actions?query=workflow:test"><img src="https://github.com/ahmadnassri/node-har-validator/workflows/test/badge.svg" alt="test"></a><br><a target="_blank" rel="noopener" href="https://github.com/ahmadnassri/node-har-validator/actions?query=workflow:release"><img src="https://github.com/ahmadnassri/node-har-validator/workflows/release/badge.svg" alt="release"></a></p>
<blockquote>
<p>Extremely fast HTTP Archive (<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ahmadnassri/har-spec/blob/master/versions/1.2.md" >HAR</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>) validator using JSON Schema.</p>
</blockquote>

        <h2 id="Install"   >
          <a href="#Install" class="heading-link"><i class="fas fa-link"></i></a><a href="#Install" class="headerlink" title="Install"></a>Install</h2>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install har-validator</span><br></pre></td></tr></table></div></figure>


        <h2 id="CLI-Usage"   >
          <a href="#CLI-Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#CLI-Usage" class="headerlink" title="CLI Usage"></a>CLI Usage</h2>
      <p>Please refer to <a target="_blank" rel="noopener" href="https://github.com/ahmadnassri/har-cli"><code>har-cli</code></a> for more info.</p>

        <h2 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h2>
      <p><strong>Note</strong>: as of <a target="_blank" rel="noopener" href="https://github.com/ahmadnassri/node-har-validator/releases/tag/v2.0.0"><code>v2.0.0</code></a> this module defaults to Promise based API.<br><em>For backward compatibility with <code>v1.x</code> an <a href="docs/async.md">async&#x2F;callback API</a> is also provided</em></p>
<ul>
<li><a href="docs/async.md">async API</a></li>
<li><a href="docs/async.md">callback API</a></li>
<li><a href="docs/promise.md">Promise API</a> <em>(default)</em></li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/getpass/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2016-04-22</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="getpass"   >
          <a href="#getpass" class="heading-link"><i class="fas fa-link"></i></a><a href="#getpass" class="headerlink" title="getpass"></a>getpass</h2>
      <p>Get a password from the terminal. Sounds simple? Sounds like the <code>readline</code><br>module should be able to do it? NOPE.</p>

        <h2 id="Install-and-use-it"   >
          <a href="#Install-and-use-it" class="heading-link"><i class="fas fa-link"></i></a><a href="#Install-and-use-it" class="headerlink" title="Install and use it"></a>Install and use it</h2>
      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save getpass</span><br></pre></td></tr></table></div></figure>

<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mod_getpass = <span class="built_in">require</span>(<span class="string">&#x27;getpass&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h2>
      
        <h3 id="mod-getpass-getPass-options-callback"   >
          <a href="#mod-getpass-getPass-options-callback" class="heading-link"><i class="fas fa-link"></i></a><a href="#mod-getpass-getPass-options-callback" class="headerlink" title="mod_getpass.getPass([options, ]callback)"></a><code>mod_getpass.getPass([options, ]callback)</code></h3>
      <p>Gets a password from the terminal. If available, this uses <code>/dev/tty</code> to avoid<br>interfering with any data being piped in or out of stdio.</p>
<p>This function prints a prompt (by default <code>Password:</code>) and then accepts input<br>without echoing.</p>
<p>Parameters:</p>
<ul>
<li><code>options</code>, an Object, with properties:<ul>
<li><code>prompt</code>, an optional String</li>
</ul>
</li>
<li><code>callback</code>, a <code>Func(error, password)</code>, with arguments:<ul>
<li><code>error</code>, either <code>null</code> (no error) or an <code>Error</code> instance</li>
<li><code>password</code>, a String</li>
</ul>
</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/form-data/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2018-10-17</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Form-Data"   >
          <a href="#Form-Data" class="heading-link"><i class="fas fa-link"></i></a><a href="#Form-Data" class="headerlink" title="Form-Data  "></a>Form-Data <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/form-data"><img src="https://img.shields.io/npm/v/form-data.svg" alt="NPM Module"></a> <a target="_blank" rel="noopener" href="https://gitter.im/form-data/form-data"><img src="http://form-data.github.io/images/gitterbadge.svg" alt="Join the chat at https://gitter.im/form-data/form-data"></a></h1>
      <p>A library to create readable <code>&quot;multipart/form-data&quot;</code> streams. Can be used to submit forms and file uploads to other web applications.</p>
<p>The API of this library is inspired by the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://dev.w3.org/2006/webapi/XMLHttpRequest-2/Overview.html#the-formdata-interface" >XMLHttpRequest-2 FormData Interface</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p><a target="_blank" rel="noopener" href="https://travis-ci.org/form-data/form-data"><img   src="https://img.shields.io/travis/form-data/form-data/v2.3.3.svg?label=linux:4.x-9.x" style=""  alt="Linux Build"></a><br><a target="_blank" rel="noopener" href="https://travis-ci.org/form-data/form-data"><img   src="https://img.shields.io/travis/form-data/form-data/v2.3.3.svg?label=macos:4.x-9.x" style=""  alt="MacOS Build"></a><br><a target="_blank" rel="noopener" href="https://ci.appveyor.com/project/alexindigo/form-data"><img   src="https://img.shields.io/appveyor/ci/alexindigo/form-data/v2.3.3.svg?label=windows:4.x-9.x" style=""  alt="Windows Build"></a></p>
<p><a target="_blank" rel="noopener" href="https://coveralls.io/github/form-data/form-data?branch=master"><img   src="https://img.shields.io/coveralls/form-data/form-data/v2.3.3.svg?label=code+coverage" style=""  alt="Coverage Status"></a><br><a target="_blank" rel="noopener" href="https://david-dm.org/form-data/form-data"><img src="https://img.shields.io/david/form-data/form-data.svg" alt="Dependency Status"></a><br><a target="_blank" rel="noopener" href="https://www.bithound.io/github/form-data/form-data"><img src="https://www.bithound.io/github/form-data/form-data/badges/score.svg" alt="bitHound Overall Score"></a></p>

        <h2 id="Install"   >
          <a href="#Install" class="heading-link"><i class="fas fa-link"></i></a><a href="#Install" class="headerlink" title="Install"></a>Install</h2>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save form-data</span><br></pre></td></tr></table></div></figure>


        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      <p>In this example we are constructing a form with 3 fields that contain a string,<br>a buffer and a file stream.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">FormData</span> = <span class="built_in">require</span>(<span class="string">&#x27;form-data&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_field&#x27;</span>, <span class="string">&#x27;my value&#x27;</span>);</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_buffer&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">10</span>));</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_file&#x27;</span>, fs.<span class="title function_">createReadStream</span>(<span class="string">&#x27;/foo/bar.jpg&#x27;</span>));</span><br></pre></td></tr></table></div></figure>

<p>Also you can use http-response stream:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">FormData</span> = <span class="built_in">require</span>(<span class="string">&#x27;form-data&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">request</span>(<span class="string">&#x27;http://nodejs.org/images/logo.png&#x27;</span>, <span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&#x27;my_field&#x27;</span>, <span class="string">&#x27;my value&#x27;</span>);</span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&#x27;my_buffer&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">10</span>));</span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&#x27;my_logo&#x27;</span>, response);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>Or @mikeal’s <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request" >request</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> stream:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">FormData</span> = <span class="built_in">require</span>(<span class="string">&#x27;form-data&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> request = <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_field&#x27;</span>, <span class="string">&#x27;my value&#x27;</span>);</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_buffer&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">10</span>));</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_logo&#x27;</span>, <span class="title function_">request</span>(<span class="string">&#x27;http://nodejs.org/images/logo.png&#x27;</span>));</span><br></pre></td></tr></table></div></figure>

<p>In order to submit this form to a web application, call <code>submit(url, [callback])</code> method:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">form.<span class="title function_">submit</span>(<span class="string">&#x27;http://example.org/&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">  <span class="comment">// res – response object (http.IncomingMessage)  //</span></span><br><span class="line">  res.<span class="title function_">resume</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>For more advanced request manipulations <code>submit()</code> method returns <code>http.ClientRequest</code> object, or you can choose from one of the alternative submission methods.</p>

        <h3 id="Custom-options"   >
          <a href="#Custom-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#Custom-options" class="headerlink" title="Custom options"></a>Custom options</h3>
      <p>You can provide custom options, such as <code>maxDataSize</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">FormData</span> = <span class="built_in">require</span>(<span class="string">&#x27;form-data&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>(&#123; <span class="attr">maxDataSize</span>: <span class="number">20971520</span> &#125;);</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_field&#x27;</span>, <span class="string">&#x27;my value&#x27;</span>);</span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_buffer&#x27;</span>, <span class="comment">/* something big */</span>);</span><br></pre></td></tr></table></div></figure>

<p>List of available options could be found in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/felixge/node-combined-stream/blob/master/lib/combined_stream.js#L7-L15" >combined-stream</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Alternative-submission-methods"   >
          <a href="#Alternative-submission-methods" class="heading-link"><i class="fas fa-link"></i></a><a href="#Alternative-submission-methods" class="headerlink" title="Alternative submission methods"></a>Alternative submission methods</h3>
      <p>You can use node’s http client interface:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> request = http.<span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;example.org&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/upload&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: form.<span class="title function_">getHeaders</span>()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">pipe</span>(request);</span><br><span class="line"></span><br><span class="line">request.<span class="title function_">on</span>(<span class="string">&#x27;response&#x27;</span>, <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">statusCode</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>Or if you would prefer the <code>&#39;Content-Length&#39;</code> header to be set for you:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">form.<span class="title function_">submit</span>(<span class="string">&#x27;example.org/upload&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">statusCode</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>To use custom headers and pre-known length in parts:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CRLF</span> = <span class="string">&#x27;\r\n&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">  <span class="attr">header</span>: <span class="variable constant_">CRLF</span> + <span class="string">&#x27;--&#x27;</span> + form.<span class="title function_">getBoundary</span>() + <span class="variable constant_">CRLF</span> + <span class="string">&#x27;X-Custom-Header: 123&#x27;</span> + <span class="variable constant_">CRLF</span> + <span class="variable constant_">CRLF</span>,</span><br><span class="line">  <span class="attr">knownLength</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;my_buffer&#x27;</span>, buffer, options);</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">submit</span>(<span class="string">&#x27;http://example.com/&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Done&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>Form-Data can recognize and fetch all the required information from common types of streams (<code>fs.readStream</code>, <code>http.response</code> and <code>mikeal&#39;s request</code>), for some other types of streams you’d need to provide “file”-related information manually:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">someModule.<span class="title function_">stream</span>(<span class="keyword">function</span>(<span class="params">err, stdout, stderr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line"></span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, stdout, &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;unicycle.jpg&#x27;</span>, <span class="comment">// ... or:</span></span><br><span class="line">    <span class="attr">filepath</span>: <span class="string">&#x27;photos/toys/unicycle.jpg&#x27;</span>,</span><br><span class="line">    <span class="attr">contentType</span>: <span class="string">&#x27;image/jpeg&#x27;</span>,</span><br><span class="line">    <span class="attr">knownLength</span>: <span class="number">19806</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  form.<span class="title function_">submit</span>(<span class="string">&#x27;http://example.com/&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Done&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>The <code>filepath</code> property overrides <code>filename</code> and may contain a relative path. This is typically used when uploading <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://wicg.github.io/entries-api/#dom-htmlinputelement-webkitdirectory" >multiple files from a directory</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>For edge cases, like POST request to URL with query string or to pass HTTP auth credentials, object can be passed to <code>form.submit()</code> as first parameter:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">form.<span class="title function_">submit</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;example.com&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/probably.php?extra=params&#x27;</span>,</span><br><span class="line">  <span class="attr">auth</span>: <span class="string">&#x27;username:password&#x27;</span></span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">statusCode</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>In case you need to also send custom HTTP headers with the POST request, you can use the <code>headers</code> key in first parameter of <code>form.submit()</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">form.<span class="title function_">submit</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;example.com&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/surelynot.php&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;<span class="string">&#x27;x-test-header&#x27;</span>: <span class="string">&#x27;test-header-value&#x27;</span>&#125;</span><br><span class="line">&#125;, <span class="keyword">function</span>(<span class="params">err, res</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">statusCode</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Integration-with-other-libraries"   >
          <a href="#Integration-with-other-libraries" class="heading-link"><i class="fas fa-link"></i></a><a href="#Integration-with-other-libraries" class="headerlink" title="Integration with other libraries"></a>Integration with other libraries</h3>
      
        <h4 id="Request"   >
          <a href="#Request" class="heading-link"><i class="fas fa-link"></i></a><a href="#Request" class="headerlink" title="Request"></a>Request</h4>
      <p>Form submission using  <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request" >request</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formData = &#123;</span><br><span class="line">  <span class="attr">my_field</span>: <span class="string">&#x27;my_value&#x27;</span>,</span><br><span class="line">  <span class="attr">my_file</span>: fs.<span class="title function_">createReadStream</span>(__dirname + <span class="string">&#x27;/unicycle.jpg&#x27;</span>),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">request.<span class="title function_">post</span>(&#123;<span class="attr">url</span>:<span class="string">&#x27;http://service.com/upload&#x27;</span>, <span class="attr">formData</span>: formData&#125;, <span class="keyword">function</span>(<span class="params">err, httpResponse, body</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;upload failed:&#x27;</span>, err);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Upload successful!  Server responded with:&#x27;</span>, body);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>For more details see <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request#multipartform-data-multipart-form-uploads" >request readme</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h4 id="node-fetch"   >
          <a href="#node-fetch" class="heading-link"><i class="fas fa-link"></i></a><a href="#node-fetch" class="headerlink" title="node-fetch"></a>node-fetch</h4>
      <p>You can also submit a form using <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/bitinn/node-fetch" >node-fetch</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line"></span><br><span class="line">form.<span class="title function_">append</span>(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;http://example.com&#x27;</span>, &#123; <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>, <span class="attr">body</span>: form &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res.<span class="title function_">json</span>();</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">json</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(json);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Notes"   >
          <a href="#Notes" class="heading-link"><i class="fas fa-link"></i></a><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2>
      <ul>
<li><code>getLengthSync()</code> method DOESN’T calculate length for streams, use <code>knownLength</code> options as workaround.</li>
<li>Starting version <code>2.x</code> FormData has dropped support for <code>node@0.10.x</code>.</li>
</ul>

        <h2 id="License"   >
          <a href="#License" class="heading-link"><i class="fas fa-link"></i></a><a href="#License" class="headerlink" title="License"></a>License</h2>
      <p>Form-Data is released under the <a href="License">MIT</a> license.</p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/8/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/10/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/cat.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Hello Stun</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">144</div><div class="sidebar-ov-state-item__name">Archives</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>汪汪队</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.3.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>