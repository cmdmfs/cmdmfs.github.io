<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="have a try try">
<meta property="og:type" content="website">
<meta property="og:title" content="汪汪队">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="汪汪队">
<meta property="og:description" content="have a try try">
<meta property="og:locale">
<meta property="article:author" content="汪汪队">
<meta name="twitter:card" content="summary"><title>汪汪队</title><link ref="canonical" href="http://example.com/page/5/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Hello Stun</div><div class="header-banner-info__subtitle">An elegant theme for Hexo</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/safer-buffer/Readme/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="safer-buffer"   >
          <a href="#safer-buffer" class="heading-link"><i class="fas fa-link"></i></a><a href="#safer-buffer" class="headerlink" title="safer-buffer    "></a>safer-buffer <a target="_blank" rel="noopener" href="https://travis-ci.org/ChALkeR/safer-buffer"><img   src="https://travis-ci.org/ChALkeR/safer-buffer.svg?branch=master" style=""  alt="travis"></a> <a target="_blank" rel="noopener" href="https://npmjs.org/package/safer-buffer"><img src="https://img.shields.io/npm/v/safer-buffer.svg" alt="npm"></a> <a target="_blank" rel="noopener" href="https://standardjs.com/"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="javascript style guide"></a> <a target="_blank" rel="noopener" href="https://github.com/nodejs/security-wg/blob/master/processes/responsible_disclosure_template.md"><img src="https://img.shields.io/badge/Security-Responsible%20Disclosure-green.svg" alt="Security Responsible Disclosure"></a></h1>
      <p>Modern Buffer API polyfill without footguns, working on Node.js from 0.8 to current.</p>

        <h2 id="How-to-use"   >
          <a href="#How-to-use" class="heading-link"><i class="fas fa-link"></i></a><a href="#How-to-use" class="headerlink" title="How to use?"></a>How to use?</h2>
      <p>First, port all <code>Buffer()</code> and <code>new Buffer()</code> calls to <code>Buffer.alloc()</code> and <code>Buffer.from()</code> API.</p>
<p>Then, to achieve compatibility with outdated Node.js versions (<code>&lt;4.5.0</code> and 5.x <code>&lt;5.9.0</code>), use<br><code>const Buffer = require(&#39;safer-buffer&#39;).Buffer</code> in all files where you make calls to the new<br>Buffer API. <em>Use <code>var</code> instead of <code>const</code> if you need that for your Node.js version range support.</em></p>
<p>Also, see the<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ChALkeR/safer-buffer/blob/master/Porting-Buffer.md" >porting Buffer</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> guide.</p>

        <h2 id="Do-I-need-it"   >
          <a href="#Do-I-need-it" class="heading-link"><i class="fas fa-link"></i></a><a href="#Do-I-need-it" class="headerlink" title="Do I need it?"></a>Do I need it?</h2>
      <p>Hopefully, not — dropping support for outdated Node.js versions should be fine nowdays, and that<br>is the recommended path forward. You <em>do</em> need to port to the <code>Buffer.alloc()</code> and <code>Buffer.from()</code><br>though.</p>
<p>See the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ChALkeR/safer-buffer/blob/master/Porting-Buffer.md" >porting guide</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>for a better description.</p>

        <h2 id="Why-not-safe-buffer"   >
          <a href="#Why-not-safe-buffer" class="heading-link"><i class="fas fa-link"></i></a><a href="#Why-not-safe-buffer" class="headerlink" title="Why not safe-buffer?"></a>Why not <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://npmjs.com/safe-buffer" >safe-buffer</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>?</h2>
      <p><em>In short: while <code>safe-buffer</code> serves as a polyfill for the new API, it allows old API usage and<br>itself contains footguns.</em></p>
<p><code>safe-buffer</code> could be used safely to get the new API while still keeping support for older<br>Node.js versions (like this module), but while analyzing ecosystem usage of the old Buffer API<br>I found out that <code>safe-buffer</code> is itself causing problems in some cases.</p>
<p>For example, consider the following snippet:</p>
<figure class="highlight console"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> example.unsafe.js</span></span><br><span class="line">console.log(Buffer(20))</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./node-v6.13.0-linux-x64/bin/node example.unsafe.js</span></span><br><span class="line">&lt;Buffer 0a 00 00 00 00 00 00 00 28 13 de 02 00 00 00 00 05 00 00 00&gt;</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">standard example.unsafe.js</span></span><br><span class="line">standard: Use JavaScript Standard Style (https://standardjs.com)</span><br><span class="line">  /home/chalker/repo/safer-buffer/example.unsafe.js:2:13: &#x27;Buffer()&#x27; was deprecated since v6. Use &#x27;Buffer.alloc()&#x27; or &#x27;Buffer.from()&#x27; (use &#x27;https://www.npmjs.com/package/safe-buffer&#x27; for &#x27;&lt;4.5.0&#x27;) instead.</span><br></pre></td></tr></table></div></figure>

<p>This is allocates and writes to console an uninitialized chunk of memory.<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/standard" >standard</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linter (among others) catch that and warn people<br>to avoid using unsafe API.</p>
<p>Let’s now throw in <code>safe-buffer</code>!</p>
<figure class="highlight console"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> example.safe-buffer.js</span></span><br><span class="line">const Buffer = require(&#x27;safe-buffer&#x27;).Buffer</span><br><span class="line">console.log(Buffer(20))</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">standard example.safe-buffer.js</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./node-v6.13.0-linux-x64/bin/node example.safe-buffer.js</span></span><br><span class="line">&lt;Buffer 08 00 00 00 00 00 00 00 28 58 01 82 fe 7f 00 00 00 00 00 00&gt;</span><br></pre></td></tr></table></div></figure>

<p>See the problem? Adding in <code>safe-buffer</code> <em>magically removes the lint warning</em>, but the behavior<br>remains identiсal to what we had before, and when launched on Node.js 6.x LTS — this dumps out<br>chunks of uninitialized memory.<br><em>And this code will still emit runtime warnings on Node.js 10.x and above.</em></p>
<p>That was done by design. I first considered changing <code>safe-buffer</code>, prohibiting old API usage or<br>emitting warnings on it, but that significantly diverges from <code>safe-buffer</code> design. After some<br>discussion, it was decided to move my approach into a separate package, and <em>this is that separate<br>package</em>.</p>
<p>This footgun is not imaginary — I observed top-downloaded packages doing that kind of thing,<br>«fixing» the lint warning by blindly including <code>safe-buffer</code> without any actual changes.</p>
<p>Also in some cases, even if the API <em>was</em> migrated to use of safe Buffer API — a random pull request<br>can bring unsafe Buffer API usage back to the codebase by adding new calls — and that could go<br>unnoticed even if you have a linter prohibiting that (becase of the reason stated above), and even<br>pass CI. <em>I also observed that being done in popular packages.</em></p>
<p>Some examples:</p>
<ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/webdriverio/webdriverio/commit/05cbd3167c12e4930f09ef7cf93b127ba4effae4#diff-124380949022817b90b622871837d56cR31" >webdriverio</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>(a module with 548 759 downloads&#x2F;month),</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/maxogden/websocket-stream/commit/c9312bd24d08271687d76da0fe3c83493871cf61" >websocket-stream</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>(218 288 d&#x2F;m, fix in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/maxogden/websocket-stream/pull/142" >maxogden&#x2F;websocket-stream#142</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>),</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/node-serialport/node-serialport/commit/e8d9d2b16c664224920ce1c895199b1ce2def48c" >node-serialport</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>(113 138 d&#x2F;m, fix in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/node-serialport/node-serialport/pull/1510" >node-serialport&#x2F;node-serialport#1510</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>),</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/karma-runner/karma/commit/3d94b8cf18c695104ca195334dc75ff054c74eec" >karma</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>(3 973 193 d&#x2F;m, fix in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/karma-runner/karma/pull/2947" >karma-runner&#x2F;karma#2947</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>),</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/spdy-http2/spdy-transport/commit/5375ac33f4a62a4f65bcfc2827447d42a5dbe8b1" >spdy-transport</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>(5 970 727 d&#x2F;m, fix in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/spdy-http2/spdy-transport/pull/53" >spdy-http2&#x2F;spdy-transport#53</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>).</li>
<li>And there are a lot more over the ecosystem.</li>
</ul>
<p>I filed a PR at<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mysticatea/eslint-plugin-node/pull/110" >mysticatea&#x2F;eslint-plugin-node#110</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> to<br>partially fix that (for cases when that lint rule is used), but it is a semver-major change for<br>linter rules and presets, so it would take significant time for that to reach actual setups.<br><em>It also hasn’t been released yet (2018-03-20).</em></p>
<p>Also, <code>safer-buffer</code> discourages the usage of <code>.allocUnsafe()</code>, which is often done by a mistake.<br>It still supports it with an explicit concern barier, by placing it under<br><code>require(&#39;safer-buffer/dangereous&#39;)</code>.</p>

        <h2 id="But-isn’t-throwing-bad"   >
          <a href="#But-isn’t-throwing-bad" class="heading-link"><i class="fas fa-link"></i></a><a href="#But-isn’t-throwing-bad" class="headerlink" title="But isn’t throwing bad?"></a>But isn’t throwing bad?</h2>
      <p>Not really. It’s an error that could be noticed and fixed early, instead of causing havoc later like<br>unguarded <code>new Buffer()</code> calls that end up receiving user input can do.</p>
<p>This package affects only the files where <code>var Buffer = require(&#39;safer-buffer&#39;).Buffer</code> was done, so<br>it is really simple to keep track of things and make sure that you don’t mix old API usage with that.<br>Also, CI should hint anything that you might have missed.</p>
<p>New commits, if tested, won’t land new usage of unsafe Buffer API this way.<br><em>Node.js 10.x also deals with that by printing a runtime depecation warning.</em></p>

        <h3 id="Would-it-affect-third-party-modules"   >
          <a href="#Would-it-affect-third-party-modules" class="heading-link"><i class="fas fa-link"></i></a><a href="#Would-it-affect-third-party-modules" class="headerlink" title="Would it affect third-party modules?"></a>Would it affect third-party modules?</h3>
      <p>No, unless you explicitly do an awful thing like monkey-patching or overriding the built-in <code>Buffer</code>.<br>Don’t do that.</p>

        <h3 id="But-I-don’t-want-throwing…"   >
          <a href="#But-I-don’t-want-throwing…" class="heading-link"><i class="fas fa-link"></i></a><a href="#But-I-don’t-want-throwing…" class="headerlink" title="But I don’t want throwing…"></a>But I don’t want throwing…</h3>
      <p>That is also fine!</p>
<p>Also, it could be better in some cases when you don’t comprehensive enough test coverage.</p>
<p>In that case — just don’t override <code>Buffer</code> and use<br><code>var SaferBuffer = require(&#39;safer-buffer&#39;).Buffer</code> instead.</p>
<p>That way, everything using <code>Buffer</code> natively would still work, but there would be two drawbacks:</p>
<ul>
<li><code>Buffer.from</code>&#x2F;<code>Buffer.alloc</code> won’t be polyfilled — use <code>SaferBuffer.from</code> and<br><code>SaferBuffer.alloc</code> instead.</li>
<li>You are still open to accidentally using the insecure deprecated API — use a linter to catch that.</li>
</ul>
<p>Note that using a linter to catch accidential <code>Buffer</code> constructor usage in this case is strongly<br>recommended. <code>Buffer</code> is not overriden in this usecase, so linters won’t get confused.</p>

        <h2 id="«Without-footguns»"   >
          <a href="#«Without-footguns»" class="heading-link"><i class="fas fa-link"></i></a><a href="#«Without-footguns»" class="headerlink" title="«Without footguns»?"></a>«Without footguns»?</h2>
      <p>Well, it is still possible to do <em>some</em> things with <code>Buffer</code> API, e.g. accessing <code>.buffer</code> property<br>on older versions and duping things from there. You shouldn’t do that in your code, probabably.</p>
<p>The intention is to remove the most significant footguns that affect lots of packages in the<br>ecosystem, and to do it in the proper way.</p>
<p>Also, this package doesn’t protect against security issues affecting some Node.js versions, so for<br>usage in your own production code, it is still recommended to update to a Node.js version<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/release#release-schedule" >supported by upstream</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/safer-buffer/Porting-Buffer/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Porting-to-the-Buffer-from-x2F-Buffer-alloc-API"   >
          <a href="#Porting-to-the-Buffer-from-x2F-Buffer-alloc-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#Porting-to-the-Buffer-from-x2F-Buffer-alloc-API" class="headerlink" title="Porting to the Buffer.from&#x2F;Buffer.alloc API"></a>Porting to the Buffer.from&#x2F;Buffer.alloc API</h1>
      <p><a id="overview"></a></p>

        <h2 id="Overview"   >
          <a href="#Overview" class="heading-link"><i class="fas fa-link"></i></a><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2>
      <ul>
<li><a href="#variant-1">Variant 1: Drop support for Node.js ≤ 4.4.x and 5.0.0 — 5.9.x.</a> (<em>recommended</em>)</li>
<li><a href="#variant-2">Variant 2: Use a polyfill</a></li>
<li><a href="#variant-3">Variant 3: manual detection, with safeguards</a></li>
</ul>

        <h3 id="Finding-problematic-bits-of-code-using-grep"   >
          <a href="#Finding-problematic-bits-of-code-using-grep" class="heading-link"><i class="fas fa-link"></i></a><a href="#Finding-problematic-bits-of-code-using-grep" class="headerlink" title="Finding problematic bits of code using grep"></a>Finding problematic bits of code using grep</h3>
      <p>Just run <code>grep -nrE &#39;[^a-zA-Z](Slow)?Buffer\s*\(&#39; --exclude-dir node_modules</code>.</p>
<p>It will find all the potentially unsafe places in your own code (with some considerably unlikely<br>exceptions).</p>

        <h3 id="Finding-problematic-bits-of-code-using-Node-js-8"   >
          <a href="#Finding-problematic-bits-of-code-using-Node-js-8" class="heading-link"><i class="fas fa-link"></i></a><a href="#Finding-problematic-bits-of-code-using-Node-js-8" class="headerlink" title="Finding problematic bits of code using Node.js 8"></a>Finding problematic bits of code using Node.js 8</h3>
      <p>If you’re using Node.js ≥ 8.0.0 (which is recommended), Node.js exposes multiple options that help with finding the relevant pieces of code:</p>
<ul>
<li><code>--trace-warnings</code> will make Node.js show a stack trace for this warning and other warnings that are printed by Node.js.</li>
<li><code>--trace-deprecation</code> does the same thing, but only for deprecation warnings.</li>
<li><code>--pending-deprecation</code> will show more types of deprecation warnings. In particular, it will show the <code>Buffer()</code> deprecation warning, even on Node.js 8.</li>
</ul>
<p>You can set these flags using an environment variable:</p>
<figure class="highlight console"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">export</span> NODE_OPTIONS=<span class="string">&#x27;--trace-warnings --pending-deprecation&#x27;</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> example.js</span></span><br><span class="line">&#x27;use strict&#x27;;</span><br><span class="line">const foo = new Buffer(&#x27;foo&#x27;);</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">node example.js</span></span><br><span class="line">(node:7147) [DEP0005] DeprecationWarning: The Buffer() and new Buffer() constructors are not recommended for use due to security and usability concerns. Please use the new Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() construction methods instead.</span><br><span class="line">    at showFlaggedDeprecation (buffer.js:127:13)</span><br><span class="line">    at new Buffer (buffer.js:148:3)</span><br><span class="line">    at Object.&lt;anonymous&gt; (/path/to/example.js:2:13)</span><br><span class="line">    [... more stack trace lines ...]</span><br></pre></td></tr></table></div></figure>


        <h3 id="Finding-problematic-bits-of-code-using-linters"   >
          <a href="#Finding-problematic-bits-of-code-using-linters" class="heading-link"><i class="fas fa-link"></i></a><a href="#Finding-problematic-bits-of-code-using-linters" class="headerlink" title="Finding problematic bits of code using linters"></a>Finding problematic bits of code using linters</h3>
      <p>Eslint rules <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://eslint.org/docs/rules/no-buffer-constructor" >no-buffer-constructor</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>or<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mysticatea/eslint-plugin-node/blob/master/docs/rules/no-deprecated-api.md" >node&#x2F;no-deprecated-api</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>also find calls to deprecated <code>Buffer()</code> API. Those rules are included in some pre-sets.</p>
<p>There is a drawback, though, that it doesn’t always<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/chalker/safer-buffer#why-not-safe-buffer" >work correctly</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> when <code>Buffer</code> is<br>overriden e.g. with a polyfill, so recommended is a combination of this and some other method<br>described above.</p>
<p><a id="variant-1"></a></p>

        <h2 id="Variant-1-Drop-support-for-Node-js-≤-4-4-x-and-5-0-0-—-5-9-x"   >
          <a href="#Variant-1-Drop-support-for-Node-js-≤-4-4-x-and-5-0-0-—-5-9-x" class="heading-link"><i class="fas fa-link"></i></a><a href="#Variant-1-Drop-support-for-Node-js-≤-4-4-x-and-5-0-0-—-5-9-x" class="headerlink" title="Variant 1: Drop support for Node.js ≤ 4.4.x and 5.0.0 — 5.9.x."></a>Variant 1: Drop support for Node.js ≤ 4.4.x and 5.0.0 — 5.9.x.</h2>
      <p>This is the recommended solution nowadays that would imply only minimal overhead.</p>
<p>The Node.js 5.x release line has been unsupported since July 2016, and the Node.js 4.x release line reaches its End of Life in April 2018 (→ <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/Release#release-schedule" >Schedule</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>). This means that these versions of Node.js will <em>not</em> receive any updates, even in case of security issues, so using these release lines should be avoided, if at all possible.</p>
<p>What you would do in this case is to convert all <code>new Buffer()</code> or <code>Buffer()</code> calls to use <code>Buffer.alloc()</code> or <code>Buffer.from()</code>, in the following way:</p>
<ul>
<li>For <code>new Buffer(number)</code>, replace it with <code>Buffer.alloc(number)</code>.</li>
<li>For <code>new Buffer(string)</code> (or <code>new Buffer(string, encoding)</code>), replace it with <code>Buffer.from(string)</code> (or <code>Buffer.from(string, encoding)</code>).</li>
<li>For all other combinations of arguments (these are much rarer), also replace <code>new Buffer(...arguments)</code> with <code>Buffer.from(...arguments)</code>.</li>
</ul>
<p>Note that <code>Buffer.alloc()</code> is also <em>faster</em> on the current Node.js versions than<br><code>new Buffer(size).fill(0)</code>, which is what you would otherwise need to ensure zero-filling.</p>
<p>Enabling eslint rule <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://eslint.org/docs/rules/no-buffer-constructor" >no-buffer-constructor</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>or<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mysticatea/eslint-plugin-node/blob/master/docs/rules/no-deprecated-api.md" >node&#x2F;no-deprecated-api</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>is recommended to avoid accidential unsafe Buffer API usage.</p>
<p>There is also a <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/joyeecheung/node-dep-codemod#dep005" >JSCodeshift codemod</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>for automatically migrating Buffer constructors to <code>Buffer.alloc()</code> or <code>Buffer.from()</code>.<br>Note that it currently only works with cases where the arguments are literals or where the<br>constructor is invoked with two arguments.</p>
<p><em>If you currently support those older Node.js versions and dropping them would be a semver-major change<br>for you, or if you support older branches of your packages, consider using <a href="#variant-2">Variant 2</a><br>or <a href="#variant-3">Variant 3</a> on older branches, so people using those older branches will also receive<br>the fix. That way, you will eradicate potential issues caused by unguarded Buffer API usage and<br>your users will not observe a runtime deprecation warning when running your code on Node.js 10.</em></p>
<p><a id="variant-2"></a></p>

        <h2 id="Variant-2-Use-a-polyfill"   >
          <a href="#Variant-2-Use-a-polyfill" class="heading-link"><i class="fas fa-link"></i></a><a href="#Variant-2-Use-a-polyfill" class="headerlink" title="Variant 2: Use a polyfill"></a>Variant 2: Use a polyfill</h2>
      <p>Utilize <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/safer-buffer" >safer-buffer</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> as a polyfill to support older<br>Node.js versions.</p>
<p>You would take exacly the same steps as in <a href="#variant-1">Variant 1</a>, but with a polyfill<br><code>const Buffer = require(&#39;safer-buffer&#39;).Buffer</code> in all files where you use the new <code>Buffer</code> api.</p>
<p>Make sure that you do not use old <code>new Buffer</code> API — in any files where the line above is added,<br>using old <code>new Buffer()</code> API will <em>throw</em>. It will be easy to notice that in CI, though.</p>
<p>Alternatively, you could use <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/buffer-from" >buffer-from</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and&#x2F;or<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/buffer-alloc" >buffer-alloc</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://ponyfill.com/" >ponyfills</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> —<br>those are great, the only downsides being 4 deps in the tree and slightly more code changes to<br>migrate off them (as you would be using e.g. <code>Buffer.from</code> under a different name). If you need only<br><code>Buffer.from</code> polyfilled — <code>buffer-from</code> alone which comes with no extra dependencies.</p>
<p><em>Alternatively, you could use <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/safe-buffer" >safe-buffer</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> — it also<br>provides a polyfill, but takes a different approach which has<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/chalker/safer-buffer#why-not-safe-buffer" >it’s drawbacks</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>. It will allow you<br>to also use the older <code>new Buffer()</code> API in your code, though — but that’s arguably a benefit, as<br>it is problematic, can cause issues in your code, and will start emitting runtime deprecation<br>warnings starting with Node.js 10.</em></p>
<p>Note that in either case, it is important that you also remove all calls to the old Buffer<br>API manually — just throwing in <code>safe-buffer</code> doesn’t fix the problem by itself, it just provides<br>a polyfill for the new API. I have seen people doing that mistake.</p>
<p>Enabling eslint rule <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://eslint.org/docs/rules/no-buffer-constructor" >no-buffer-constructor</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>or<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mysticatea/eslint-plugin-node/blob/master/docs/rules/no-deprecated-api.md" >node&#x2F;no-deprecated-api</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>is recommended.</p>
<p><em>Don’t forget to drop the polyfill usage once you drop support for Node.js &lt; 4.5.0.</em></p>
<p><a id="variant-3"></a></p>

        <h2 id="Variant-3-—-manual-detection-with-safeguards"   >
          <a href="#Variant-3-—-manual-detection-with-safeguards" class="heading-link"><i class="fas fa-link"></i></a><a href="#Variant-3-—-manual-detection-with-safeguards" class="headerlink" title="Variant 3 — manual detection, with safeguards"></a>Variant 3 — manual detection, with safeguards</h2>
      <p>This is useful if you create Buffer instances in only a few places (e.g. one), or you have your own<br>wrapper around them.</p>

        <h3 id="Buffer-0"   >
          <a href="#Buffer-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#Buffer-0" class="headerlink" title="Buffer(0)"></a>Buffer(0)</h3>
      <p>This special case for creating empty buffers can be safely replaced with <code>Buffer.concat([])</code>, which<br>returns the same result all the way down to Node.js 0.8.x.</p>

        <h3 id="Buffer-notNumber"   >
          <a href="#Buffer-notNumber" class="heading-link"><i class="fas fa-link"></i></a><a href="#Buffer-notNumber" class="headerlink" title="Buffer(notNumber)"></a>Buffer(notNumber)</h3>
      <p>Before:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="title class_">Buffer</span>(notNumber, encoding);</span><br></pre></td></tr></table></div></figure>

<p>After:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buf;</span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">Buffer</span>.<span class="property">from</span> &amp;&amp; <span class="title class_">Buffer</span>.<span class="property">from</span> !== <span class="title class_">Uint8Array</span>.<span class="property">from</span>) &#123;</span><br><span class="line">  buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(notNumber, encoding);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> notNumber === <span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;The &quot;size&quot; argument must be of type number.&#x27;</span>);</span><br><span class="line">  buf = <span class="keyword">new</span> <span class="title class_">Buffer</span>(notNumber, encoding);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><code>encoding</code> is optional.</p>
<p>Note that the <code>typeof notNumber</code> before <code>new Buffer</code> is required (for cases when <code>notNumber</code> argument is not<br>hard-coded) and <em>is not caused by the deprecation of Buffer constructor</em> — it’s exactly <em>why</em> the<br>Buffer constructor is deprecated. Ecosystem packages lacking this type-check caused numereous<br>security issues — situations when unsanitized user input could end up in the <code>Buffer(arg)</code> create<br>problems ranging from DoS to leaking sensitive information to the attacker from the process memory.</p>
<p>When <code>notNumber</code> argument is hardcoded (e.g. literal <code>&quot;abc&quot;</code> or <code>[0,1,2]</code>), the <code>typeof</code> check can<br>be omitted.</p>
<p>Also note that using TypeScript does not fix this problem for you — when libs written in<br><code>TypeScript</code> are used from JS, or when user input ends up there — it behaves exactly as pure JS, as<br>all type checks are translation-time only and are not present in the actual JS code which TS<br>compiles to.</p>

        <h3 id="Buffer-number"   >
          <a href="#Buffer-number" class="heading-link"><i class="fas fa-link"></i></a><a href="#Buffer-number" class="headerlink" title="Buffer(number)"></a>Buffer(number)</h3>
      <p>For Node.js 0.10.x (and below) support:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buf;</span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">Buffer</span>.<span class="property">alloc</span>) &#123;</span><br><span class="line">  buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(number);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  buf = <span class="keyword">new</span> <span class="title class_">Buffer</span>(number);</span><br><span class="line">  buf.<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>Otherwise (Node.js ≥ 0.12.x):</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="property">alloc</span> ? <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(number) : <span class="keyword">new</span> <span class="title class_">Buffer</span>(number).<span class="title function_">fill</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Regarding-Buffer-allocUnsafe"   >
          <a href="#Regarding-Buffer-allocUnsafe" class="heading-link"><i class="fas fa-link"></i></a><a href="#Regarding-Buffer-allocUnsafe" class="headerlink" title="Regarding Buffer.allocUnsafe"></a>Regarding Buffer.allocUnsafe</h2>
      <p>Be extra cautious when using <code>Buffer.allocUnsafe</code>:</p>
<ul>
<li>Don’t use it if you don’t have a good reason to<ul>
<li>e.g. you probably won’t ever see a performance difference for small buffers, in fact, those<br>might be even faster with <code>Buffer.alloc()</code>,</li>
<li>if your code is not in the hot code path — you also probably won’t notice a difference,</li>
<li>keep in mind that zero-filling minimizes the potential risks.</li>
</ul>
</li>
<li>If you use it, make sure that you never return the buffer in a partially-filled state,<ul>
<li>if you are writing to it sequentially — always truncate it to the actuall written length</li>
</ul>
</li>
</ul>
<p>Errors in handling buffers allocated with <code>Buffer.allocUnsafe</code> could result in various issues,<br>ranged from undefined behaviour of your code to sensitive data (user input, passwords, certs)<br>leaking to the remote attacker.</p>
<p><em>Note that the same applies to <code>new Buffer</code> usage without zero-filling, depending on the Node.js<br>version (and lacking type checks also adds DoS to the list of potential problems).</em></p>
<p><a id="faq"></a></p>

        <h2 id="FAQ"   >
          <a href="#FAQ" class="heading-link"><i class="fas fa-link"></i></a><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2>
      <p><a id="design-flaws"></a></p>

        <h3 id="What-is-wrong-with-the-Buffer-constructor"   >
          <a href="#What-is-wrong-with-the-Buffer-constructor" class="heading-link"><i class="fas fa-link"></i></a><a href="#What-is-wrong-with-the-Buffer-constructor" class="headerlink" title="What is wrong with the Buffer constructor?"></a>What is wrong with the <code>Buffer</code> constructor?</h3>
      <p>The <code>Buffer</code> constructor could be used to create a buffer in many different ways:</p>
<ul>
<li><code>new Buffer(42)</code> creates a <code>Buffer</code> of 42 bytes. Before Node.js 8, this buffer contained<br><em>arbitrary memory</em> for performance reasons, which could include anything ranging from<br>program source code to passwords and encryption keys.</li>
<li><code>new Buffer(&#39;abc&#39;)</code> creates a <code>Buffer</code> that contains the UTF-8-encoded version of<br>the string <code>&#39;abc&#39;</code>. A second argument could specify another encoding: For example,<br><code>new Buffer(string, &#39;base64&#39;)</code> could be used to convert a Base64 string into the original<br>sequence of bytes that it represents.</li>
<li>There are several other combinations of arguments.</li>
</ul>
<p>This meant that, in code like <code>var buffer = new Buffer(foo);</code>, <em>it is not possible to tell<br>what exactly the contents of the generated buffer are</em> without knowing the type of <code>foo</code>.</p>
<p>Sometimes, the value of <code>foo</code> comes from an external source. For example, this function<br>could be exposed as a service on a web server, converting a UTF-8 string into its Base64 form:</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function stringToBase64(req, res) &#123;</span><br><span class="line">  // The request body should have the format of `&#123; string: &#x27;foobar&#x27; &#125;`</span><br><span class="line">  const rawBytes = new Buffer(req.body.string)</span><br><span class="line">  const encoded = rawBytes.toString(&#x27;base64&#x27;)</span><br><span class="line">  res.end(&#123; encoded: encoded &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>Note that this code does <em>not</em> validate the type of <code>req.body.string</code>:</p>
<ul>
<li><code>req.body.string</code> is expected to be a string. If this is the case, all goes well.</li>
<li><code>req.body.string</code> is controlled by the client that sends the request.</li>
<li>If <code>req.body.string</code> is the <em>number</em> <code>50</code>, the <code>rawBytes</code> would be 50 bytes:<ul>
<li>Before Node.js 8, the content would be uninitialized</li>
<li>After Node.js 8, the content would be <code>50</code> bytes with the value <code>0</code></li>
</ul>
</li>
</ul>
<p>Because of the missing type check, an attacker could intentionally send a number<br>as part of the request. Using this, they can either:</p>
<ul>
<li>Read uninitialized memory. This <strong>will</strong> leak passwords, encryption keys and other<br>kinds of sensitive information. (Information leak)</li>
<li>Force the program to allocate a large amount of memory. For example, when specifying<br><code>500000000</code> as the input value, each request will allocate 500MB of memory.<br>This can be used to either exhaust the memory available of a program completely<br>and make it crash, or slow it down significantly. (Denial of Service)</li>
</ul>
<p>Both of these scenarios are considered serious security issues in a real-world<br>web server context.</p>
<p>when using <code>Buffer.from(req.body.string)</code> instead, passing a number will always<br>throw an exception instead, giving a controlled behaviour that can always be<br>handled by the program.</p>
<p><a id="ecosystem-usage"></a></p>

        <h3 id="The-Buffer-constructor-has-been-deprecated-for-a-while-Is-this-really-an-issue"   >
          <a href="#The-Buffer-constructor-has-been-deprecated-for-a-while-Is-this-really-an-issue" class="heading-link"><i class="fas fa-link"></i></a><a href="#The-Buffer-constructor-has-been-deprecated-for-a-while-Is-this-really-an-issue" class="headerlink" title="The Buffer() constructor has been deprecated for a while. Is this really an issue?"></a>The <code>Buffer()</code> constructor has been deprecated for a while. Is this really an issue?</h3>
      <p>Surveys of code in the <code>npm</code> ecosystem have shown that the <code>Buffer()</code> constructor is still<br>widely used. This includes new code, and overall usage of such code has actually been<br><em>increasing</em>.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/safe-buffer/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="safe-buffer"   >
          <a href="#safe-buffer" class="heading-link"><i class="fas fa-link"></i></a><a href="#safe-buffer" class="headerlink" title="safe-buffer    "></a>safe-buffer <a target="_blank" rel="noopener" href="https://travis-ci.org/feross/safe-buffer"><img src="https://img.shields.io/travis/feross/safe-buffer/master.svg" alt="travis"></a> <a target="_blank" rel="noopener" href="https://npmjs.org/package/safe-buffer"><img src="https://img.shields.io/npm/v/safe-buffer.svg" alt="npm"></a> <a target="_blank" rel="noopener" href="https://npmjs.org/package/safe-buffer"><img src="https://img.shields.io/npm/dm/safe-buffer.svg" alt="downloads"></a> <a target="_blank" rel="noopener" href="https://standardjs.com/"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="javascript style guide"></a></h1>
      
        <h4 id="Safer-Node-js-Buffer-API"   >
          <a href="#Safer-Node-js-Buffer-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#Safer-Node-js-Buffer-API" class="headerlink" title="Safer Node.js Buffer API"></a>Safer Node.js Buffer API</h4>
      <p><strong>Use the new Node.js Buffer APIs (<code>Buffer.from</code>, <code>Buffer.alloc</code>,<br><code>Buffer.allocUnsafe</code>, <code>Buffer.allocUnsafeSlow</code>) in all versions of Node.js.</strong></p>
<p><strong>Uses the built-in implementation when available.</strong></p>

        <h2 id="install"   >
          <a href="#install" class="heading-link"><i class="fas fa-link"></i></a><a href="#install" class="headerlink" title="install"></a>install</h2>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install safe-buffer</span><br></pre></td></tr></table></div></figure>


        <h2 id="usage"   >
          <a href="#usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#usage" class="headerlink" title="usage"></a>usage</h2>
      <p>The goal of this package is to provide a safe replacement for the node.js <code>Buffer</code>.</p>
<p>It’s a drop-in replacement for <code>Buffer</code>. You can use it by adding one <code>require</code> line to<br>the top of your node.js modules:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Buffer</span> = <span class="built_in">require</span>(<span class="string">&#x27;safe-buffer&#x27;</span>).<span class="property">Buffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Existing buffer code will continue to work without issues:</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="string">&#x27;hey&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Buffer</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Buffer</span>(obj)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">16</span>) <span class="comment">// create an uninitialized buffer (potentially unsafe)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// But you can use these new explicit APIs to make clear what you want:</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hey&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>) <span class="comment">// convert from many types to a Buffer</span></span><br><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">16</span>) <span class="comment">// create a zero-filled buffer (safe)</span></span><br><span class="line"><span class="title class_">Buffer</span>.<span class="title function_">allocUnsafe</span>(<span class="number">16</span>) <span class="comment">// create an uninitialized buffer (potentially unsafe)</span></span><br></pre></td></tr></table></div></figure>


        <h2 id="api"   >
          <a href="#api" class="heading-link"><i class="fas fa-link"></i></a><a href="#api" class="headerlink" title="api"></a>api</h2>
      
        <h3 id="Class-Method-Buffer-from-array"   >
          <a href="#Class-Method-Buffer-from-array" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-from-array" class="headerlink" title="Class Method: Buffer.from(array)"></a>Class Method: Buffer.from(array)</h3>
      <!-- YAML
added: v3.0.0
-->

<ul>
<li><code>array</code> {Array}</li>
</ul>
<p>Allocates a new <code>Buffer</code> using an <code>array</code> of octets.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x62</span>,<span class="number">0x75</span>,<span class="number">0x66</span>,<span class="number">0x66</span>,<span class="number">0x65</span>,<span class="number">0x72</span>]);</span><br><span class="line">  <span class="comment">// creates a new Buffer containing ASCII bytes</span></span><br><span class="line">  <span class="comment">// [&#x27;b&#x27;,&#x27;u&#x27;,&#x27;f&#x27;,&#x27;f&#x27;,&#x27;e&#x27;,&#x27;r&#x27;]</span></span><br></pre></td></tr></table></div></figure>

<p>A <code>TypeError</code> will be thrown if <code>array</code> is not an <code>Array</code>.</p>

        <h3 id="Class-Method-Buffer-from-arrayBuffer-byteOffset-length"   >
          <a href="#Class-Method-Buffer-from-arrayBuffer-byteOffset-length" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-from-arrayBuffer-byteOffset-length" class="headerlink" title="Class Method: Buffer.from(arrayBuffer[, byteOffset[, length]])"></a>Class Method: Buffer.from(arrayBuffer[, byteOffset[, length]])</h3>
      <!-- YAML
added: v5.10.0
-->

<ul>
<li><code>arrayBuffer</code> {ArrayBuffer} The <code>.buffer</code> property of a <code>TypedArray</code> or<br>a <code>new ArrayBuffer()</code></li>
<li><code>byteOffset</code> {Number} Default: <code>0</code></li>
<li><code>length</code> {Number} Default: <code>arrayBuffer.length - byteOffset</code></li>
</ul>
<p>When passed a reference to the <code>.buffer</code> property of a <code>TypedArray</code> instance,<br>the newly created <code>Buffer</code> will share the same allocated memory as the<br>TypedArray.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="keyword">new</span> <span class="title class_">Uint16Array</span>(<span class="number">2</span>);</span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">5000</span>;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">4000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(arr.<span class="property">buffer</span>); <span class="comment">// shares the memory with arr;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// Prints: &lt;Buffer 88 13 a0 0f&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// changing the TypedArray changes the Buffer also</span></span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">6000</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// Prints: &lt;Buffer 88 13 70 17&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>The optional <code>byteOffset</code> and <code>length</code> arguments specify a memory range within<br>the <code>arrayBuffer</code> that will be shared by the <code>Buffer</code>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ab = <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(<span class="number">10</span>);</span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(ab, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="property">length</span>);</span><br><span class="line">  <span class="comment">// Prints: 2</span></span><br></pre></td></tr></table></div></figure>

<p>A <code>TypeError</code> will be thrown if <code>arrayBuffer</code> is not an <code>ArrayBuffer</code>.</p>

        <h3 id="Class-Method-Buffer-from-buffer"   >
          <a href="#Class-Method-Buffer-from-buffer" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-from-buffer" class="headerlink" title="Class Method: Buffer.from(buffer)"></a>Class Method: Buffer.from(buffer)</h3>
      <!-- YAML
added: v3.0.0
-->

<ul>
<li><code>buffer</code> {Buffer}</li>
</ul>
<p>Copies the passed <code>buffer</code> data onto a new <code>Buffer</code> instance.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;buffer&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(buf1);</span><br><span class="line"></span><br><span class="line">buf1[<span class="number">0</span>] = <span class="number">0x61</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf1.<span class="title function_">toString</span>());</span><br><span class="line">  <span class="comment">// &#x27;auffer&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf2.<span class="title function_">toString</span>());</span><br><span class="line">  <span class="comment">// &#x27;buffer&#x27; (copy is not changed)</span></span><br></pre></td></tr></table></div></figure>

<p>A <code>TypeError</code> will be thrown if <code>buffer</code> is not a <code>Buffer</code>.</p>

        <h3 id="Class-Method-Buffer-from-str-encoding"   >
          <a href="#Class-Method-Buffer-from-str-encoding" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-from-str-encoding" class="headerlink" title="Class Method: Buffer.from(str[, encoding])"></a>Class Method: Buffer.from(str[, encoding])</h3>
      <!-- YAML
added: v5.10.0
-->

<ul>
<li><code>str</code> {String} String to encode.</li>
<li><code>encoding</code> {String} Encoding to use, Default: <code>&#39;utf8&#39;</code></li>
</ul>
<p>Creates a new <code>Buffer</code> containing the given JavaScript string <code>str</code>. If<br>provided, the <code>encoding</code> parameter identifies the character encoding.<br>If not provided, <code>encoding</code> defaults to <code>&#39;utf8&#39;</code>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;this is a tést&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf1.<span class="title function_">toString</span>());</span><br><span class="line">  <span class="comment">// prints: this is a tést</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf1.<span class="title function_">toString</span>(<span class="string">&#x27;ascii&#x27;</span>));</span><br><span class="line">  <span class="comment">// prints: this is a tC)st</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;7468697320697320612074c3a97374&#x27;</span>, <span class="string">&#x27;hex&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf2.<span class="title function_">toString</span>());</span><br><span class="line">  <span class="comment">// prints: this is a tést</span></span><br></pre></td></tr></table></div></figure>

<p>A <code>TypeError</code> will be thrown if <code>str</code> is not a string.</p>

        <h3 id="Class-Method-Buffer-alloc-size-fill-encoding"   >
          <a href="#Class-Method-Buffer-alloc-size-fill-encoding" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-alloc-size-fill-encoding" class="headerlink" title="Class Method: Buffer.alloc(size[, fill[, encoding]])"></a>Class Method: Buffer.alloc(size[, fill[, encoding]])</h3>
      <!-- YAML
added: v5.10.0
-->

<ul>
<li><code>size</code> {Number}</li>
<li><code>fill</code> {Value} Default: <code>undefined</code></li>
<li><code>encoding</code> {String} Default: <code>utf8</code></li>
</ul>
<p>Allocates a new <code>Buffer</code> of <code>size</code> bytes. If <code>fill</code> is <code>undefined</code>, the<br><code>Buffer</code> will be <em>zero-filled</em>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// &lt;Buffer 00 00 00 00 00&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>The <code>size</code> must be less than or equal to the value of<br><code>require(&#39;buffer&#39;).kMaxLength</code> (on 64-bit architectures, <code>kMaxLength</code> is<br><code>(2^31)-1</code>). Otherwise, a [<code>RangeError</code>][] is thrown. A zero-length Buffer will<br>be created if a <code>size</code> less than or equal to 0 is specified.</p>
<p>If <code>fill</code> is specified, the allocated <code>Buffer</code> will be initialized by calling<br><code>buf.fill(fill)</code>. See [<code>buf.fill()</code>][] for more information.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">5</span>, <span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// &lt;Buffer 61 61 61 61 61&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>If both <code>fill</code> and <code>encoding</code> are specified, the allocated <code>Buffer</code> will be<br>initialized by calling <code>buf.fill(fill, encoding)</code>. For example:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">11</span>, <span class="string">&#x27;aGVsbG8gd29ybGQ=&#x27;</span>, <span class="string">&#x27;base64&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>Calling <code>Buffer.alloc(size)</code> can be significantly slower than the alternative<br><code>Buffer.allocUnsafe(size)</code> but ensures that the newly created <code>Buffer</code> instance<br>contents will <em>never contain sensitive data</em>.</p>
<p>A <code>TypeError</code> will be thrown if <code>size</code> is not a number.</p>

        <h3 id="Class-Method-Buffer-allocUnsafe-size"   >
          <a href="#Class-Method-Buffer-allocUnsafe-size" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-allocUnsafe-size" class="headerlink" title="Class Method: Buffer.allocUnsafe(size)"></a>Class Method: Buffer.allocUnsafe(size)</h3>
      <!-- YAML
added: v5.10.0
-->

<ul>
<li><code>size</code> {Number}</li>
</ul>
<p>Allocates a new <em>non-zero-filled</em> <code>Buffer</code> of <code>size</code> bytes.  The <code>size</code> must<br>be less than or equal to the value of <code>require(&#39;buffer&#39;).kMaxLength</code> (on 64-bit<br>architectures, <code>kMaxLength</code> is <code>(2^31)-1</code>). Otherwise, a [<code>RangeError</code>][] is<br>thrown. A zero-length Buffer will be created if a <code>size</code> less than or equal to<br>0 is specified.</p>
<p>The underlying memory for <code>Buffer</code> instances created in this way is <em>not<br>initialized</em>. The contents of the newly created <code>Buffer</code> are unknown and<br><em>may contain sensitive data</em>. Use [<code>buf.fill(0)</code>][] to initialize such<br><code>Buffer</code> instances to zeroes.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">allocUnsafe</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// &lt;Buffer 78 e0 82 02 01&gt;</span></span><br><span class="line">  <span class="comment">// (octets will be different, every time)</span></span><br><span class="line">buf.<span class="title function_">fill</span>(<span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf);</span><br><span class="line">  <span class="comment">// &lt;Buffer 00 00 00 00 00&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>A <code>TypeError</code> will be thrown if <code>size</code> is not a number.</p>
<p>Note that the <code>Buffer</code> module pre-allocates an internal <code>Buffer</code> instance of<br>size <code>Buffer.poolSize</code> that is used as a pool for the fast allocation of new<br><code>Buffer</code> instances created using <code>Buffer.allocUnsafe(size)</code> (and the deprecated<br><code>new Buffer(size)</code> constructor) only when <code>size</code> is less than or equal to<br><code>Buffer.poolSize &gt;&gt; 1</code> (floor of <code>Buffer.poolSize</code> divided by two). The default<br>value of <code>Buffer.poolSize</code> is <code>8192</code> but can be modified.</p>
<p>Use of this pre-allocated internal memory pool is a key difference between<br>calling <code>Buffer.alloc(size, fill)</code> vs. <code>Buffer.allocUnsafe(size).fill(fill)</code>.<br>Specifically, <code>Buffer.alloc(size, fill)</code> will <em>never</em> use the internal Buffer<br>pool, while <code>Buffer.allocUnsafe(size).fill(fill)</code> <em>will</em> use the internal<br>Buffer pool if <code>size</code> is less than or equal to half <code>Buffer.poolSize</code>. The<br>difference is subtle but can be important when an application requires the<br>additional performance that <code>Buffer.allocUnsafe(size)</code> provides.</p>

        <h3 id="Class-Method-Buffer-allocUnsafeSlow-size"   >
          <a href="#Class-Method-Buffer-allocUnsafeSlow-size" class="heading-link"><i class="fas fa-link"></i></a><a href="#Class-Method-Buffer-allocUnsafeSlow-size" class="headerlink" title="Class Method: Buffer.allocUnsafeSlow(size)"></a>Class Method: Buffer.allocUnsafeSlow(size)</h3>
      <!-- YAML
added: v5.10.0
-->

<ul>
<li><code>size</code> {Number}</li>
</ul>
<p>Allocates a new <em>non-zero-filled</em> and non-pooled <code>Buffer</code> of <code>size</code> bytes.  The<br><code>size</code> must be less than or equal to the value of<br><code>require(&#39;buffer&#39;).kMaxLength</code> (on 64-bit architectures, <code>kMaxLength</code> is<br><code>(2^31)-1</code>). Otherwise, a [<code>RangeError</code>][] is thrown. A zero-length Buffer will<br>be created if a <code>size</code> less than or equal to 0 is specified.</p>
<p>The underlying memory for <code>Buffer</code> instances created in this way is <em>not<br>initialized</em>. The contents of the newly created <code>Buffer</code> are unknown and<br><em>may contain sensitive data</em>. Use [<code>buf.fill(0)</code>][] to initialize such<br><code>Buffer</code> instances to zeroes.</p>
<p>When using <code>Buffer.allocUnsafe()</code> to allocate new <code>Buffer</code> instances,<br>allocations under 4KB are, by default, sliced from a single pre-allocated<br><code>Buffer</code>. This allows applications to avoid the garbage collection overhead of<br>creating many individually allocated Buffers. This approach improves both<br>performance and memory usage by eliminating the need to track and cleanup as<br>many <code>Persistent</code> objects.</p>
<p>However, in the case where a developer may need to retain a small chunk of<br>memory from a pool for an indeterminate amount of time, it may be appropriate<br>to create an un-pooled Buffer instance using <code>Buffer.allocUnsafeSlow()</code> then<br>copy out the relevant bits.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// need to keep around a few small chunks of memory</span></span><br><span class="line"><span class="keyword">const</span> store = [];</span><br><span class="line"></span><br><span class="line">socket.<span class="title function_">on</span>(<span class="string">&#x27;readable&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> data = socket.<span class="title function_">read</span>();</span><br><span class="line">  <span class="comment">// allocate for retained data</span></span><br><span class="line">  <span class="keyword">const</span> sb = <span class="title class_">Buffer</span>.<span class="title function_">allocUnsafeSlow</span>(<span class="number">10</span>);</span><br><span class="line">  <span class="comment">// copy the data into the new allocation</span></span><br><span class="line">  data.<span class="title function_">copy</span>(sb, <span class="number">0</span>, <span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">  store.<span class="title function_">push</span>(sb);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>Use of <code>Buffer.allocUnsafeSlow()</code> should be used only as a last resort <em>after</em><br>a developer has observed undue memory retention in their applications.</p>
<p>A <code>TypeError</code> will be thrown if <code>size</code> is not a number.</p>

        <h3 id="All-the-Rest"   >
          <a href="#All-the-Rest" class="heading-link"><i class="fas fa-link"></i></a><a href="#All-the-Rest" class="headerlink" title="All the Rest"></a>All the Rest</h3>
      <p>The rest of the <code>Buffer</code> API is exactly the same as in node.js.<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodejs.org/api/buffer.html" >See the docs</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Related-links"   >
          <a href="#Related-links" class="heading-link"><i class="fas fa-link"></i></a><a href="#Related-links" class="headerlink" title="Related links"></a>Related links</h2>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/node/issues/4660" >Node.js issue: Buffer(number) is unsafe</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/node-eps/pull/4" >Node.js Enhancement Proposal: Buffer.from&#x2F;Buffer.alloc&#x2F;Buffer.zalloc&#x2F;Buffer() soft-deprecate</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>

        <h2 id="Why-is-Buffer-unsafe"   >
          <a href="#Why-is-Buffer-unsafe" class="heading-link"><i class="fas fa-link"></i></a><a href="#Why-is-Buffer-unsafe" class="headerlink" title="Why is Buffer unsafe?"></a>Why is <code>Buffer</code> unsafe?</h2>
      <p>Today, the node.js <code>Buffer</code> constructor is overloaded to handle many different argument<br>types like <code>String</code>, <code>Array</code>, <code>Object</code>, <code>TypedArrayView</code> (<code>Uint8Array</code>, etc.),<br><code>ArrayBuffer</code>, and also <code>Number</code>.</p>
<p>The API is optimized for convenience: you can throw any type at it, and it will try to do<br>what you want.</p>
<p>Because the Buffer constructor is so powerful, you often see code like this:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Convert UTF-8 strings to hex</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span> (str) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Buffer</span>(str).<span class="title function_">toString</span>(<span class="string">&#x27;hex&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><em><strong>But what happens if <code>toHex</code> is called with a <code>Number</code> argument?</strong></em></p>

        <h3 id="Remote-Memory-Disclosure"   >
          <a href="#Remote-Memory-Disclosure" class="heading-link"><i class="fas fa-link"></i></a><a href="#Remote-Memory-Disclosure" class="headerlink" title="Remote Memory Disclosure"></a>Remote Memory Disclosure</h3>
      <p>If an attacker can make your program call the <code>Buffer</code> constructor with a <code>Number</code><br>argument, then they can make it allocate uninitialized memory from the node.js process.<br>This could potentially disclose TLS private keys, user data, or database passwords.</p>
<p>When the <code>Buffer</code> constructor is passed a <code>Number</code> argument, it returns an<br><strong>UNINITIALIZED</strong> block of memory of the specified <code>size</code>. When you create a <code>Buffer</code> like<br>this, you <strong>MUST</strong> overwrite the contents before returning it to the user.</p>
<p>From the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodejs.org/api/buffer.html#buffer_new_buffer_size" >node.js docs</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<blockquote>
<p><code>new Buffer(size)</code></p>
<ul>
<li><code>size</code> Number</li>
</ul>
<p>The underlying memory for <code>Buffer</code> instances created in this way is not initialized.<br><strong>The contents of a newly created <code>Buffer</code> are unknown and could contain sensitive<br>data.</strong> Use <code>buf.fill(0)</code> to initialize a Buffer to zeroes.</p>
</blockquote>
<p>(Emphasis our own.)</p>
<p>Whenever the programmer intended to create an uninitialized <code>Buffer</code> you often see code<br>like this:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="title class_">Buffer</span>(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Immediately overwrite the uninitialized buffer with data from another buffer</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; buf.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  buf[i] = otherBuf[i]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



        <h3 id="Would-this-ever-be-a-problem-in-real-code"   >
          <a href="#Would-this-ever-be-a-problem-in-real-code" class="heading-link"><i class="fas fa-link"></i></a><a href="#Would-this-ever-be-a-problem-in-real-code" class="headerlink" title="Would this ever be a problem in real code?"></a>Would this ever be a problem in real code?</h3>
      <p>Yes. It’s surprisingly common to forget to check the type of your variables in a<br>dynamically-typed language like JavaScript.</p>
<p>Usually the consequences of assuming the wrong type is that your program crashes with an<br>uncaught exception. But the failure mode for forgetting to check the type of arguments to<br>the <code>Buffer</code> constructor is more catastrophic.</p>
<p>Here’s an example of a vulnerable service that takes a JSON payload and converts it to<br>hex:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Take a JSON payload &#123;str: &quot;some string&quot;&#125; and convert it to hex</span></span><br><span class="line"><span class="keyword">var</span> server = http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> data = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  req.<span class="title function_">setEncoding</span>(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">    data += chunk</span><br><span class="line">  &#125;)</span><br><span class="line">  req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> body = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="keyword">new</span> <span class="title class_">Buffer</span>(body.<span class="property">str</span>).<span class="title function_">toString</span>(<span class="string">&#x27;hex&#x27;</span>))</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>)</span><br></pre></td></tr></table></div></figure>

<p>In this example, an http client just has to send:</p>
<figure class="highlight json"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;str&quot;</span><span class="punctuation">:</span> <span class="number">1000</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></div></figure>

<p>and it will get back 1,000 bytes of uninitialized memory from the server.</p>
<p>This is a very serious bug. It’s similar in severity to the<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://heartbleed.com/" >the Heartbleed bug</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> that allowed disclosure of OpenSSL process<br>memory by remote attackers.</p>

        <h3 id="Which-real-world-packages-were-vulnerable"   >
          <a href="#Which-real-world-packages-were-vulnerable" class="heading-link"><i class="fas fa-link"></i></a><a href="#Which-real-world-packages-were-vulnerable" class="headerlink" title="Which real-world packages were vulnerable?"></a>Which real-world packages were vulnerable?</h3>
      
        <h4 id="bittorrent-dht"   >
          <a href="#bittorrent-dht" class="heading-link"><i class="fas fa-link"></i></a><a href="#bittorrent-dht" class="headerlink" title="bittorrent-dht"></a><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/bittorrent-dht"><code>bittorrent-dht</code></a></h4>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mafintosh" >Mathias Buus</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and I<br>(<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://feross.org/" >Feross Aboukhadijeh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>) found this issue in one of our own packages,<br><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/bittorrent-dht"><code>bittorrent-dht</code></a>. The bug would allow<br>anyone on the internet to send a series of messages to a user of <code>bittorrent-dht</code> and get<br>them to reveal 20 bytes at a time of uninitialized memory from the node.js process.</p>
<p>Here’s<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/feross/bittorrent-dht/commit/6c7da04025d5633699800a99ec3fbadf70ad35b8" >the commit</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>that fixed it. We released a new fixed version, created a<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/68" >Node Security Project disclosure</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, and deprecated all<br>vulnerable versions on npm so users will get a warning to upgrade to a newer version.</p>

        <h4 id="ws"   >
          <a href="#ws" class="heading-link"><i class="fas fa-link"></i></a><a href="#ws" class="headerlink" title="ws"></a><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ws"><code>ws</code></a></h4>
      <p>That got us wondering if there were other vulnerable packages. Sure enough, within a short<br>period of time, we found the same issue in <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ws"><code>ws</code></a>, the<br>most popular WebSocket implementation in node.js.</p>
<p>If certain APIs were called with <code>Number</code> parameters instead of <code>String</code> or <code>Buffer</code> as<br>expected, then uninitialized server memory would be disclosed to the remote peer.</p>
<p>These were the vulnerable methods:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.<span class="title function_">send</span>(number)</span><br><span class="line">socket.<span class="title function_">ping</span>(number)</span><br><span class="line">socket.<span class="title function_">pong</span>(number)</span><br></pre></td></tr></table></div></figure>

<p>Here’s a vulnerable socket server with some echo functionality:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;connection&#x27;</span>, <span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">  socket.<span class="title function_">on</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span> (<span class="params">message</span>) &#123;</span><br><span class="line">    message = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(message)</span><br><span class="line">    <span class="keyword">if</span> (message.<span class="property">type</span> === <span class="string">&#x27;echo&#x27;</span>) &#123;</span><br><span class="line">      socket.<span class="title function_">send</span>(message.<span class="property">data</span>) <span class="comment">// send back the user&#x27;s message</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><code>socket.send(number)</code> called on the server, will disclose server memory.</p>
<p>Here’s <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/websockets/ws/releases/tag/1.0.1" >the release</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> where the issue<br>was fixed, with a more detailed explanation. Props to<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/3rd-Eden" >Arnout Kazemier</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for the quick fix. Here’s the<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/67" >Node Security Project disclosure</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h3 id="What’s-the-solution"   >
          <a href="#What’s-the-solution" class="heading-link"><i class="fas fa-link"></i></a><a href="#What’s-the-solution" class="headerlink" title="What’s the solution?"></a>What’s the solution?</h3>
      <p>It’s important that node.js offers a fast way to get memory otherwise performance-critical<br>applications would needlessly get a lot slower.</p>
<p>But we need a better way to <em>signal our intent</em> as programmers. <strong>When we want<br>uninitialized memory, we should request it explicitly.</strong></p>
<p>Sensitive functionality should not be packed into a developer-friendly API that loosely<br>accepts many different types. This type of API encourages the lazy practice of passing<br>variables in without checking the type very carefully.</p>

        <h4 id="A-new-API-Buffer-allocUnsafe-number"   >
          <a href="#A-new-API-Buffer-allocUnsafe-number" class="heading-link"><i class="fas fa-link"></i></a><a href="#A-new-API-Buffer-allocUnsafe-number" class="headerlink" title="A new API: Buffer.allocUnsafe(number)"></a>A new API: <code>Buffer.allocUnsafe(number)</code></h4>
      <p>The functionality of creating buffers with uninitialized memory should be part of another<br>API. We propose <code>Buffer.allocUnsafe(number)</code>. This way, it’s not part of an API that<br>frequently gets user input of all sorts of different types passed into it.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">allocUnsafe</span>(<span class="number">16</span>) <span class="comment">// careful, uninitialized memory!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Immediately overwrite the uninitialized buffer with data from another buffer</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; buf.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  buf[i] = otherBuf[i]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



        <h3 id="How-do-we-fix-node-js-core"   >
          <a href="#How-do-we-fix-node-js-core" class="heading-link"><i class="fas fa-link"></i></a><a href="#How-do-we-fix-node-js-core" class="headerlink" title="How do we fix node.js core?"></a>How do we fix node.js core?</h3>
      <p>We sent <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/node/pull/4514" >a PR to node.js core</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (merged as<br><code>semver-major</code>) which defends against one case:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="number">16</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Buffer</span>(str, <span class="string">&#x27;utf8&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p>In this situation, it’s implied that the programmer intended the first argument to be a<br>string, since they passed an encoding as a second argument. Today, node.js will allocate<br>uninitialized memory in the case of <code>new Buffer(number, encoding)</code>, which is probably not<br>what the programmer intended.</p>
<p>But this is only a partial solution, since if the programmer does <code>new Buffer(variable)</code><br>(without an <code>encoding</code> parameter) there’s no way to know what they intended. If <code>variable</code><br>is sometimes a number, then uninitialized memory will sometimes be returned.</p>

        <h3 id="What’s-the-real-long-term-fix"   >
          <a href="#What’s-the-real-long-term-fix" class="heading-link"><i class="fas fa-link"></i></a><a href="#What’s-the-real-long-term-fix" class="headerlink" title="What’s the real long-term fix?"></a>What’s the real long-term fix?</h3>
      <p>We could deprecate and remove <code>new Buffer(number)</code> and use <code>Buffer.allocUnsafe(number)</code> when<br>we need uninitialized memory. But that would break 1000s of packages.</p>
<p><del>We believe the best solution is to:</del></p>
<p><del>1. Change <code>new Buffer(number)</code> to return safe, zeroed-out memory</del></p>
<p><del>2. Create a new API for creating uninitialized Buffers. We propose: <code>Buffer.allocUnsafe(number)</code></del></p>

        <h4 id="Update"   >
          <a href="#Update" class="heading-link"><i class="fas fa-link"></i></a><a href="#Update" class="headerlink" title="Update"></a>Update</h4>
      <p>We now support adding three new APIs:</p>
<ul>
<li><code>Buffer.from(value)</code> - convert from any type to a buffer</li>
<li><code>Buffer.alloc(size)</code> - create a zero-filled buffer</li>
<li><code>Buffer.allocUnsafe(size)</code> - create an uninitialized buffer with given size</li>
</ul>
<p>This solves the core problem that affected <code>ws</code> and <code>bittorrent-dht</code> which is<br><code>Buffer(variable)</code> getting tricked into taking a number argument.</p>
<p>This way, existing code continues working and the impact on the npm ecosystem will be<br>minimal. Over time, npm maintainers can migrate performance-critical code to use<br><code>Buffer.allocUnsafe(number)</code> instead of <code>new Buffer(number)</code>.</p>

        <h3 id="Conclusion"   >
          <a href="#Conclusion" class="heading-link"><i class="fas fa-link"></i></a><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3>
      <p>We think there’s a serious design issue with the <code>Buffer</code> API as it exists today. It<br>promotes insecure software by putting high-risk functionality into a convenient API<br>with friendly “developer ergonomics”.</p>
<p>This wasn’t merely a theoretical exercise because we found the issue in some of the<br>most popular npm packages.</p>
<p>Fortunately, there’s an easy fix that can be applied today. Use <code>safe-buffer</code> in place of<br><code>buffer</code>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Buffer</span> = <span class="built_in">require</span>(<span class="string">&#x27;safe-buffer&#x27;</span>).<span class="property">Buffer</span></span><br></pre></td></tr></table></div></figure>

<p>Eventually, we hope that node.js core can switch to this new, safer behavior. We believe<br>the impact on the ecosystem would be minimal since it’s not a breaking change.<br>Well-maintained, popular packages would be updated to use <code>Buffer.alloc</code> quickly, while<br>older, insecure packages would magically become safe from this attack vector.</p>

        <h2 id="links"   >
          <a href="#links" class="heading-link"><i class="fas fa-link"></i></a><a href="#links" class="headerlink" title="links"></a>links</h2>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/node/pull/4514" >Node.js PR: buffer: throw if both length and enc are passed</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/67">Node Security Project disclosure for <code>ws</code></a></li>
<li><a target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/68">Node Security Project disclosure for<code>bittorrent-dht</code></a></li>
</ul>

        <h2 id="credit"   >
          <a href="#credit" class="heading-link"><i class="fas fa-link"></i></a><a href="#credit" class="headerlink" title="credit"></a>credit</h2>
      <p>The original issues in <code>bittorrent-dht</code><br>(<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/68" >disclosure</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>) and<br><code>ws</code> (<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodesecurity.io/advisories/67" >disclosure</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>) were discovered by<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mafintosh" >Mathias Buus</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://feross.org/" >Feross Aboukhadijeh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Thanks to <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/evilpacket" >Adam Baldwin</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for helping disclose these issues<br>and for his work running the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodesecurity.io/" >Node Security Project</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>Thanks to <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/jhiesey" >John Hiesey</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for proofreading this README and<br>auditing the code.</p>

        <h2 id="license"   >
          <a href="#license" class="heading-link"><i class="fas fa-link"></i></a><a href="#license" class="headerlink" title="license"></a>license</h2>
      <p>MIT. Copyright (C) <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://feross.org/" >Feross Aboukhadijeh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/request-promise-native/node_modules/tough-cookie/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc6265" >RFC6265</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Cookies and CookieJar for Node.js</p>
<p><a target="_blank" rel="noopener" href="https://nodei.co/npm/tough-cookie/"><img   src="https://nodei.co/npm/tough-cookie.png?downloads=true&downloadRank=true&stars=true" style=""  alt="npm package"></a></p>
<p><a target="_blank" rel="noopener" href="https://travis-ci.org/salesforce/tough-cookie"><img   src="https://travis-ci.org/salesforce/tough-cookie.png?branch=master" style=""  alt="Build Status"></a></p>

        <h1 id="Synopsis"   >
          <a href="#Synopsis" class="heading-link"><i class="fas fa-link"></i></a><a href="#Synopsis" class="headerlink" title="Synopsis"></a>Synopsis</h1>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tough = <span class="built_in">require</span>(<span class="string">&#x27;tough-cookie&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Cookie</span> = tough.<span class="property">Cookie</span>;</span><br><span class="line"><span class="keyword">var</span> cookie = <span class="title class_">Cookie</span>.<span class="title function_">parse</span>(header);</span><br><span class="line">cookie.<span class="property">value</span> = <span class="string">&#x27;somethingdifferent&#x27;</span>;</span><br><span class="line">header = cookie.<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cookiejar = <span class="keyword">new</span> tough.<span class="title class_">CookieJar</span>();</span><br><span class="line">cookiejar.<span class="title function_">setCookie</span>(cookie, <span class="string">&#x27;http://currentdomain.example.com/path&#x27;</span>, cb);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">cookiejar.<span class="title function_">getCookies</span>(<span class="string">&#x27;http://example.com/otherpath&#x27;</span>,<span class="keyword">function</span>(<span class="params">err,cookies</span>) &#123;</span><br><span class="line">  res.<span class="property">headers</span>[<span class="string">&#x27;cookie&#x27;</span>] = cookies.<span class="title function_">join</span>(<span class="string">&#x27;; &#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h1 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1>
      <p>It’s <em>so</em> easy!</p>
<p><code>npm install tough-cookie</code></p>
<p>Why the name?  NPM modules <code>cookie</code>, <code>cookies</code> and <code>cookiejar</code> were already taken.</p>

        <h2 id="Version-Support"   >
          <a href="#Version-Support" class="heading-link"><i class="fas fa-link"></i></a><a href="#Version-Support" class="headerlink" title="Version Support"></a>Version Support</h2>
      <p>Support for versions of node.js will follow that of the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/request" >request</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> module.</p>

        <h1 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h1>
      
        <h2 id="tough"   >
          <a href="#tough" class="heading-link"><i class="fas fa-link"></i></a><a href="#tough" class="headerlink" title="tough"></a>tough</h2>
      <p>Functions on the module you get from <code>require(&#39;tough-cookie&#39;)</code>.  All can be used as pure functions and don’t need to be “bound”.</p>
<p><strong>Note</strong>: prior to 1.0.x, several of these functions took a <code>strict</code> parameter. This has since been removed from the API as it was no longer necessary.</p>

        <h3 id="parseDate-string"   >
          <a href="#parseDate-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#parseDate-string" class="headerlink" title="parseDate(string)"></a><code>parseDate(string)</code></h3>
      <p>Parse a cookie date string into a <code>Date</code>.  Parses according to RFC6265 Section 5.1.1, not <code>Date.parse()</code>.</p>

        <h3 id="formatDate-date"   >
          <a href="#formatDate-date" class="heading-link"><i class="fas fa-link"></i></a><a href="#formatDate-date" class="headerlink" title="formatDate(date)"></a><code>formatDate(date)</code></h3>
      <p>Format a Date into a RFC1123 string (the RFC6265-recommended format).</p>

        <h3 id="canonicalDomain-str"   >
          <a href="#canonicalDomain-str" class="heading-link"><i class="fas fa-link"></i></a><a href="#canonicalDomain-str" class="headerlink" title="canonicalDomain(str)"></a><code>canonicalDomain(str)</code></h3>
      <p>Transforms a domain-name into a canonical domain-name.  The canonical domain-name is a trimmed, lowercased, stripped-of-leading-dot and optionally punycode-encoded domain-name (Section 5.1.2 of RFC6265).  For the most part, this function is idempotent (can be run again on its output without ill effects).</p>

        <h3 id="domainMatch-str-domStr-canonicalize-true"   >
          <a href="#domainMatch-str-domStr-canonicalize-true" class="heading-link"><i class="fas fa-link"></i></a><a href="#domainMatch-str-domStr-canonicalize-true" class="headerlink" title="domainMatch(str,domStr[,canonicalize=true])"></a><code>domainMatch(str,domStr[,canonicalize=true])</code></h3>
      <p>Answers “does this real domain match the domain in a cookie?”.  The <code>str</code> is the “current” domain-name and the <code>domStr</code> is the “cookie” domain-name.  Matches according to RFC6265 Section 5.1.3, but it helps to think of it as a “suffix match”.</p>
<p>The <code>canonicalize</code> parameter will run the other two parameters through <code>canonicalDomain</code> or not.</p>

        <h3 id="defaultPath-path"   >
          <a href="#defaultPath-path" class="heading-link"><i class="fas fa-link"></i></a><a href="#defaultPath-path" class="headerlink" title="defaultPath(path)"></a><code>defaultPath(path)</code></h3>
      <p>Given a current request&#x2F;response path, gives the Path apropriate for storing in a cookie.  This is basically the “directory” of a “file” in the path, but is specified by Section 5.1.4 of the RFC.</p>
<p>The <code>path</code> parameter MUST be <em>only</em> the pathname part of a URI (i.e. excludes the hostname, query, fragment, etc.).  This is the <code>.pathname</code> property of node’s <code>uri.parse()</code> output.</p>

        <h3 id="pathMatch-reqPath-cookiePath"   >
          <a href="#pathMatch-reqPath-cookiePath" class="heading-link"><i class="fas fa-link"></i></a><a href="#pathMatch-reqPath-cookiePath" class="headerlink" title="pathMatch(reqPath,cookiePath)"></a><code>pathMatch(reqPath,cookiePath)</code></h3>
      <p>Answers “does the request-path path-match a given cookie-path?” as per RFC6265 Section 5.1.4.  Returns a boolean.</p>
<p>This is essentially a prefix-match where <code>cookiePath</code> is a prefix of <code>reqPath</code>.</p>

        <h3 id="parse-cookieString-options"   >
          <a href="#parse-cookieString-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#parse-cookieString-options" class="headerlink" title="parse(cookieString[, options])"></a><code>parse(cookieString[, options])</code></h3>
      <p>alias for <code>Cookie.parse(cookieString[, options])</code></p>

        <h3 id="fromJSON-string"   >
          <a href="#fromJSON-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#fromJSON-string" class="headerlink" title="fromJSON(string)"></a><code>fromJSON(string)</code></h3>
      <p>alias for <code>Cookie.fromJSON(string)</code></p>

        <h3 id="getPublicSuffix-hostname"   >
          <a href="#getPublicSuffix-hostname" class="heading-link"><i class="fas fa-link"></i></a><a href="#getPublicSuffix-hostname" class="headerlink" title="getPublicSuffix(hostname)"></a><code>getPublicSuffix(hostname)</code></h3>
      <p>Returns the public suffix of this hostname.  The public suffix is the shortest domain-name upon which a cookie can be set.  Returns <code>null</code> if the hostname cannot have cookies set for it.</p>
<p>For example: <code>www.example.com</code> and <code>www.subdomain.example.com</code> both have public suffix <code>example.com</code>.</p>
<p>For further information, see <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://publicsuffix.org/" >http://publicsuffix.org/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.  This module derives its list from that site. This call is currently a wrapper around <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/psl"><code>psl</code></a>‘s <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/psl#pslgetdomain" >get() method</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h3 id="cookieCompare-a-b"   >
          <a href="#cookieCompare-a-b" class="heading-link"><i class="fas fa-link"></i></a><a href="#cookieCompare-a-b" class="headerlink" title="cookieCompare(a,b)"></a><code>cookieCompare(a,b)</code></h3>
      <p>For use with <code>.sort()</code>, sorts a list of cookies into the recommended order given in the RFC (Section 5.4 step 2). The sort algorithm is, in order of precedence:</p>
<ul>
<li>Longest <code>.path</code></li>
<li>oldest <code>.creation</code> (which has a 1ms precision, same as <code>Date</code>)</li>
<li>lowest <code>.creationIndex</code> (to get beyond the 1ms precision)</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cookies = [ <span class="comment">/* unsorted array of Cookie objects */</span> ];</span><br><span class="line">cookies = cookies.<span class="title function_">sort</span>(cookieCompare);</span><br></pre></td></tr></table></div></figure>

<p><strong>Note</strong>: Since JavaScript’s <code>Date</code> is limited to a 1ms precision, cookies within the same milisecond are entirely possible. This is especially true when using the <code>now</code> option to <code>.setCookie()</code>. The <code>.creationIndex</code> property is a per-process global counter, assigned during construction with <code>new Cookie()</code>. This preserves the spirit of the RFC sorting: older cookies go first. This works great for <code>MemoryCookieStore</code>, since <code>Set-Cookie</code> headers are parsed in order, but may not be so great for distributed systems. Sophisticated <code>Store</code>s may wish to set this to some other <em>logical clock</em> such that if cookies A and B are created in the same millisecond, but cookie A is created before cookie B, then <code>A.creationIndex &lt; B.creationIndex</code>. If you want to alter the global counter, which you probably <em>shouldn’t</em> do, it’s stored in <code>Cookie.cookiesCreated</code>.</p>

        <h3 id="permuteDomain-domain"   >
          <a href="#permuteDomain-domain" class="heading-link"><i class="fas fa-link"></i></a><a href="#permuteDomain-domain" class="headerlink" title="permuteDomain(domain)"></a><code>permuteDomain(domain)</code></h3>
      <p>Generates a list of all possible domains that <code>domainMatch()</code> the parameter.  May be handy for implementing cookie stores.</p>

        <h3 id="permutePath-path"   >
          <a href="#permutePath-path" class="heading-link"><i class="fas fa-link"></i></a><a href="#permutePath-path" class="headerlink" title="permutePath(path)"></a><code>permutePath(path)</code></h3>
      <p>Generates a list of all possible paths that <code>pathMatch()</code> the parameter.  May be handy for implementing cookie stores.</p>

        <h2 id="Cookie"   >
          <a href="#Cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2>
      <p>Exported via <code>tough.Cookie</code>.</p>

        <h3 id="Cookie-parse-cookieString-options"   >
          <a href="#Cookie-parse-cookieString-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-parse-cookieString-options" class="headerlink" title="Cookie.parse(cookieString[, options])"></a><code>Cookie.parse(cookieString[, options])</code></h3>
      <p>Parses a single Cookie or Set-Cookie HTTP header into a <code>Cookie</code> object.  Returns <code>undefined</code> if the string can’t be parsed.</p>
<p>The options parameter is not required and currently has only one property:</p>
<ul>
<li><em>loose</em> - boolean - if <code>true</code> enable parsing of key-less cookies like <code>=abc</code> and <code>=</code>, which are not RFC-compliant.</li>
</ul>
<p>If options is not an object, it is ignored, which means you can use <code>Array#map</code> with it.</p>
<p>Here’s how to process the Set-Cookie header(s) on a node HTTP&#x2F;HTTPS response:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>)</span><br><span class="line">  cookies = res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>].<span class="title function_">map</span>(<span class="title class_">Cookie</span>.<span class="property">parse</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  cookies = [<span class="title class_">Cookie</span>.<span class="title function_">parse</span>(res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>])];</span><br></pre></td></tr></table></div></figure>

<p><em>Note:</em> in version 2.3.3, tough-cookie limited the number of spaces before the <code>=</code> to 256 characters. This limitation has since been removed.<br>See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/salesforce/tough-cookie/issues/92" >Issue 92</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Properties"   >
          <a href="#Properties" class="heading-link"><i class="fas fa-link"></i></a><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3>
      <p>Cookie object properties:</p>
<ul>
<li><em>key</em> - string - the name or key of the cookie (default “”)</li>
<li><em>value</em> - string - the value of the cookie (default “”)</li>
<li><em>expires</em> - <code>Date</code> - if set, the <code>Expires=</code> attribute of the cookie (defaults to the string <code>&quot;Infinity&quot;</code>). See <code>setExpires()</code></li>
<li><em>maxAge</em> - seconds - if set, the <code>Max-Age=</code> attribute <em>in seconds</em> of the cookie.  May also be set to strings <code>&quot;Infinity&quot;</code> and <code>&quot;-Infinity&quot;</code> for non-expiry and immediate-expiry, respectively.  See <code>setMaxAge()</code></li>
<li><em>domain</em> - string - the <code>Domain=</code> attribute of the cookie</li>
<li><em>path</em> - string - the <code>Path=</code> of the cookie</li>
<li><em>secure</em> - boolean - the <code>Secure</code> cookie flag</li>
<li><em>httpOnly</em> - boolean - the <code>HttpOnly</code> cookie flag</li>
<li><em>extensions</em> - <code>Array</code> - any unrecognized cookie attributes as strings (even if equal-signs inside)</li>
<li><em>creation</em> - <code>Date</code> - when this cookie was constructed</li>
<li><em>creationIndex</em> - number - set at construction, used to provide greater sort precision (please see <code>cookieCompare(a,b)</code> for a full explanation)</li>
</ul>
<p>After a cookie has been passed through <code>CookieJar.setCookie()</code> it will have the following additional attributes:</p>
<ul>
<li><em>hostOnly</em> - boolean - is this a host-only cookie (i.e. no Domain field was set, but was instead implied)</li>
<li><em>pathIsDefault</em> - boolean - if true, there was no Path field on the cookie and <code>defaultPath()</code> was used to derive one.</li>
<li><em>creation</em> - <code>Date</code> - <strong>modified</strong> from construction to when the cookie was added to the jar</li>
<li><em>lastAccessed</em> - <code>Date</code> - last time the cookie got accessed. Will affect cookie cleaning once implemented.  Using <code>cookiejar.getCookies(...)</code> will update this attribute.</li>
</ul>

        <h3 id="Cookie-properties"   >
          <a href="#Cookie-properties" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-properties" class="headerlink" title="Cookie([{properties}])"></a><code>Cookie([&#123;properties&#125;])</code></h3>
      <p>Receives an options object that can contain any of the above Cookie properties, uses the default for unspecified properties.</p>

        <h3 id="toString-NaN"   >
          <a href="#toString-NaN" class="heading-link"><i class="fas fa-link"></i></a><a href="#toString-NaN" class="headerlink" title=".toString()"></a><code>.toString()</code></h3>
      <p>encode to a Set-Cookie header value.  The Expires cookie field is set using <code>formatDate()</code>, but is omitted entirely if <code>.expires</code> is <code>Infinity</code>.</p>

        <h3 id="cookieString"   >
          <a href="#cookieString" class="heading-link"><i class="fas fa-link"></i></a><a href="#cookieString" class="headerlink" title=".cookieString()"></a><code>.cookieString()</code></h3>
      <p>encode to a Cookie header value (i.e. the <code>.key</code> and <code>.value</code> properties joined with ‘&#x3D;’).</p>

        <h3 id="setExpires-String"   >
          <a href="#setExpires-String" class="heading-link"><i class="fas fa-link"></i></a><a href="#setExpires-String" class="headerlink" title=".setExpires(String)"></a><code>.setExpires(String)</code></h3>
      <p>sets the expiry based on a date-string passed through <code>parseDate()</code>.  If parseDate returns <code>null</code> (i.e. can’t parse this date string), <code>.expires</code> is set to <code>&quot;Infinity&quot;</code> (a string) is set.</p>

        <h3 id="setMaxAge-number"   >
          <a href="#setMaxAge-number" class="heading-link"><i class="fas fa-link"></i></a><a href="#setMaxAge-number" class="headerlink" title=".setMaxAge(number)"></a><code>.setMaxAge(number)</code></h3>
      <p>sets the maxAge in seconds.  Coerces <code>-Infinity</code> to <code>&quot;-Infinity&quot;</code> and <code>Infinity</code> to <code>&quot;Infinity&quot;</code> so it JSON serializes correctly.</p>

        <h3 id="expiryTime-now-Date-now"   >
          <a href="#expiryTime-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#expiryTime-now-Date-now" class="headerlink" title=".expiryTime([now=Date.now()])"></a><code>.expiryTime([now=Date.now()])</code></h3>
      
        <h3 id="expiryDate-now-Date-now"   >
          <a href="#expiryDate-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#expiryDate-now-Date-now" class="headerlink" title=".expiryDate([now=Date.now()])"></a><code>.expiryDate([now=Date.now()])</code></h3>
      <p>expiryTime() Computes the absolute unix-epoch milliseconds that this cookie expires. expiryDate() works similarly, except it returns a <code>Date</code> object.  Note that in both cases the <code>now</code> parameter should be milliseconds.</p>
<p>Max-Age takes precedence over Expires (as per the RFC). The <code>.creation</code> attribute – or, by default, the <code>now</code> parameter – is used to offset the <code>.maxAge</code> attribute.</p>
<p>If Expires (<code>.expires</code>) is set, that’s returned.</p>
<p>Otherwise, <code>expiryTime()</code> returns <code>Infinity</code> and <code>expiryDate()</code> returns a <code>Date</code> object for “Tue, 19 Jan 2038 03:14:07 GMT” (latest date that can be expressed by a 32-bit <code>time_t</code>; the common limit for most user-agents).</p>

        <h3 id="TTL-now-Date-now"   >
          <a href="#TTL-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#TTL-now-Date-now" class="headerlink" title=".TTL([now=Date.now()])"></a><code>.TTL([now=Date.now()])</code></h3>
      <p>compute the TTL relative to <code>now</code> (milliseconds).  The same precedence rules as for <code>expiryTime</code>&#x2F;<code>expiryDate</code> apply.</p>
<p>The “number” <code>Infinity</code> is returned for cookies without an explicit expiry and <code>0</code> is returned if the cookie is expired.  Otherwise a time-to-live in milliseconds is returned.</p>

        <h3 id="canonicalizedDomain"   >
          <a href="#canonicalizedDomain" class="heading-link"><i class="fas fa-link"></i></a><a href="#canonicalizedDomain" class="headerlink" title=".canonicalizedDomain()"></a><code>.canonicalizedDomain()</code></h3>
      
        <h3 id="cdomain"   >
          <a href="#cdomain" class="heading-link"><i class="fas fa-link"></i></a><a href="#cdomain" class="headerlink" title=".cdomain()"></a><code>.cdomain()</code></h3>
      <p>return the canonicalized <code>.domain</code> field.  This is lower-cased and punycode (RFC3490) encoded if the domain has any non-ASCII characters.</p>

        <h3 id="toJSON"   >
          <a href="#toJSON" class="heading-link"><i class="fas fa-link"></i></a><a href="#toJSON" class="headerlink" title=".toJSON()"></a><code>.toJSON()</code></h3>
      <p>For convenience in using <code>JSON.serialize(cookie)</code>. Returns a plain-old <code>Object</code> that can be JSON-serialized.</p>
<p>Any <code>Date</code> properties (i.e., <code>.expires</code>, <code>.creation</code>, and <code>.lastAccessed</code>) are exported in ISO format (<code>.toISOString()</code>).</p>
<p><strong>NOTE</strong>: Custom <code>Cookie</code> properties will be discarded. In tough-cookie 1.x, since there was no <code>.toJSON</code> method explicitly defined, all enumerable properties were captured. If you want a property to be serialized, add the property name to the <code>Cookie.serializableProperties</code> Array.</p>

        <h3 id="Cookie-fromJSON-strOrObj"   >
          <a href="#Cookie-fromJSON-strOrObj" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-fromJSON-strOrObj" class="headerlink" title="Cookie.fromJSON(strOrObj)"></a><code>Cookie.fromJSON(strOrObj)</code></h3>
      <p>Does the reverse of <code>cookie.toJSON()</code>. If passed a string, will <code>JSON.parse()</code> that first.</p>
<p>Any <code>Date</code> properties (i.e., <code>.expires</code>, <code>.creation</code>, and <code>.lastAccessed</code>) are parsed via <code>Date.parse()</code>, not the tough-cookie <code>parseDate</code>, since it’s JavaScript&#x2F;JSON-y timestamps being handled at this layer.</p>
<p>Returns <code>null</code> upon JSON parsing error.</p>

        <h3 id="clone"   >
          <a href="#clone" class="heading-link"><i class="fas fa-link"></i></a><a href="#clone" class="headerlink" title=".clone()"></a><code>.clone()</code></h3>
      <p>Does a deep clone of this cookie, exactly implemented as <code>Cookie.fromJSON(cookie.toJSON())</code>.</p>

        <h3 id="validate"   >
          <a href="#validate" class="heading-link"><i class="fas fa-link"></i></a><a href="#validate" class="headerlink" title=".validate()"></a><code>.validate()</code></h3>
      <p>Status: <em>IN PROGRESS</em>. Works for a few things, but is by no means comprehensive.</p>
<p>validates cookie attributes for semantic correctness.  Useful for “lint” checking any Set-Cookie headers you generate.  For now, it returns a boolean, but eventually could return a reason string – you can future-proof with this construct:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (cookie.<span class="title function_">validate</span>() === <span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">// it&#x27;s tasty</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// yuck!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



        <h2 id="CookieJar"   >
          <a href="#CookieJar" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar" class="headerlink" title="CookieJar"></a>CookieJar</h2>
      <p>Exported via <code>tough.CookieJar</code>.</p>

        <h3 id="CookieJar-store-options"   >
          <a href="#CookieJar-store-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-store-options" class="headerlink" title="CookieJar([store],[options])"></a><code>CookieJar([store],[options])</code></h3>
      <p>Simply use <code>new CookieJar()</code>.  If you’d like to use a custom store, pass that to the constructor otherwise a <code>MemoryCookieStore</code> will be created and used.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>rejectPublicSuffixes</em> - boolean - default <code>true</code> - reject cookies with domains like “com” and “co.uk”</li>
<li><em>looseMode</em> - boolean - default <code>false</code> - accept malformed cookies like <code>bar</code> and <code>=bar</code>, which have an implied empty name.<br>This is not in the standard, but is used sometimes on the web and is accepted by (most) browsers.</li>
</ul>
<p>Since eventually this module would like to support database&#x2F;remote&#x2F;etc. CookieJars, continuation passing style is used for CookieJar methods.</p>

        <h3 id="setCookie-cookieOrString-currentUrl-options-cb-err-cookie"   >
          <a href="#setCookie-cookieOrString-currentUrl-options-cb-err-cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#setCookie-cookieOrString-currentUrl-options-cb-err-cookie" class="headerlink" title=".setCookie(cookieOrString, currentUrl, [{options},] cb(err,cookie))"></a><code>.setCookie(cookieOrString, currentUrl, [&#123;options&#125;,] cb(err,cookie))</code></h3>
      <p>Attempt to set the cookie in the cookie jar.  If the operation fails, an error will be given to the callback <code>cb</code>, otherwise the cookie is passed through.  The cookie will have updated <code>.creation</code>, <code>.lastAccessed</code> and <code>.hostOnly</code> properties.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>http</em> - boolean - default <code>true</code> - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.</li>
<li><em>secure</em> - boolean - autodetect from url - indicates if this is a “Secure” API.  If the currentUrl starts with <code>https:</code> or <code>wss:</code> then this is defaulted to <code>true</code>, otherwise <code>false</code>.</li>
<li><em>now</em> - Date - default <code>new Date()</code> - what to use for the creation&#x2F;access time of cookies</li>
<li><em>ignoreError</em> - boolean - default <code>false</code> - silently ignore things like parse errors and invalid domains.  <code>Store</code> errors aren’t ignored by this option.</li>
</ul>
<p>As per the RFC, the <code>.hostOnly</code> property is set if there was no “Domain&#x3D;” parameter in the cookie string (or <code>.domain</code> was null on the Cookie object).  The <code>.domain</code> property is set to the fully-qualified hostname of <code>currentUrl</code> in this case.  Matching this cookie requires an exact hostname match (not a <code>domainMatch</code> as per usual).</p>

        <h3 id="setCookieSync-cookieOrString-currentUrl-options"   >
          <a href="#setCookieSync-cookieOrString-currentUrl-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#setCookieSync-cookieOrString-currentUrl-options" class="headerlink" title=".setCookieSync(cookieOrString, currentUrl, [{options}])"></a><code>.setCookieSync(cookieOrString, currentUrl, [&#123;options&#125;])</code></h3>
      <p>Synchronous version of <code>setCookie</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getCookies-currentUrl-options-cb-err-cookies"   >
          <a href="#getCookies-currentUrl-options-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookies-currentUrl-options-cb-err-cookies" class="headerlink" title=".getCookies(currentUrl, [{options},] cb(err,cookies))"></a><code>.getCookies(currentUrl, [&#123;options&#125;,] cb(err,cookies))</code></h3>
      <p>Retrieve the list of cookies that can be sent in a Cookie header for the current url.</p>
<p>If an error is encountered, that’s passed as <code>err</code> to the callback, otherwise an <code>Array</code> of <code>Cookie</code> objects is passed.  The array is sorted with <code>cookieCompare()</code> unless the <code>&#123;sort:false&#125;</code> option is given.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>http</em> - boolean - default <code>true</code> - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.</li>
<li><em>secure</em> - boolean - autodetect from url - indicates if this is a “Secure” API.  If the currentUrl starts with <code>https:</code> or <code>wss:</code> then this is defaulted to <code>true</code>, otherwise <code>false</code>.</li>
<li><em>now</em> - Date - default <code>new Date()</code> - what to use for the creation&#x2F;access time of cookies</li>
<li><em>expire</em> - boolean - default <code>true</code> - perform expiry-time checking of cookies and asynchronously remove expired cookies from the store.  Using <code>false</code> will return expired cookies and <strong>not</strong> remove them from the store (which is useful for replaying Set-Cookie headers, potentially).</li>
<li><em>allPaths</em> - boolean - default <code>false</code> - if <code>true</code>, do not scope cookies by path. The default uses RFC-compliant path scoping. <strong>Note</strong>: may not be supported by the underlying store (the default <code>MemoryCookieStore</code> supports it).</li>
</ul>
<p>The <code>.lastAccessed</code> property of the returned cookies will have been updated.</p>

        <h3 id="getCookiesSync-currentUrl-options"   >
          <a href="#getCookiesSync-currentUrl-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookiesSync-currentUrl-options" class="headerlink" title=".getCookiesSync(currentUrl, [{options}])"></a><code>.getCookiesSync(currentUrl, [&#123;options&#125;])</code></h3>
      <p>Synchronous version of <code>getCookies</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getCookieString"   >
          <a href="#getCookieString" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookieString" class="headerlink" title=".getCookieString(...)"></a><code>.getCookieString(...)</code></h3>
      <p>Accepts the same options as <code>.getCookies()</code> but passes a string suitable for a Cookie header rather than an array to the callback.  Simply maps the <code>Cookie</code> array via <code>.cookieString()</code>.</p>

        <h3 id="getCookieStringSync"   >
          <a href="#getCookieStringSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookieStringSync" class="headerlink" title=".getCookieStringSync(...)"></a><code>.getCookieStringSync(...)</code></h3>
      <p>Synchronous version of <code>getCookieString</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getSetCookieStrings"   >
          <a href="#getSetCookieStrings" class="heading-link"><i class="fas fa-link"></i></a><a href="#getSetCookieStrings" class="headerlink" title=".getSetCookieStrings(...)"></a><code>.getSetCookieStrings(...)</code></h3>
      <p>Returns an array of strings suitable for <strong>Set-Cookie</strong> headers. Accepts the same options as <code>.getCookies()</code>.  Simply maps the cookie array via <code>.toString()</code>.</p>

        <h3 id="getSetCookieStringsSync"   >
          <a href="#getSetCookieStringsSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#getSetCookieStringsSync" class="headerlink" title=".getSetCookieStringsSync(...)"></a><code>.getSetCookieStringsSync(...)</code></h3>
      <p>Synchronous version of <code>getSetCookieStrings</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="serialize-cb-err-serializedObject"   >
          <a href="#serialize-cb-err-serializedObject" class="heading-link"><i class="fas fa-link"></i></a><a href="#serialize-cb-err-serializedObject" class="headerlink" title=".serialize(cb(err,serializedObject))"></a><code>.serialize(cb(err,serializedObject))</code></h3>
      <p>Serialize the Jar if the underlying store supports <code>.getAllCookies</code>.</p>
<p><strong>NOTE</strong>: Custom <code>Cookie</code> properties will be discarded. If you want a property to be serialized, add the property name to the <code>Cookie.serializableProperties</code> Array.</p>
<p>See [Serialization Format].</p>

        <h3 id="serializeSync"   >
          <a href="#serializeSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#serializeSync" class="headerlink" title=".serializeSync()"></a><code>.serializeSync()</code></h3>
      <p>Sync version of .serialize</p>

        <h3 id="toJSON-1"   >
          <a href="#toJSON-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#toJSON-1" class="headerlink" title=".toJSON()"></a><code>.toJSON()</code></h3>
      <p>Alias of .serializeSync() for the convenience of <code>JSON.stringify(cookiejar)</code>.</p>

        <h3 id="CookieJar-deserialize-serialized-store-cb-err-object"   >
          <a href="#CookieJar-deserialize-serialized-store-cb-err-object" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-deserialize-serialized-store-cb-err-object" class="headerlink" title="CookieJar.deserialize(serialized, [store], cb(err,object))"></a><code>CookieJar.deserialize(serialized, [store], cb(err,object))</code></h3>
      <p>A new Jar is created and the serialized Cookies are added to the underlying store. Each <code>Cookie</code> is added via <code>store.putCookie</code> in the order in which they appear in the serialization.</p>
<p>The <code>store</code> argument is optional, but should be an instance of <code>Store</code>. By default, a new instance of <code>MemoryCookieStore</code> is created.</p>
<p>As a convenience, if <code>serialized</code> is a string, it is passed through <code>JSON.parse</code> first. If that throws an error, this is passed to the callback.</p>

        <h3 id="CookieJar-deserializeSync-serialized-store"   >
          <a href="#CookieJar-deserializeSync-serialized-store" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-deserializeSync-serialized-store" class="headerlink" title="CookieJar.deserializeSync(serialized, [store])"></a><code>CookieJar.deserializeSync(serialized, [store])</code></h3>
      <p>Sync version of <code>.deserialize</code>.  <em>Note</em> that the <code>store</code> must be synchronous for this to work.</p>

        <h3 id="CookieJar-fromJSON-string"   >
          <a href="#CookieJar-fromJSON-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-fromJSON-string" class="headerlink" title="CookieJar.fromJSON(string)"></a><code>CookieJar.fromJSON(string)</code></h3>
      <p>Alias of <code>.deserializeSync</code> to provide consistency with <code>Cookie.fromJSON()</code>.</p>

        <h3 id="clone-store-cb-err-newJar"   >
          <a href="#clone-store-cb-err-newJar" class="heading-link"><i class="fas fa-link"></i></a><a href="#clone-store-cb-err-newJar" class="headerlink" title=".clone([store,]cb(err,newJar))"></a><code>.clone([store,]cb(err,newJar))</code></h3>
      <p>Produces a deep clone of this jar. Modifications to the original won’t affect the clone, and vice versa.</p>
<p>The <code>store</code> argument is optional, but should be an instance of <code>Store</code>. By default, a new instance of <code>MemoryCookieStore</code> is created. Transferring between store types is supported so long as the source implements <code>.getAllCookies()</code> and the destination implements <code>.putCookie()</code>.</p>

        <h3 id="cloneSync-store"   >
          <a href="#cloneSync-store" class="heading-link"><i class="fas fa-link"></i></a><a href="#cloneSync-store" class="headerlink" title=".cloneSync([store])"></a><code>.cloneSync([store])</code></h3>
      <p>Synchronous version of <code>.clone</code>, returning a new <code>CookieJar</code> instance.</p>
<p>The <code>store</code> argument is optional, but must be a <em>synchronous</em> <code>Store</code> instance if specified. If not passed, a new instance of <code>MemoryCookieStore</code> is used.</p>
<p>The <em>source</em> and <em>destination</em> must both be synchronous <code>Store</code>s. If one or both stores are asynchronous, use <code>.clone</code> instead. Recall that <code>MemoryCookieStore</code> supports both synchronous and asynchronous API calls.</p>

        <h3 id="removeAllCookies-cb-err"   >
          <a href="#removeAllCookies-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#removeAllCookies-cb-err" class="headerlink" title=".removeAllCookies(cb(err))"></a><code>.removeAllCookies(cb(err))</code></h3>
      <p>Removes all cookies from the jar.</p>
<p>This is a new backwards-compatible feature of <code>tough-cookie</code> version 2.5, so not all Stores will implement it efficiently. For Stores that do not implement <code>removeAllCookies</code>, the fallback is to call <code>removeCookie</code> after <code>getAllCookies</code>. If <code>getAllCookies</code> fails or isn’t implemented in the Store, that error is returned. If one or more of the <code>removeCookie</code> calls fail, only the first error is returned.</p>

        <h3 id="removeAllCookiesSync"   >
          <a href="#removeAllCookiesSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#removeAllCookiesSync" class="headerlink" title=".removeAllCookiesSync()"></a><code>.removeAllCookiesSync()</code></h3>
      <p>Sync version of <code>.removeAllCookies()</code></p>

        <h2 id="Store"   >
          <a href="#Store" class="heading-link"><i class="fas fa-link"></i></a><a href="#Store" class="headerlink" title="Store"></a>Store</h2>
      <p>Base class for CookieJar stores. Available as <code>tough.Store</code>.</p>

        <h2 id="Store-API"   >
          <a href="#Store-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#Store-API" class="headerlink" title="Store API"></a>Store API</h2>
      <p>The storage model for each <code>CookieJar</code> instance can be replaced with a custom implementation.  The default is <code>MemoryCookieStore</code> which can be found in the <code>lib/memstore.js</code> file.  The API uses continuation-passing-style to allow for asynchronous stores.</p>
<p>Stores should inherit from the base <code>Store</code> class, which is available as <code>require(&#39;tough-cookie&#39;).Store</code>.</p>
<p>Stores are asynchronous by default, but if <code>store.synchronous</code> is set to <code>true</code>, then the <code>*Sync</code> methods on the of the containing <code>CookieJar</code> can be used (however, the continuation-passing style</p>
<p>All <code>domain</code> parameters will have been normalized before calling.</p>
<p>The Cookie store must have all of the following methods.</p>

        <h3 id="store-findCookie-domain-path-key-cb-err-cookie"   >
          <a href="#store-findCookie-domain-path-key-cb-err-cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-findCookie-domain-path-key-cb-err-cookie" class="headerlink" title="store.findCookie(domain, path, key, cb(err,cookie))"></a><code>store.findCookie(domain, path, key, cb(err,cookie))</code></h3>
      <p>Retrieve a cookie with the given domain, path and key (a.k.a. name).  The RFC maintains that exactly one of these cookies should exist in a store.  If the store is using versioning, this means that the latest&#x2F;newest such cookie should be returned.</p>
<p>Callback takes an error and the resulting <code>Cookie</code> object.  If no cookie is found then <code>null</code> MUST be passed instead (i.e. not an error).</p>

        <h3 id="store-findCookies-domain-path-cb-err-cookies"   >
          <a href="#store-findCookies-domain-path-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-findCookies-domain-path-cb-err-cookies" class="headerlink" title="store.findCookies(domain, path, cb(err,cookies))"></a><code>store.findCookies(domain, path, cb(err,cookies))</code></h3>
      <p>Locates cookies matching the given domain and path.  This is most often called in the context of <code>cookiejar.getCookies()</code> above.</p>
<p>If no cookies are found, the callback MUST be passed an empty array.</p>
<p>The resulting list will be checked for applicability to the current request according to the RFC (domain-match, path-match, http-only-flag, secure-flag, expiry, etc.), so it’s OK to use an optimistic search algorithm when implementing this method.  However, the search algorithm used SHOULD try to find cookies that <code>domainMatch()</code> the domain and <code>pathMatch()</code> the path in order to limit the amount of checking that needs to be done.</p>
<p>As of version 0.9.12, the <code>allPaths</code> option to <code>cookiejar.getCookies()</code> above will cause the path here to be <code>null</code>.  If the path is <code>null</code>, path-matching MUST NOT be performed (i.e. domain-matching only).</p>

        <h3 id="store-putCookie-cookie-cb-err"   >
          <a href="#store-putCookie-cookie-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-putCookie-cookie-cb-err" class="headerlink" title="store.putCookie(cookie, cb(err))"></a><code>store.putCookie(cookie, cb(err))</code></h3>
      <p>Adds a new cookie to the store.  The implementation SHOULD replace any existing cookie with the same <code>.domain</code>, <code>.path</code>, and <code>.key</code> properties – depending on the nature of the implementation, it’s possible that between the call to <code>fetchCookie</code> and <code>putCookie</code> that a duplicate <code>putCookie</code> can occur.</p>
<p>The <code>cookie</code> object MUST NOT be modified; the caller will have already updated the <code>.creation</code> and <code>.lastAccessed</code> properties.</p>
<p>Pass an error if the cookie cannot be stored.</p>

        <h3 id="store-updateCookie-oldCookie-newCookie-cb-err"   >
          <a href="#store-updateCookie-oldCookie-newCookie-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-updateCookie-oldCookie-newCookie-cb-err" class="headerlink" title="store.updateCookie(oldCookie, newCookie, cb(err))"></a><code>store.updateCookie(oldCookie, newCookie, cb(err))</code></h3>
      <p>Update an existing cookie.  The implementation MUST update the <code>.value</code> for a cookie with the same <code>domain</code>, <code>.path</code> and <code>.key</code>.  The implementation SHOULD check that the old value in the store is equivalent to <code>oldCookie</code> - how the conflict is resolved is up to the store.</p>
<p>The <code>.lastAccessed</code> property will always be different between the two objects (to the precision possible via JavaScript’s clock).  Both <code>.creation</code> and <code>.creationIndex</code> are guaranteed to be the same.  Stores MAY ignore or defer the <code>.lastAccessed</code> change at the cost of affecting how cookies are selected for automatic deletion (e.g., least-recently-used, which is up to the store to implement).</p>
<p>Stores may wish to optimize changing the <code>.value</code> of the cookie in the store versus storing a new cookie.  If the implementation doesn’t define this method a stub that calls <code>putCookie(newCookie,cb)</code> will be added to the store object.</p>
<p>The <code>newCookie</code> and <code>oldCookie</code> objects MUST NOT be modified.</p>
<p>Pass an error if the newCookie cannot be stored.</p>

        <h3 id="store-removeCookie-domain-path-key-cb-err"   >
          <a href="#store-removeCookie-domain-path-key-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeCookie-domain-path-key-cb-err" class="headerlink" title="store.removeCookie(domain, path, key, cb(err))"></a><code>store.removeCookie(domain, path, key, cb(err))</code></h3>
      <p>Remove a cookie from the store (see notes on <code>findCookie</code> about the uniqueness constraint).</p>
<p>The implementation MUST NOT pass an error if the cookie doesn’t exist; only pass an error due to the failure to remove an existing cookie.</p>

        <h3 id="store-removeCookies-domain-path-cb-err"   >
          <a href="#store-removeCookies-domain-path-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeCookies-domain-path-cb-err" class="headerlink" title="store.removeCookies(domain, path, cb(err))"></a><code>store.removeCookies(domain, path, cb(err))</code></h3>
      <p>Removes matching cookies from the store.  The <code>path</code> parameter is optional, and if missing means all paths in a domain should be removed.</p>
<p>Pass an error ONLY if removing any existing cookies failed.</p>

        <h3 id="store-removeAllCookies-cb-err"   >
          <a href="#store-removeAllCookies-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeAllCookies-cb-err" class="headerlink" title="store.removeAllCookies(cb(err))"></a><code>store.removeAllCookies(cb(err))</code></h3>
      <p><em>Optional</em>. Removes all cookies from the store.</p>
<p>Pass an error if one or more cookies can’t be removed.</p>
<p><strong>Note</strong>: New method as of <code>tough-cookie</code> version 2.5, so not all Stores will implement this, plus some stores may choose not to implement this.</p>

        <h3 id="store-getAllCookies-cb-err-cookies"   >
          <a href="#store-getAllCookies-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-getAllCookies-cb-err-cookies" class="headerlink" title="store.getAllCookies(cb(err, cookies))"></a><code>store.getAllCookies(cb(err, cookies))</code></h3>
      <p><em>Optional</em>. Produces an <code>Array</code> of all cookies during <code>jar.serialize()</code>. The items in the array can be true <code>Cookie</code> objects or generic <code>Object</code>s with the [Serialization Format] data structure.</p>
<p>Cookies SHOULD be returned in creation order to preserve sorting via <code>compareCookies()</code>. For reference, <code>MemoryCookieStore</code> will sort by <code>.creationIndex</code> since it uses true <code>Cookie</code> objects internally. If you don’t return the cookies in creation order, they’ll still be sorted by creation time, but this only has a precision of 1ms.  See <code>compareCookies</code> for more detail.</p>
<p>Pass an error if retrieval fails.</p>
<p><strong>Note</strong>: not all Stores can implement this due to technical limitations, so it is optional.</p>

        <h2 id="MemoryCookieStore"   >
          <a href="#MemoryCookieStore" class="heading-link"><i class="fas fa-link"></i></a><a href="#MemoryCookieStore" class="headerlink" title="MemoryCookieStore"></a>MemoryCookieStore</h2>
      <p>Inherits from <code>Store</code>.</p>
<p>A just-in-memory CookieJar synchronous store implementation, used by default. Despite being a synchronous implementation, it’s usable with both the synchronous and asynchronous forms of the <code>CookieJar</code> API. Supports serialization, <code>getAllCookies</code>, and <code>removeAllCookies</code>.</p>

        <h2 id="Community-Cookie-Stores"   >
          <a href="#Community-Cookie-Stores" class="heading-link"><i class="fas fa-link"></i></a><a href="#Community-Cookie-Stores" class="headerlink" title="Community Cookie Stores"></a>Community Cookie Stores</h2>
      <p>These are some Store implementations authored and maintained by the community. They aren’t official and we don’t vouch for them but you may be interested to have a look:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/JSBizon/db-cookie-store"><code>db-cookie-store</code></a>: SQL including SQLite-based databases</li>
<li><a target="_blank" rel="noopener" href="https://github.com/JSBizon/file-cookie-store"><code>file-cookie-store</code></a>: Netscape cookie file format on disk</li>
<li><a target="_blank" rel="noopener" href="https://github.com/benkroeger/redis-cookie-store"><code>redis-cookie-store</code></a>: Redis</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mitsuru/tough-cookie-filestore"><code>tough-cookie-filestore</code></a>: JSON on disk</li>
<li><a target="_blank" rel="noopener" href="https://github.com/exponentjs/tough-cookie-web-storage-store"><code>tough-cookie-web-storage-store</code></a>: DOM localStorage and sessionStorage</li>
</ul>

        <h1 id="Serialization-Format"   >
          <a href="#Serialization-Format" class="heading-link"><i class="fas fa-link"></i></a><a href="#Serialization-Format" class="headerlink" title="Serialization Format"></a>Serialization Format</h1>
      <p><strong>NOTE</strong>: if you want to have custom <code>Cookie</code> properties serialized, add the property name to <code>Cookie.serializableProperties</code>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// The version of tough-cookie that serialized this jar.</span></span><br><span class="line">  <span class="attr">version</span>: <span class="string">&#x27;tough-cookie@1.x.y&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// add the store type, to make humans happy:</span></span><br><span class="line">  <span class="attr">storeType</span>: <span class="string">&#x27;MemoryCookieStore&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CookieJar configuration:</span></span><br><span class="line">  <span class="attr">rejectPublicSuffixes</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// ... future items go here</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Gets filled from jar.store.getAllCookies():</span></span><br><span class="line">  <span class="attr">cookies</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="comment">/* other Cookie.serializableProperties go here */</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h1 id="Copyright-and-License"   >
          <a href="#Copyright-and-License" class="heading-link"><i class="fas fa-link"></i></a><a href="#Copyright-and-License" class="headerlink" title="Copyright and License"></a>Copyright and License</h1>
      <p>BSD-3-Clause:</p>
<figure class="highlight text"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Copyright (c) 2015, Salesforce.com, Inc.</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Redistribution and use in source and binary forms, with or without</span><br><span class="line">modification, are permitted provided that the following conditions are met:</span><br><span class="line"></span><br><span class="line">1. Redistributions of source code must retain the above copyright notice,</span><br><span class="line">this list of conditions and the following disclaimer.</span><br><span class="line"></span><br><span class="line">2. Redistributions in binary form must reproduce the above copyright notice,</span><br><span class="line">this list of conditions and the following disclaimer in the documentation</span><br><span class="line">and/or other materials provided with the distribution.</span><br><span class="line"></span><br><span class="line">3. Neither the name of Salesforce.com nor the names of its contributors may</span><br><span class="line">be used to endorse or promote products derived from this software without</span><br><span class="line">specific prior written permission.</span><br><span class="line"></span><br><span class="line">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span><br><span class="line">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span><br><span class="line">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span><br><span class="line">ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE</span><br><span class="line">LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span><br><span class="line">CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span><br><span class="line">SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span><br><span class="line">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span><br><span class="line">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span><br><span class="line">ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span><br><span class="line">POSSIBILITY OF SUCH DAMAGE.</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/request-promise-core/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt"><a target="_blank" rel="noopener" href="http://promisesaplus.com/">
    <img src="https://promises-aplus.github.io/promises-spec/assets/logo-small.png" align="right" alt="Promises/A+ logo" />
</a>


        <h1 id="request-promise-core"   >
          <a href="#request-promise-core" class="heading-link"><i class="fas fa-link"></i></a><a href="#request-promise-core" class="headerlink" title="request-promise-core"></a>request-promise-core</h1>
      <p><a target="_blank" rel="noopener" href="https://gitter.im/request/request-promise?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge"><img   src="https://img.shields.io/badge/gitter-join_chat-blue.svg?style=flat-square&maxAge=2592000" style=""  alt="Gitter"></a><br><a target="_blank" rel="noopener" href="https://travis-ci.org/request/promise-core"><img   src="https://img.shields.io/travis/request/promise-core/master.svg?style=flat-square&maxAge=2592000" style=""  alt="Build Status"></a><br><a target="_blank" rel="noopener" href="https://coveralls.io/r/request/promise-core"><img   src="https://img.shields.io/coveralls/request/promise-core.svg?style=flat-square&maxAge=2592000" style=""  alt="Coverage Status"></a><br><a target="_blank" rel="noopener" href="https://david-dm.org/request/promise-core"><img   src="https://img.shields.io/david/request/promise-core.svg?style=flat-square&maxAge=2592000" style=""  alt="Dependency Status"></a><br><a target="_blank" rel="noopener" href="https://snyk.io/test/npm/promise-core"><img   src="https://snyk.io/test/npm/promise-core/badge.svg?style=flat-square&maxAge=2592000" style=""  alt="Known Vulnerabilities"></a></p>
<p>This package is the core for the following packages:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/request/request-promise"><code>request-promise</code></a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/request/request-promise-any"><code>request-promise-any</code></a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/request/request-promise-bluebird"><code>request-promise-bluebird</code></a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/request/request-promise-native"><code>request-promise-native</code></a></li>
</ul>
<p><code>request-promise-core</code> contains the core logic to add Promise support to <a target="_blank" rel="noopener" href="https://github.com/request/request"><code>request</code></a>.</p>
<p>Please use one of the libraries above. It is only recommended to use this library directly, if you have very specific requirements.</p>

        <h2 id="Installation-for-request-2-34"   >
          <a href="#Installation-for-request-2-34" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation-for-request-2-34" class="headerlink" title="Installation for request@^2.34"></a>Installation for <code>request@^2.34</code></h2>
      <p>This module is installed via npm:</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save request</span><br><span class="line">npm install --save request-promise-core</span><br></pre></td></tr></table></div></figure>

<p><code>request</code> is defined as a peer-dependency and thus has to be installed separately.</p>

        <h2 id="Usage-for-request-2-34"   >
          <a href="#Usage-for-request-2-34" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage-for-request-2-34" class="headerlink" title="Usage for request@^2.34"></a>Usage for <code>request@^2.34</code></h2>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. Load the request library</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Only use a direct require if you are 100% sure that:</span></span><br><span class="line"><span class="comment">// - Your project does not use request directly. That is without the Promise capabilities by calling require(&#x27;request&#x27;).</span></span><br><span class="line"><span class="comment">// - Any of the installed libraries use request.</span></span><br><span class="line"><span class="comment">// ...because Request&#x27;s prototype will be patched in step 2.</span></span><br><span class="line"><span class="comment">/* var request = require(&#x27;request&#x27;); */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Instead use:</span></span><br><span class="line"><span class="keyword">var</span> stealthyRequire = <span class="built_in">require</span>(<span class="string">&#x27;stealthy-require&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> request = <span class="title function_">stealthyRequire</span>(<span class="built_in">require</span>.<span class="property">cache</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">require</span>(<span class="string">&#x27;request&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Add Promise support to request</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> configure = <span class="built_in">require</span>(<span class="string">&#x27;request-promise-core/configure/request2&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">configure</span>(&#123;</span><br><span class="line">    <span class="attr">request</span>: request,</span><br><span class="line">	<span class="comment">// Pass your favorite ES6-compatible promise implementation</span></span><br><span class="line">    <span class="title class_">PromiseImpl</span>: <span class="title class_">Promise</span>,</span><br><span class="line">	<span class="comment">// Expose all methods of the promise instance you want to call on the request(...) call</span></span><br><span class="line">    <span class="attr">expose</span>: [</span><br><span class="line">        <span class="string">&#x27;then&#x27;</span>,   <span class="comment">// Allows to use request(...).then(...)</span></span><br><span class="line">        <span class="string">&#x27;catch&#x27;</span>,  <span class="comment">// Allows to use request(...).catch(...)</span></span><br><span class="line">        <span class="string">&#x27;promise&#x27;</span> <span class="comment">// Allows to use request(...).promise() which returns the promise instance</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// Optional: Pass a callback that is called within the Promise constructor</span></span><br><span class="line">    <span class="attr">constructorMixin</span>: <span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">        <span class="comment">// `this` is the request object</span></span><br><span class="line">        <span class="comment">// Additional arguments may be passed depending on the PromiseImpl used</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. Use request with its promise capabilities</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// E.g. crawl a web page:</span></span><br><span class="line"><span class="title function_">request</span>(<span class="string">&#x27;http://www.google.com&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">htmlString</span>) &#123;</span><br><span class="line">        <span class="comment">// Process html...</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="comment">// Crawling failed...</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></div></figure>


        <h2 id="Installation-and-Usage-for-request-next"   >
          <a href="#Installation-and-Usage-for-request-next" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation-and-Usage-for-request-next" class="headerlink" title="Installation and Usage for request@next"></a>Installation and Usage for <code>request@next</code></h2>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/issues/1982" >Request Next</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> is still in alpha. However, <code>request-promise-core</code> is already designed to be compatible and ships with a configuration helper – <code>require(&#39;request-promise-core/configure/request-next&#39;)</code> – that is <a target="_blank" rel="noopener" href="https://github.com/request/request-promise/blob/next/lib/rp.js">used by <code>request-promise</code></a> in its “next” branch.</p>

        <h2 id="Contributing"   >
          <a href="#Contributing" class="heading-link"><i class="fas fa-link"></i></a><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h2>
      <p>To set up your development environment:</p>
<ol>
<li>clone the repo to your desktop,</li>
<li>in the shell <code>cd</code> to the main folder,</li>
<li>hit <code>npm install</code>,</li>
<li>hit <code>npm install gulp -g</code> if you haven’t installed gulp globally yet, and</li>
<li>run <code>gulp dev</code>. (Or run <code>node ./node_modules/.bin/gulp dev</code> if you don’t want to install gulp globally.)</li>
</ol>
<p><code>gulp dev</code> watches all source files and if you save some changes it will lint the code and execute all tests. The test coverage report can be viewed from <code>./coverage/lcov-report/index.html</code>.</p>
<p>If you want to debug a test you should use <code>gulp test-without-coverage</code> to run all tests without obscuring the code by the test coverage instrumentation.</p>

        <h2 id="Change-History"   >
          <a href="#Change-History" class="heading-link"><i class="fas fa-link"></i></a><a href="#Change-History" class="headerlink" title="Change History"></a>Change History</h2>
      <ul>
<li>1.1.4 (2020-07-21)<ul>
<li>Security fix: bumped <code>lodash</code> to <code>^4.17.19</code> following <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/advisories/1523" >this advisory</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</li>
</ul>
</li>
<li>1.1.3 (2019-11-03)<ul>
<li>Security fix: bumped <code>lodash</code> to <code>^4.17.15</code>. See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://snyk.io/vuln/search?q=lodash&type=npm" >vulnerabilty reports</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.<br><em>(Thanks to @daniel-nagy for pull request <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/promise-core/pull/20" >#20</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and thanks to @quetzaluz for reporting this in issue <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/promise-core/issues/21" >#21</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.)</em></li>
</ul>
</li>
<li>1.1.2 (2019-02-14)<ul>
<li>Security fix: bumped <code>lodash</code> to <code>^4.17.11</code>. See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://snyk.io/vuln/search?q=lodash&type=npm" >vulnerabilty reports</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.<br><em>(Thanks to @lucaswillering and @sam-warren-finnair for reporting this in issues <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/promise-core/issues/12" >#12</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/promise-core/issues/13" >#13</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and thanks to @Alec321 for pull request <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/promise-core/pull/14" >#14</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.)</em></li>
</ul>
</li>
<li>1.1.1 (2016-08-08)<ul>
<li>Renamed package to <code>request-promise-core</code> because there were <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request-promise/issues/137" >too</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request-promise/issues/141" >many</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> issues with the scoped package name <code>@request/promise-core</code></li>
</ul>
</li>
<li>1.1.0 (2016-07-30)<ul>
<li>Added <code>constructorMixin</code> option to enable <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request-promise/pull/123" >request&#x2F;request-promise#123</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ul>
</li>
<li>1.0.0 (2016-07-15)<ul>
<li>All tests green, ready for prime time</li>
</ul>
</li>
<li>1.0.0-rc.1 (2016-07-10)<ul>
<li>Reimplementation of core logic based on <code>request-promise@3.0.0</code></li>
<li>Plus <code>transform2xxOnly</code> option (fixes <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request-promise/issues/131" >request&#x2F;request-promise#131</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>)</li>
</ul>
</li>
</ul>

        <h2 id="License-ISC"   >
          <a href="#License-ISC" class="heading-link"><i class="fas fa-link"></i></a><a href="#License-ISC" class="headerlink" title="License (ISC)"></a>License (ISC)</h2>
      <p>In case you never heard about the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/ISC_license" >ISC license</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> it is functionally equivalent to the MIT license.</p>
<p>See the <a href="LICENSE">LICENSE file</a> for details.</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/request/node_modules/tough-cookie/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc6265" >RFC6265</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Cookies and CookieJar for Node.js</p>
<p><a target="_blank" rel="noopener" href="https://nodei.co/npm/tough-cookie/"><img   src="https://nodei.co/npm/tough-cookie.png?downloads=true&downloadRank=true&stars=true" style=""  alt="npm package"></a></p>
<p><a target="_blank" rel="noopener" href="https://travis-ci.org/salesforce/tough-cookie"><img   src="https://travis-ci.org/salesforce/tough-cookie.png?branch=master" style=""  alt="Build Status"></a></p>

        <h1 id="Synopsis"   >
          <a href="#Synopsis" class="heading-link"><i class="fas fa-link"></i></a><a href="#Synopsis" class="headerlink" title="Synopsis"></a>Synopsis</h1>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tough = <span class="built_in">require</span>(<span class="string">&#x27;tough-cookie&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Cookie</span> = tough.<span class="property">Cookie</span>;</span><br><span class="line"><span class="keyword">var</span> cookie = <span class="title class_">Cookie</span>.<span class="title function_">parse</span>(header);</span><br><span class="line">cookie.<span class="property">value</span> = <span class="string">&#x27;somethingdifferent&#x27;</span>;</span><br><span class="line">header = cookie.<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cookiejar = <span class="keyword">new</span> tough.<span class="title class_">CookieJar</span>();</span><br><span class="line">cookiejar.<span class="title function_">setCookie</span>(cookie, <span class="string">&#x27;http://currentdomain.example.com/path&#x27;</span>, cb);</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">cookiejar.<span class="title function_">getCookies</span>(<span class="string">&#x27;http://example.com/otherpath&#x27;</span>,<span class="keyword">function</span>(<span class="params">err,cookies</span>) &#123;</span><br><span class="line">  res.<span class="property">headers</span>[<span class="string">&#x27;cookie&#x27;</span>] = cookies.<span class="title function_">join</span>(<span class="string">&#x27;; &#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>


        <h1 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1>
      <p>It’s <em>so</em> easy!</p>
<p><code>npm install tough-cookie</code></p>
<p>Why the name?  NPM modules <code>cookie</code>, <code>cookies</code> and <code>cookiejar</code> were already taken.</p>

        <h2 id="Version-Support"   >
          <a href="#Version-Support" class="heading-link"><i class="fas fa-link"></i></a><a href="#Version-Support" class="headerlink" title="Version Support"></a>Version Support</h2>
      <p>Support for versions of node.js will follow that of the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/request" >request</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> module.</p>

        <h1 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h1>
      
        <h2 id="tough"   >
          <a href="#tough" class="heading-link"><i class="fas fa-link"></i></a><a href="#tough" class="headerlink" title="tough"></a>tough</h2>
      <p>Functions on the module you get from <code>require(&#39;tough-cookie&#39;)</code>.  All can be used as pure functions and don’t need to be “bound”.</p>
<p><strong>Note</strong>: prior to 1.0.x, several of these functions took a <code>strict</code> parameter. This has since been removed from the API as it was no longer necessary.</p>

        <h3 id="parseDate-string"   >
          <a href="#parseDate-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#parseDate-string" class="headerlink" title="parseDate(string)"></a><code>parseDate(string)</code></h3>
      <p>Parse a cookie date string into a <code>Date</code>.  Parses according to RFC6265 Section 5.1.1, not <code>Date.parse()</code>.</p>

        <h3 id="formatDate-date"   >
          <a href="#formatDate-date" class="heading-link"><i class="fas fa-link"></i></a><a href="#formatDate-date" class="headerlink" title="formatDate(date)"></a><code>formatDate(date)</code></h3>
      <p>Format a Date into a RFC1123 string (the RFC6265-recommended format).</p>

        <h3 id="canonicalDomain-str"   >
          <a href="#canonicalDomain-str" class="heading-link"><i class="fas fa-link"></i></a><a href="#canonicalDomain-str" class="headerlink" title="canonicalDomain(str)"></a><code>canonicalDomain(str)</code></h3>
      <p>Transforms a domain-name into a canonical domain-name.  The canonical domain-name is a trimmed, lowercased, stripped-of-leading-dot and optionally punycode-encoded domain-name (Section 5.1.2 of RFC6265).  For the most part, this function is idempotent (can be run again on its output without ill effects).</p>

        <h3 id="domainMatch-str-domStr-canonicalize-true"   >
          <a href="#domainMatch-str-domStr-canonicalize-true" class="heading-link"><i class="fas fa-link"></i></a><a href="#domainMatch-str-domStr-canonicalize-true" class="headerlink" title="domainMatch(str,domStr[,canonicalize=true])"></a><code>domainMatch(str,domStr[,canonicalize=true])</code></h3>
      <p>Answers “does this real domain match the domain in a cookie?”.  The <code>str</code> is the “current” domain-name and the <code>domStr</code> is the “cookie” domain-name.  Matches according to RFC6265 Section 5.1.3, but it helps to think of it as a “suffix match”.</p>
<p>The <code>canonicalize</code> parameter will run the other two parameters through <code>canonicalDomain</code> or not.</p>

        <h3 id="defaultPath-path"   >
          <a href="#defaultPath-path" class="heading-link"><i class="fas fa-link"></i></a><a href="#defaultPath-path" class="headerlink" title="defaultPath(path)"></a><code>defaultPath(path)</code></h3>
      <p>Given a current request&#x2F;response path, gives the Path apropriate for storing in a cookie.  This is basically the “directory” of a “file” in the path, but is specified by Section 5.1.4 of the RFC.</p>
<p>The <code>path</code> parameter MUST be <em>only</em> the pathname part of a URI (i.e. excludes the hostname, query, fragment, etc.).  This is the <code>.pathname</code> property of node’s <code>uri.parse()</code> output.</p>

        <h3 id="pathMatch-reqPath-cookiePath"   >
          <a href="#pathMatch-reqPath-cookiePath" class="heading-link"><i class="fas fa-link"></i></a><a href="#pathMatch-reqPath-cookiePath" class="headerlink" title="pathMatch(reqPath,cookiePath)"></a><code>pathMatch(reqPath,cookiePath)</code></h3>
      <p>Answers “does the request-path path-match a given cookie-path?” as per RFC6265 Section 5.1.4.  Returns a boolean.</p>
<p>This is essentially a prefix-match where <code>cookiePath</code> is a prefix of <code>reqPath</code>.</p>

        <h3 id="parse-cookieString-options"   >
          <a href="#parse-cookieString-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#parse-cookieString-options" class="headerlink" title="parse(cookieString[, options])"></a><code>parse(cookieString[, options])</code></h3>
      <p>alias for <code>Cookie.parse(cookieString[, options])</code></p>

        <h3 id="fromJSON-string"   >
          <a href="#fromJSON-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#fromJSON-string" class="headerlink" title="fromJSON(string)"></a><code>fromJSON(string)</code></h3>
      <p>alias for <code>Cookie.fromJSON(string)</code></p>

        <h3 id="getPublicSuffix-hostname"   >
          <a href="#getPublicSuffix-hostname" class="heading-link"><i class="fas fa-link"></i></a><a href="#getPublicSuffix-hostname" class="headerlink" title="getPublicSuffix(hostname)"></a><code>getPublicSuffix(hostname)</code></h3>
      <p>Returns the public suffix of this hostname.  The public suffix is the shortest domain-name upon which a cookie can be set.  Returns <code>null</code> if the hostname cannot have cookies set for it.</p>
<p>For example: <code>www.example.com</code> and <code>www.subdomain.example.com</code> both have public suffix <code>example.com</code>.</p>
<p>For further information, see <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://publicsuffix.org/" >http://publicsuffix.org/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.  This module derives its list from that site. This call is currently a wrapper around <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/psl"><code>psl</code></a>‘s <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/package/psl#pslgetdomain" >get() method</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h3 id="cookieCompare-a-b"   >
          <a href="#cookieCompare-a-b" class="heading-link"><i class="fas fa-link"></i></a><a href="#cookieCompare-a-b" class="headerlink" title="cookieCompare(a,b)"></a><code>cookieCompare(a,b)</code></h3>
      <p>For use with <code>.sort()</code>, sorts a list of cookies into the recommended order given in the RFC (Section 5.4 step 2). The sort algorithm is, in order of precedence:</p>
<ul>
<li>Longest <code>.path</code></li>
<li>oldest <code>.creation</code> (which has a 1ms precision, same as <code>Date</code>)</li>
<li>lowest <code>.creationIndex</code> (to get beyond the 1ms precision)</li>
</ul>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cookies = [ <span class="comment">/* unsorted array of Cookie objects */</span> ];</span><br><span class="line">cookies = cookies.<span class="title function_">sort</span>(cookieCompare);</span><br></pre></td></tr></table></div></figure>

<p><strong>Note</strong>: Since JavaScript’s <code>Date</code> is limited to a 1ms precision, cookies within the same milisecond are entirely possible. This is especially true when using the <code>now</code> option to <code>.setCookie()</code>. The <code>.creationIndex</code> property is a per-process global counter, assigned during construction with <code>new Cookie()</code>. This preserves the spirit of the RFC sorting: older cookies go first. This works great for <code>MemoryCookieStore</code>, since <code>Set-Cookie</code> headers are parsed in order, but may not be so great for distributed systems. Sophisticated <code>Store</code>s may wish to set this to some other <em>logical clock</em> such that if cookies A and B are created in the same millisecond, but cookie A is created before cookie B, then <code>A.creationIndex &lt; B.creationIndex</code>. If you want to alter the global counter, which you probably <em>shouldn’t</em> do, it’s stored in <code>Cookie.cookiesCreated</code>.</p>

        <h3 id="permuteDomain-domain"   >
          <a href="#permuteDomain-domain" class="heading-link"><i class="fas fa-link"></i></a><a href="#permuteDomain-domain" class="headerlink" title="permuteDomain(domain)"></a><code>permuteDomain(domain)</code></h3>
      <p>Generates a list of all possible domains that <code>domainMatch()</code> the parameter.  May be handy for implementing cookie stores.</p>

        <h3 id="permutePath-path"   >
          <a href="#permutePath-path" class="heading-link"><i class="fas fa-link"></i></a><a href="#permutePath-path" class="headerlink" title="permutePath(path)"></a><code>permutePath(path)</code></h3>
      <p>Generates a list of all possible paths that <code>pathMatch()</code> the parameter.  May be handy for implementing cookie stores.</p>

        <h2 id="Cookie"   >
          <a href="#Cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2>
      <p>Exported via <code>tough.Cookie</code>.</p>

        <h3 id="Cookie-parse-cookieString-options"   >
          <a href="#Cookie-parse-cookieString-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-parse-cookieString-options" class="headerlink" title="Cookie.parse(cookieString[, options])"></a><code>Cookie.parse(cookieString[, options])</code></h3>
      <p>Parses a single Cookie or Set-Cookie HTTP header into a <code>Cookie</code> object.  Returns <code>undefined</code> if the string can’t be parsed.</p>
<p>The options parameter is not required and currently has only one property:</p>
<ul>
<li><em>loose</em> - boolean - if <code>true</code> enable parsing of key-less cookies like <code>=abc</code> and <code>=</code>, which are not RFC-compliant.</li>
</ul>
<p>If options is not an object, it is ignored, which means you can use <code>Array#map</code> with it.</p>
<p>Here’s how to process the Set-Cookie header(s) on a node HTTP&#x2F;HTTPS response:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>] <span class="keyword">instanceof</span> <span class="title class_">Array</span>)</span><br><span class="line">  cookies = res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>].<span class="title function_">map</span>(<span class="title class_">Cookie</span>.<span class="property">parse</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  cookies = [<span class="title class_">Cookie</span>.<span class="title function_">parse</span>(res.<span class="property">headers</span>[<span class="string">&#x27;set-cookie&#x27;</span>])];</span><br></pre></td></tr></table></div></figure>

<p><em>Note:</em> in version 2.3.3, tough-cookie limited the number of spaces before the <code>=</code> to 256 characters. This limitation has since been removed.<br>See <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/salesforce/tough-cookie/issues/92" >Issue 92</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="Properties"   >
          <a href="#Properties" class="heading-link"><i class="fas fa-link"></i></a><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3>
      <p>Cookie object properties:</p>
<ul>
<li><em>key</em> - string - the name or key of the cookie (default “”)</li>
<li><em>value</em> - string - the value of the cookie (default “”)</li>
<li><em>expires</em> - <code>Date</code> - if set, the <code>Expires=</code> attribute of the cookie (defaults to the string <code>&quot;Infinity&quot;</code>). See <code>setExpires()</code></li>
<li><em>maxAge</em> - seconds - if set, the <code>Max-Age=</code> attribute <em>in seconds</em> of the cookie.  May also be set to strings <code>&quot;Infinity&quot;</code> and <code>&quot;-Infinity&quot;</code> for non-expiry and immediate-expiry, respectively.  See <code>setMaxAge()</code></li>
<li><em>domain</em> - string - the <code>Domain=</code> attribute of the cookie</li>
<li><em>path</em> - string - the <code>Path=</code> of the cookie</li>
<li><em>secure</em> - boolean - the <code>Secure</code> cookie flag</li>
<li><em>httpOnly</em> - boolean - the <code>HttpOnly</code> cookie flag</li>
<li><em>extensions</em> - <code>Array</code> - any unrecognized cookie attributes as strings (even if equal-signs inside)</li>
<li><em>creation</em> - <code>Date</code> - when this cookie was constructed</li>
<li><em>creationIndex</em> - number - set at construction, used to provide greater sort precision (please see <code>cookieCompare(a,b)</code> for a full explanation)</li>
</ul>
<p>After a cookie has been passed through <code>CookieJar.setCookie()</code> it will have the following additional attributes:</p>
<ul>
<li><em>hostOnly</em> - boolean - is this a host-only cookie (i.e. no Domain field was set, but was instead implied)</li>
<li><em>pathIsDefault</em> - boolean - if true, there was no Path field on the cookie and <code>defaultPath()</code> was used to derive one.</li>
<li><em>creation</em> - <code>Date</code> - <strong>modified</strong> from construction to when the cookie was added to the jar</li>
<li><em>lastAccessed</em> - <code>Date</code> - last time the cookie got accessed. Will affect cookie cleaning once implemented.  Using <code>cookiejar.getCookies(...)</code> will update this attribute.</li>
</ul>

        <h3 id="Cookie-properties"   >
          <a href="#Cookie-properties" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-properties" class="headerlink" title="Cookie([{properties}])"></a><code>Cookie([&#123;properties&#125;])</code></h3>
      <p>Receives an options object that can contain any of the above Cookie properties, uses the default for unspecified properties.</p>

        <h3 id="toString-NaN"   >
          <a href="#toString-NaN" class="heading-link"><i class="fas fa-link"></i></a><a href="#toString-NaN" class="headerlink" title=".toString()"></a><code>.toString()</code></h3>
      <p>encode to a Set-Cookie header value.  The Expires cookie field is set using <code>formatDate()</code>, but is omitted entirely if <code>.expires</code> is <code>Infinity</code>.</p>

        <h3 id="cookieString"   >
          <a href="#cookieString" class="heading-link"><i class="fas fa-link"></i></a><a href="#cookieString" class="headerlink" title=".cookieString()"></a><code>.cookieString()</code></h3>
      <p>encode to a Cookie header value (i.e. the <code>.key</code> and <code>.value</code> properties joined with ‘&#x3D;’).</p>

        <h3 id="setExpires-String"   >
          <a href="#setExpires-String" class="heading-link"><i class="fas fa-link"></i></a><a href="#setExpires-String" class="headerlink" title=".setExpires(String)"></a><code>.setExpires(String)</code></h3>
      <p>sets the expiry based on a date-string passed through <code>parseDate()</code>.  If parseDate returns <code>null</code> (i.e. can’t parse this date string), <code>.expires</code> is set to <code>&quot;Infinity&quot;</code> (a string) is set.</p>

        <h3 id="setMaxAge-number"   >
          <a href="#setMaxAge-number" class="heading-link"><i class="fas fa-link"></i></a><a href="#setMaxAge-number" class="headerlink" title=".setMaxAge(number)"></a><code>.setMaxAge(number)</code></h3>
      <p>sets the maxAge in seconds.  Coerces <code>-Infinity</code> to <code>&quot;-Infinity&quot;</code> and <code>Infinity</code> to <code>&quot;Infinity&quot;</code> so it JSON serializes correctly.</p>

        <h3 id="expiryTime-now-Date-now"   >
          <a href="#expiryTime-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#expiryTime-now-Date-now" class="headerlink" title=".expiryTime([now=Date.now()])"></a><code>.expiryTime([now=Date.now()])</code></h3>
      
        <h3 id="expiryDate-now-Date-now"   >
          <a href="#expiryDate-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#expiryDate-now-Date-now" class="headerlink" title=".expiryDate([now=Date.now()])"></a><code>.expiryDate([now=Date.now()])</code></h3>
      <p>expiryTime() Computes the absolute unix-epoch milliseconds that this cookie expires. expiryDate() works similarly, except it returns a <code>Date</code> object.  Note that in both cases the <code>now</code> parameter should be milliseconds.</p>
<p>Max-Age takes precedence over Expires (as per the RFC). The <code>.creation</code> attribute – or, by default, the <code>now</code> parameter – is used to offset the <code>.maxAge</code> attribute.</p>
<p>If Expires (<code>.expires</code>) is set, that’s returned.</p>
<p>Otherwise, <code>expiryTime()</code> returns <code>Infinity</code> and <code>expiryDate()</code> returns a <code>Date</code> object for “Tue, 19 Jan 2038 03:14:07 GMT” (latest date that can be expressed by a 32-bit <code>time_t</code>; the common limit for most user-agents).</p>

        <h3 id="TTL-now-Date-now"   >
          <a href="#TTL-now-Date-now" class="heading-link"><i class="fas fa-link"></i></a><a href="#TTL-now-Date-now" class="headerlink" title=".TTL([now=Date.now()])"></a><code>.TTL([now=Date.now()])</code></h3>
      <p>compute the TTL relative to <code>now</code> (milliseconds).  The same precedence rules as for <code>expiryTime</code>&#x2F;<code>expiryDate</code> apply.</p>
<p>The “number” <code>Infinity</code> is returned for cookies without an explicit expiry and <code>0</code> is returned if the cookie is expired.  Otherwise a time-to-live in milliseconds is returned.</p>

        <h3 id="canonicalizedDomain"   >
          <a href="#canonicalizedDomain" class="heading-link"><i class="fas fa-link"></i></a><a href="#canonicalizedDomain" class="headerlink" title=".canonicalizedDomain()"></a><code>.canonicalizedDomain()</code></h3>
      
        <h3 id="cdomain"   >
          <a href="#cdomain" class="heading-link"><i class="fas fa-link"></i></a><a href="#cdomain" class="headerlink" title=".cdomain()"></a><code>.cdomain()</code></h3>
      <p>return the canonicalized <code>.domain</code> field.  This is lower-cased and punycode (RFC3490) encoded if the domain has any non-ASCII characters.</p>

        <h3 id="toJSON"   >
          <a href="#toJSON" class="heading-link"><i class="fas fa-link"></i></a><a href="#toJSON" class="headerlink" title=".toJSON()"></a><code>.toJSON()</code></h3>
      <p>For convenience in using <code>JSON.serialize(cookie)</code>. Returns a plain-old <code>Object</code> that can be JSON-serialized.</p>
<p>Any <code>Date</code> properties (i.e., <code>.expires</code>, <code>.creation</code>, and <code>.lastAccessed</code>) are exported in ISO format (<code>.toISOString()</code>).</p>
<p><strong>NOTE</strong>: Custom <code>Cookie</code> properties will be discarded. In tough-cookie 1.x, since there was no <code>.toJSON</code> method explicitly defined, all enumerable properties were captured. If you want a property to be serialized, add the property name to the <code>Cookie.serializableProperties</code> Array.</p>

        <h3 id="Cookie-fromJSON-strOrObj"   >
          <a href="#Cookie-fromJSON-strOrObj" class="heading-link"><i class="fas fa-link"></i></a><a href="#Cookie-fromJSON-strOrObj" class="headerlink" title="Cookie.fromJSON(strOrObj)"></a><code>Cookie.fromJSON(strOrObj)</code></h3>
      <p>Does the reverse of <code>cookie.toJSON()</code>. If passed a string, will <code>JSON.parse()</code> that first.</p>
<p>Any <code>Date</code> properties (i.e., <code>.expires</code>, <code>.creation</code>, and <code>.lastAccessed</code>) are parsed via <code>Date.parse()</code>, not the tough-cookie <code>parseDate</code>, since it’s JavaScript&#x2F;JSON-y timestamps being handled at this layer.</p>
<p>Returns <code>null</code> upon JSON parsing error.</p>

        <h3 id="clone"   >
          <a href="#clone" class="heading-link"><i class="fas fa-link"></i></a><a href="#clone" class="headerlink" title=".clone()"></a><code>.clone()</code></h3>
      <p>Does a deep clone of this cookie, exactly implemented as <code>Cookie.fromJSON(cookie.toJSON())</code>.</p>

        <h3 id="validate"   >
          <a href="#validate" class="heading-link"><i class="fas fa-link"></i></a><a href="#validate" class="headerlink" title=".validate()"></a><code>.validate()</code></h3>
      <p>Status: <em>IN PROGRESS</em>. Works for a few things, but is by no means comprehensive.</p>
<p>validates cookie attributes for semantic correctness.  Useful for “lint” checking any Set-Cookie headers you generate.  For now, it returns a boolean, but eventually could return a reason string – you can future-proof with this construct:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (cookie.<span class="title function_">validate</span>() === <span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">// it&#x27;s tasty</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// yuck!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



        <h2 id="CookieJar"   >
          <a href="#CookieJar" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar" class="headerlink" title="CookieJar"></a>CookieJar</h2>
      <p>Exported via <code>tough.CookieJar</code>.</p>

        <h3 id="CookieJar-store-options"   >
          <a href="#CookieJar-store-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-store-options" class="headerlink" title="CookieJar([store],[options])"></a><code>CookieJar([store],[options])</code></h3>
      <p>Simply use <code>new CookieJar()</code>.  If you’d like to use a custom store, pass that to the constructor otherwise a <code>MemoryCookieStore</code> will be created and used.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>rejectPublicSuffixes</em> - boolean - default <code>true</code> - reject cookies with domains like “com” and “co.uk”</li>
<li><em>looseMode</em> - boolean - default <code>false</code> - accept malformed cookies like <code>bar</code> and <code>=bar</code>, which have an implied empty name.<br>This is not in the standard, but is used sometimes on the web and is accepted by (most) browsers.</li>
</ul>
<p>Since eventually this module would like to support database&#x2F;remote&#x2F;etc. CookieJars, continuation passing style is used for CookieJar methods.</p>

        <h3 id="setCookie-cookieOrString-currentUrl-options-cb-err-cookie"   >
          <a href="#setCookie-cookieOrString-currentUrl-options-cb-err-cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#setCookie-cookieOrString-currentUrl-options-cb-err-cookie" class="headerlink" title=".setCookie(cookieOrString, currentUrl, [{options},] cb(err,cookie))"></a><code>.setCookie(cookieOrString, currentUrl, [&#123;options&#125;,] cb(err,cookie))</code></h3>
      <p>Attempt to set the cookie in the cookie jar.  If the operation fails, an error will be given to the callback <code>cb</code>, otherwise the cookie is passed through.  The cookie will have updated <code>.creation</code>, <code>.lastAccessed</code> and <code>.hostOnly</code> properties.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>http</em> - boolean - default <code>true</code> - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.</li>
<li><em>secure</em> - boolean - autodetect from url - indicates if this is a “Secure” API.  If the currentUrl starts with <code>https:</code> or <code>wss:</code> then this is defaulted to <code>true</code>, otherwise <code>false</code>.</li>
<li><em>now</em> - Date - default <code>new Date()</code> - what to use for the creation&#x2F;access time of cookies</li>
<li><em>ignoreError</em> - boolean - default <code>false</code> - silently ignore things like parse errors and invalid domains.  <code>Store</code> errors aren’t ignored by this option.</li>
</ul>
<p>As per the RFC, the <code>.hostOnly</code> property is set if there was no “Domain&#x3D;” parameter in the cookie string (or <code>.domain</code> was null on the Cookie object).  The <code>.domain</code> property is set to the fully-qualified hostname of <code>currentUrl</code> in this case.  Matching this cookie requires an exact hostname match (not a <code>domainMatch</code> as per usual).</p>

        <h3 id="setCookieSync-cookieOrString-currentUrl-options"   >
          <a href="#setCookieSync-cookieOrString-currentUrl-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#setCookieSync-cookieOrString-currentUrl-options" class="headerlink" title=".setCookieSync(cookieOrString, currentUrl, [{options}])"></a><code>.setCookieSync(cookieOrString, currentUrl, [&#123;options&#125;])</code></h3>
      <p>Synchronous version of <code>setCookie</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getCookies-currentUrl-options-cb-err-cookies"   >
          <a href="#getCookies-currentUrl-options-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookies-currentUrl-options-cb-err-cookies" class="headerlink" title=".getCookies(currentUrl, [{options},] cb(err,cookies))"></a><code>.getCookies(currentUrl, [&#123;options&#125;,] cb(err,cookies))</code></h3>
      <p>Retrieve the list of cookies that can be sent in a Cookie header for the current url.</p>
<p>If an error is encountered, that’s passed as <code>err</code> to the callback, otherwise an <code>Array</code> of <code>Cookie</code> objects is passed.  The array is sorted with <code>cookieCompare()</code> unless the <code>&#123;sort:false&#125;</code> option is given.</p>
<p>The <code>options</code> object can be omitted and can have the following properties:</p>
<ul>
<li><em>http</em> - boolean - default <code>true</code> - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.</li>
<li><em>secure</em> - boolean - autodetect from url - indicates if this is a “Secure” API.  If the currentUrl starts with <code>https:</code> or <code>wss:</code> then this is defaulted to <code>true</code>, otherwise <code>false</code>.</li>
<li><em>now</em> - Date - default <code>new Date()</code> - what to use for the creation&#x2F;access time of cookies</li>
<li><em>expire</em> - boolean - default <code>true</code> - perform expiry-time checking of cookies and asynchronously remove expired cookies from the store.  Using <code>false</code> will return expired cookies and <strong>not</strong> remove them from the store (which is useful for replaying Set-Cookie headers, potentially).</li>
<li><em>allPaths</em> - boolean - default <code>false</code> - if <code>true</code>, do not scope cookies by path. The default uses RFC-compliant path scoping. <strong>Note</strong>: may not be supported by the underlying store (the default <code>MemoryCookieStore</code> supports it).</li>
</ul>
<p>The <code>.lastAccessed</code> property of the returned cookies will have been updated.</p>

        <h3 id="getCookiesSync-currentUrl-options"   >
          <a href="#getCookiesSync-currentUrl-options" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookiesSync-currentUrl-options" class="headerlink" title=".getCookiesSync(currentUrl, [{options}])"></a><code>.getCookiesSync(currentUrl, [&#123;options&#125;])</code></h3>
      <p>Synchronous version of <code>getCookies</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getCookieString"   >
          <a href="#getCookieString" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookieString" class="headerlink" title=".getCookieString(...)"></a><code>.getCookieString(...)</code></h3>
      <p>Accepts the same options as <code>.getCookies()</code> but passes a string suitable for a Cookie header rather than an array to the callback.  Simply maps the <code>Cookie</code> array via <code>.cookieString()</code>.</p>

        <h3 id="getCookieStringSync"   >
          <a href="#getCookieStringSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#getCookieStringSync" class="headerlink" title=".getCookieStringSync(...)"></a><code>.getCookieStringSync(...)</code></h3>
      <p>Synchronous version of <code>getCookieString</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="getSetCookieStrings"   >
          <a href="#getSetCookieStrings" class="heading-link"><i class="fas fa-link"></i></a><a href="#getSetCookieStrings" class="headerlink" title=".getSetCookieStrings(...)"></a><code>.getSetCookieStrings(...)</code></h3>
      <p>Returns an array of strings suitable for <strong>Set-Cookie</strong> headers. Accepts the same options as <code>.getCookies()</code>.  Simply maps the cookie array via <code>.toString()</code>.</p>

        <h3 id="getSetCookieStringsSync"   >
          <a href="#getSetCookieStringsSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#getSetCookieStringsSync" class="headerlink" title=".getSetCookieStringsSync(...)"></a><code>.getSetCookieStringsSync(...)</code></h3>
      <p>Synchronous version of <code>getSetCookieStrings</code>; only works with synchronous stores (e.g. the default <code>MemoryCookieStore</code>).</p>

        <h3 id="serialize-cb-err-serializedObject"   >
          <a href="#serialize-cb-err-serializedObject" class="heading-link"><i class="fas fa-link"></i></a><a href="#serialize-cb-err-serializedObject" class="headerlink" title=".serialize(cb(err,serializedObject))"></a><code>.serialize(cb(err,serializedObject))</code></h3>
      <p>Serialize the Jar if the underlying store supports <code>.getAllCookies</code>.</p>
<p><strong>NOTE</strong>: Custom <code>Cookie</code> properties will be discarded. If you want a property to be serialized, add the property name to the <code>Cookie.serializableProperties</code> Array.</p>
<p>See [Serialization Format].</p>

        <h3 id="serializeSync"   >
          <a href="#serializeSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#serializeSync" class="headerlink" title=".serializeSync()"></a><code>.serializeSync()</code></h3>
      <p>Sync version of .serialize</p>

        <h3 id="toJSON-1"   >
          <a href="#toJSON-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#toJSON-1" class="headerlink" title=".toJSON()"></a><code>.toJSON()</code></h3>
      <p>Alias of .serializeSync() for the convenience of <code>JSON.stringify(cookiejar)</code>.</p>

        <h3 id="CookieJar-deserialize-serialized-store-cb-err-object"   >
          <a href="#CookieJar-deserialize-serialized-store-cb-err-object" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-deserialize-serialized-store-cb-err-object" class="headerlink" title="CookieJar.deserialize(serialized, [store], cb(err,object))"></a><code>CookieJar.deserialize(serialized, [store], cb(err,object))</code></h3>
      <p>A new Jar is created and the serialized Cookies are added to the underlying store. Each <code>Cookie</code> is added via <code>store.putCookie</code> in the order in which they appear in the serialization.</p>
<p>The <code>store</code> argument is optional, but should be an instance of <code>Store</code>. By default, a new instance of <code>MemoryCookieStore</code> is created.</p>
<p>As a convenience, if <code>serialized</code> is a string, it is passed through <code>JSON.parse</code> first. If that throws an error, this is passed to the callback.</p>

        <h3 id="CookieJar-deserializeSync-serialized-store"   >
          <a href="#CookieJar-deserializeSync-serialized-store" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-deserializeSync-serialized-store" class="headerlink" title="CookieJar.deserializeSync(serialized, [store])"></a><code>CookieJar.deserializeSync(serialized, [store])</code></h3>
      <p>Sync version of <code>.deserialize</code>.  <em>Note</em> that the <code>store</code> must be synchronous for this to work.</p>

        <h3 id="CookieJar-fromJSON-string"   >
          <a href="#CookieJar-fromJSON-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#CookieJar-fromJSON-string" class="headerlink" title="CookieJar.fromJSON(string)"></a><code>CookieJar.fromJSON(string)</code></h3>
      <p>Alias of <code>.deserializeSync</code> to provide consistency with <code>Cookie.fromJSON()</code>.</p>

        <h3 id="clone-store-cb-err-newJar"   >
          <a href="#clone-store-cb-err-newJar" class="heading-link"><i class="fas fa-link"></i></a><a href="#clone-store-cb-err-newJar" class="headerlink" title=".clone([store,]cb(err,newJar))"></a><code>.clone([store,]cb(err,newJar))</code></h3>
      <p>Produces a deep clone of this jar. Modifications to the original won’t affect the clone, and vice versa.</p>
<p>The <code>store</code> argument is optional, but should be an instance of <code>Store</code>. By default, a new instance of <code>MemoryCookieStore</code> is created. Transferring between store types is supported so long as the source implements <code>.getAllCookies()</code> and the destination implements <code>.putCookie()</code>.</p>

        <h3 id="cloneSync-store"   >
          <a href="#cloneSync-store" class="heading-link"><i class="fas fa-link"></i></a><a href="#cloneSync-store" class="headerlink" title=".cloneSync([store])"></a><code>.cloneSync([store])</code></h3>
      <p>Synchronous version of <code>.clone</code>, returning a new <code>CookieJar</code> instance.</p>
<p>The <code>store</code> argument is optional, but must be a <em>synchronous</em> <code>Store</code> instance if specified. If not passed, a new instance of <code>MemoryCookieStore</code> is used.</p>
<p>The <em>source</em> and <em>destination</em> must both be synchronous <code>Store</code>s. If one or both stores are asynchronous, use <code>.clone</code> instead. Recall that <code>MemoryCookieStore</code> supports both synchronous and asynchronous API calls.</p>

        <h3 id="removeAllCookies-cb-err"   >
          <a href="#removeAllCookies-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#removeAllCookies-cb-err" class="headerlink" title=".removeAllCookies(cb(err))"></a><code>.removeAllCookies(cb(err))</code></h3>
      <p>Removes all cookies from the jar.</p>
<p>This is a new backwards-compatible feature of <code>tough-cookie</code> version 2.5, so not all Stores will implement it efficiently. For Stores that do not implement <code>removeAllCookies</code>, the fallback is to call <code>removeCookie</code> after <code>getAllCookies</code>. If <code>getAllCookies</code> fails or isn’t implemented in the Store, that error is returned. If one or more of the <code>removeCookie</code> calls fail, only the first error is returned.</p>

        <h3 id="removeAllCookiesSync"   >
          <a href="#removeAllCookiesSync" class="heading-link"><i class="fas fa-link"></i></a><a href="#removeAllCookiesSync" class="headerlink" title=".removeAllCookiesSync()"></a><code>.removeAllCookiesSync()</code></h3>
      <p>Sync version of <code>.removeAllCookies()</code></p>

        <h2 id="Store"   >
          <a href="#Store" class="heading-link"><i class="fas fa-link"></i></a><a href="#Store" class="headerlink" title="Store"></a>Store</h2>
      <p>Base class for CookieJar stores. Available as <code>tough.Store</code>.</p>

        <h2 id="Store-API"   >
          <a href="#Store-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#Store-API" class="headerlink" title="Store API"></a>Store API</h2>
      <p>The storage model for each <code>CookieJar</code> instance can be replaced with a custom implementation.  The default is <code>MemoryCookieStore</code> which can be found in the <code>lib/memstore.js</code> file.  The API uses continuation-passing-style to allow for asynchronous stores.</p>
<p>Stores should inherit from the base <code>Store</code> class, which is available as <code>require(&#39;tough-cookie&#39;).Store</code>.</p>
<p>Stores are asynchronous by default, but if <code>store.synchronous</code> is set to <code>true</code>, then the <code>*Sync</code> methods on the of the containing <code>CookieJar</code> can be used (however, the continuation-passing style</p>
<p>All <code>domain</code> parameters will have been normalized before calling.</p>
<p>The Cookie store must have all of the following methods.</p>

        <h3 id="store-findCookie-domain-path-key-cb-err-cookie"   >
          <a href="#store-findCookie-domain-path-key-cb-err-cookie" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-findCookie-domain-path-key-cb-err-cookie" class="headerlink" title="store.findCookie(domain, path, key, cb(err,cookie))"></a><code>store.findCookie(domain, path, key, cb(err,cookie))</code></h3>
      <p>Retrieve a cookie with the given domain, path and key (a.k.a. name).  The RFC maintains that exactly one of these cookies should exist in a store.  If the store is using versioning, this means that the latest&#x2F;newest such cookie should be returned.</p>
<p>Callback takes an error and the resulting <code>Cookie</code> object.  If no cookie is found then <code>null</code> MUST be passed instead (i.e. not an error).</p>

        <h3 id="store-findCookies-domain-path-cb-err-cookies"   >
          <a href="#store-findCookies-domain-path-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-findCookies-domain-path-cb-err-cookies" class="headerlink" title="store.findCookies(domain, path, cb(err,cookies))"></a><code>store.findCookies(domain, path, cb(err,cookies))</code></h3>
      <p>Locates cookies matching the given domain and path.  This is most often called in the context of <code>cookiejar.getCookies()</code> above.</p>
<p>If no cookies are found, the callback MUST be passed an empty array.</p>
<p>The resulting list will be checked for applicability to the current request according to the RFC (domain-match, path-match, http-only-flag, secure-flag, expiry, etc.), so it’s OK to use an optimistic search algorithm when implementing this method.  However, the search algorithm used SHOULD try to find cookies that <code>domainMatch()</code> the domain and <code>pathMatch()</code> the path in order to limit the amount of checking that needs to be done.</p>
<p>As of version 0.9.12, the <code>allPaths</code> option to <code>cookiejar.getCookies()</code> above will cause the path here to be <code>null</code>.  If the path is <code>null</code>, path-matching MUST NOT be performed (i.e. domain-matching only).</p>

        <h3 id="store-putCookie-cookie-cb-err"   >
          <a href="#store-putCookie-cookie-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-putCookie-cookie-cb-err" class="headerlink" title="store.putCookie(cookie, cb(err))"></a><code>store.putCookie(cookie, cb(err))</code></h3>
      <p>Adds a new cookie to the store.  The implementation SHOULD replace any existing cookie with the same <code>.domain</code>, <code>.path</code>, and <code>.key</code> properties – depending on the nature of the implementation, it’s possible that between the call to <code>fetchCookie</code> and <code>putCookie</code> that a duplicate <code>putCookie</code> can occur.</p>
<p>The <code>cookie</code> object MUST NOT be modified; the caller will have already updated the <code>.creation</code> and <code>.lastAccessed</code> properties.</p>
<p>Pass an error if the cookie cannot be stored.</p>

        <h3 id="store-updateCookie-oldCookie-newCookie-cb-err"   >
          <a href="#store-updateCookie-oldCookie-newCookie-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-updateCookie-oldCookie-newCookie-cb-err" class="headerlink" title="store.updateCookie(oldCookie, newCookie, cb(err))"></a><code>store.updateCookie(oldCookie, newCookie, cb(err))</code></h3>
      <p>Update an existing cookie.  The implementation MUST update the <code>.value</code> for a cookie with the same <code>domain</code>, <code>.path</code> and <code>.key</code>.  The implementation SHOULD check that the old value in the store is equivalent to <code>oldCookie</code> - how the conflict is resolved is up to the store.</p>
<p>The <code>.lastAccessed</code> property will always be different between the two objects (to the precision possible via JavaScript’s clock).  Both <code>.creation</code> and <code>.creationIndex</code> are guaranteed to be the same.  Stores MAY ignore or defer the <code>.lastAccessed</code> change at the cost of affecting how cookies are selected for automatic deletion (e.g., least-recently-used, which is up to the store to implement).</p>
<p>Stores may wish to optimize changing the <code>.value</code> of the cookie in the store versus storing a new cookie.  If the implementation doesn’t define this method a stub that calls <code>putCookie(newCookie,cb)</code> will be added to the store object.</p>
<p>The <code>newCookie</code> and <code>oldCookie</code> objects MUST NOT be modified.</p>
<p>Pass an error if the newCookie cannot be stored.</p>

        <h3 id="store-removeCookie-domain-path-key-cb-err"   >
          <a href="#store-removeCookie-domain-path-key-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeCookie-domain-path-key-cb-err" class="headerlink" title="store.removeCookie(domain, path, key, cb(err))"></a><code>store.removeCookie(domain, path, key, cb(err))</code></h3>
      <p>Remove a cookie from the store (see notes on <code>findCookie</code> about the uniqueness constraint).</p>
<p>The implementation MUST NOT pass an error if the cookie doesn’t exist; only pass an error due to the failure to remove an existing cookie.</p>

        <h3 id="store-removeCookies-domain-path-cb-err"   >
          <a href="#store-removeCookies-domain-path-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeCookies-domain-path-cb-err" class="headerlink" title="store.removeCookies(domain, path, cb(err))"></a><code>store.removeCookies(domain, path, cb(err))</code></h3>
      <p>Removes matching cookies from the store.  The <code>path</code> parameter is optional, and if missing means all paths in a domain should be removed.</p>
<p>Pass an error ONLY if removing any existing cookies failed.</p>

        <h3 id="store-removeAllCookies-cb-err"   >
          <a href="#store-removeAllCookies-cb-err" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-removeAllCookies-cb-err" class="headerlink" title="store.removeAllCookies(cb(err))"></a><code>store.removeAllCookies(cb(err))</code></h3>
      <p><em>Optional</em>. Removes all cookies from the store.</p>
<p>Pass an error if one or more cookies can’t be removed.</p>
<p><strong>Note</strong>: New method as of <code>tough-cookie</code> version 2.5, so not all Stores will implement this, plus some stores may choose not to implement this.</p>

        <h3 id="store-getAllCookies-cb-err-cookies"   >
          <a href="#store-getAllCookies-cb-err-cookies" class="heading-link"><i class="fas fa-link"></i></a><a href="#store-getAllCookies-cb-err-cookies" class="headerlink" title="store.getAllCookies(cb(err, cookies))"></a><code>store.getAllCookies(cb(err, cookies))</code></h3>
      <p><em>Optional</em>. Produces an <code>Array</code> of all cookies during <code>jar.serialize()</code>. The items in the array can be true <code>Cookie</code> objects or generic <code>Object</code>s with the [Serialization Format] data structure.</p>
<p>Cookies SHOULD be returned in creation order to preserve sorting via <code>compareCookies()</code>. For reference, <code>MemoryCookieStore</code> will sort by <code>.creationIndex</code> since it uses true <code>Cookie</code> objects internally. If you don’t return the cookies in creation order, they’ll still be sorted by creation time, but this only has a precision of 1ms.  See <code>compareCookies</code> for more detail.</p>
<p>Pass an error if retrieval fails.</p>
<p><strong>Note</strong>: not all Stores can implement this due to technical limitations, so it is optional.</p>

        <h2 id="MemoryCookieStore"   >
          <a href="#MemoryCookieStore" class="heading-link"><i class="fas fa-link"></i></a><a href="#MemoryCookieStore" class="headerlink" title="MemoryCookieStore"></a>MemoryCookieStore</h2>
      <p>Inherits from <code>Store</code>.</p>
<p>A just-in-memory CookieJar synchronous store implementation, used by default. Despite being a synchronous implementation, it’s usable with both the synchronous and asynchronous forms of the <code>CookieJar</code> API. Supports serialization, <code>getAllCookies</code>, and <code>removeAllCookies</code>.</p>

        <h2 id="Community-Cookie-Stores"   >
          <a href="#Community-Cookie-Stores" class="heading-link"><i class="fas fa-link"></i></a><a href="#Community-Cookie-Stores" class="headerlink" title="Community Cookie Stores"></a>Community Cookie Stores</h2>
      <p>These are some Store implementations authored and maintained by the community. They aren’t official and we don’t vouch for them but you may be interested to have a look:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/JSBizon/db-cookie-store"><code>db-cookie-store</code></a>: SQL including SQLite-based databases</li>
<li><a target="_blank" rel="noopener" href="https://github.com/JSBizon/file-cookie-store"><code>file-cookie-store</code></a>: Netscape cookie file format on disk</li>
<li><a target="_blank" rel="noopener" href="https://github.com/benkroeger/redis-cookie-store"><code>redis-cookie-store</code></a>: Redis</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mitsuru/tough-cookie-filestore"><code>tough-cookie-filestore</code></a>: JSON on disk</li>
<li><a target="_blank" rel="noopener" href="https://github.com/exponentjs/tough-cookie-web-storage-store"><code>tough-cookie-web-storage-store</code></a>: DOM localStorage and sessionStorage</li>
</ul>

        <h1 id="Serialization-Format"   >
          <a href="#Serialization-Format" class="heading-link"><i class="fas fa-link"></i></a><a href="#Serialization-Format" class="headerlink" title="Serialization Format"></a>Serialization Format</h1>
      <p><strong>NOTE</strong>: if you want to have custom <code>Cookie</code> properties serialized, add the property name to <code>Cookie.serializableProperties</code>.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// The version of tough-cookie that serialized this jar.</span></span><br><span class="line">  <span class="attr">version</span>: <span class="string">&#x27;tough-cookie@1.x.y&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// add the store type, to make humans happy:</span></span><br><span class="line">  <span class="attr">storeType</span>: <span class="string">&#x27;MemoryCookieStore&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CookieJar configuration:</span></span><br><span class="line">  <span class="attr">rejectPublicSuffixes</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// ... future items go here</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Gets filled from jar.store.getAllCookies():</span></span><br><span class="line">  <span class="attr">cookies</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">key</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="comment">/* other Cookie.serializableProperties go here */</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h1 id="Copyright-and-License"   >
          <a href="#Copyright-and-License" class="heading-link"><i class="fas fa-link"></i></a><a href="#Copyright-and-License" class="headerlink" title="Copyright and License"></a>Copyright and License</h1>
      <p>BSD-3-Clause:</p>
<figure class="highlight text"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Copyright (c) 2015, Salesforce.com, Inc.</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">Redistribution and use in source and binary forms, with or without</span><br><span class="line">modification, are permitted provided that the following conditions are met:</span><br><span class="line"></span><br><span class="line">1. Redistributions of source code must retain the above copyright notice,</span><br><span class="line">this list of conditions and the following disclaimer.</span><br><span class="line"></span><br><span class="line">2. Redistributions in binary form must reproduce the above copyright notice,</span><br><span class="line">this list of conditions and the following disclaimer in the documentation</span><br><span class="line">and/or other materials provided with the distribution.</span><br><span class="line"></span><br><span class="line">3. Neither the name of Salesforce.com nor the names of its contributors may</span><br><span class="line">be used to endorse or promote products derived from this software without</span><br><span class="line">specific prior written permission.</span><br><span class="line"></span><br><span class="line">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span><br><span class="line">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span><br><span class="line">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span><br><span class="line">ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE</span><br><span class="line">LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span><br><span class="line">CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span><br><span class="line">SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span><br><span class="line">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span><br><span class="line">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span><br><span class="line">ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span><br><span class="line">POSSIBILITY OF SUCH DAMAGE.</span><br></pre></td></tr></table></div></figure>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/request/CHANGELOG/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">1985-10-26</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="Change-Log"   >
          <a href="#Change-Log" class="heading-link"><i class="fas fa-link"></i></a><a href="#Change-Log" class="headerlink" title="Change Log"></a>Change Log</h2>
      
        <h3 id="v2-88-0-2018-x2F-08-x2F-10"   >
          <a href="#v2-88-0-2018-x2F-08-x2F-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-88-0-2018-x2F-08-x2F-10" class="headerlink" title="v2.88.0 (2018&#x2F;08&#x2F;10)"></a>v2.88.0 (2018&#x2F;08&#x2F;10)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2996" >#2996</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix(uuid): import versioned uuid (@kwonoj)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2994" >#2994</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update to oauth-sign 0.9.0 (@dlecocq)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2993" >#2993</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix header tests (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2904" >#2904</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> #515, #2894 Strip port suffix from Host header if the protocol is known. (#2904) (@paambaati)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2791" >#2791</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve AWS SigV4 support. (#2791) (@vikhyat)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2977" >#2977</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update test certificates (@simov)</li>
</ul>

        <h3 id="v2-87-0-2018-x2F-05-x2F-21"   >
          <a href="#v2-87-0-2018-x2F-05-x2F-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-87-0-2018-x2F-05-x2F-21" class="headerlink" title="v2.87.0 (2018&#x2F;05&#x2F;21)"></a>v2.87.0 (2018&#x2F;05&#x2F;21)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2943" >#2943</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Replace hawk dependency with a local implemenation (#2943) (@hueniverse)</li>
</ul>

        <h3 id="v2-86-0-2018-x2F-05-x2F-15"   >
          <a href="#v2-86-0-2018-x2F-05-x2F-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-86-0-2018-x2F-05-x2F-15" class="headerlink" title="v2.86.0 (2018&#x2F;05&#x2F;15)"></a>v2.86.0 (2018&#x2F;05&#x2F;15)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2885" >#2885</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove redundant code (for Node.js 0.9.4 and below) and dependency (@ChALkeR)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2942" >#2942</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make Test GREEN Again! (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2923" >#2923</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Alterations for failing CI tests (@gareth-robinson)</li>
</ul>

        <h3 id="v2-85-0-2018-x2F-03-x2F-12"   >
          <a href="#v2-85-0-2018-x2F-03-x2F-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-85-0-2018-x2F-03-x2F-12" class="headerlink" title="v2.85.0 (2018&#x2F;03&#x2F;12)"></a>v2.85.0 (2018&#x2F;03&#x2F;12)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2880" >#2880</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revert “Update hawk to 7.0.7 (#2880)” (@simov)</li>
</ul>

        <h3 id="v2-84-0-2018-x2F-03-x2F-12"   >
          <a href="#v2-84-0-2018-x2F-03-x2F-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-84-0-2018-x2F-03-x2F-12" class="headerlink" title="v2.84.0 (2018&#x2F;03&#x2F;12)"></a>v2.84.0 (2018&#x2F;03&#x2F;12)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2793" >#2793</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed calculation of oauth_body_hash, issue #2792 (@dvishniakov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2880" >#2880</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update hawk to 7.0.7 (#2880) (@kornel-kedzierski)</li>
</ul>

        <h3 id="v2-83-0-2017-x2F-09-x2F-27"   >
          <a href="#v2-83-0-2017-x2F-09-x2F-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-83-0-2017-x2F-09-x2F-27" class="headerlink" title="v2.83.0 (2017&#x2F;09&#x2F;27)"></a>v2.83.0 (2017&#x2F;09&#x2F;27)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2776" >#2776</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updating tough-cookie due to security fix. (#2776) (@karlnorling)</li>
</ul>

        <h3 id="v2-82-0-2017-x2F-09-x2F-19"   >
          <a href="#v2-82-0-2017-x2F-09-x2F-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-82-0-2017-x2F-09-x2F-19" class="headerlink" title="v2.82.0 (2017&#x2F;09&#x2F;19)"></a>v2.82.0 (2017&#x2F;09&#x2F;19)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2703" >#2703</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add Node.js v8 to Travis CI (@ryysud)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2751" >#2751</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update of hawk and qs to latest version (#2751) (@Olivier-Moreau)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2658" >#2658</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed some text in README.md (#2658) (@Marketionist)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2635" >#2635</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> chore(package): update aws-sign2 to version 0.7.0 (#2635) (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2641" >#2641</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README to simplify &amp; update convenience methods (#2641) (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2541" >#2541</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add convenience method for HTTP OPTIONS (#2541) (@jamesseanwright)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2605" >#2605</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add promise support section to README (#2605) (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2579" >#2579</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> refactor(lint): replace eslint with standard (#2579) (@ahmadnassri)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2598" >#2598</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update codecov to version 2.0.2 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2590" >#2590</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adds test-timing keepAlive test (@nicjansma)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2589" >#2589</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix tabulation on request example README.MD (@odykyi)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2594" >#2594</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> chore(dependencies): har-validator to 5.x [removes babel dep] (@ahmadnassri)</li>
</ul>

        <h3 id="v2-81-0-2017-x2F-03-x2F-09"   >
          <a href="#v2-81-0-2017-x2F-03-x2F-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-81-0-2017-x2F-03-x2F-09" class="headerlink" title="v2.81.0 (2017&#x2F;03&#x2F;09)"></a>v2.81.0 (2017&#x2F;03&#x2F;09)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2584" >#2584</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Security issue: Upgrade qs to version 6.4.0 (@sergejmueller)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2578" >#2578</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> safe-buffer doesn’t zero-fill by default, its just a polyfill. (#2578) (@mikeal)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2566" >#2566</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Timings: Tracks ‘lookup’, adds ‘wait’ time, fixes connection re-use (#2566) (@nicjansma)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2574" >#2574</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Migrating to safe-buffer for improved security. (@mikeal)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2573" >#2573</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fixes #2572 (@ahmadnassri)</li>
</ul>

        <h3 id="v2-80-0-2017-x2F-03-x2F-04"   >
          <a href="#v2-80-0-2017-x2F-03-x2F-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-80-0-2017-x2F-03-x2F-04" class="headerlink" title="v2.80.0 (2017&#x2F;03&#x2F;04)"></a>v2.80.0 (2017&#x2F;03&#x2F;04)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2571" >#2571</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Correctly format the Host header for IPv6 addresses (@JamesMGreene)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2558" >#2558</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md example snippet (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2221" >#2221</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adding a simple Response object reference in argument specification (@calamarico)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2452" >#2452</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adds .timings array with DNC, TCP, request and response times (@nicjansma)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2553" >#2553</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add ISSUE_TEMPLATE, move PR template (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2539" >#2539</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Create PULL_REQUEST_TEMPLATE.md (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2524" >#2524</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update caseless to version 0.12.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2460" >#2460</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix wrong MIME type in example (@OwnageIsMagic)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2514" >#2514</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Change tags to keywords in package.json (@humphd)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2492" >#2492</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> More lenient gzip decompression (@addaleax)</li>
</ul>

        <h3 id="v2-79-0-2016-x2F-11-x2F-18"   >
          <a href="#v2-79-0-2016-x2F-11-x2F-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-79-0-2016-x2F-11-x2F-18" class="headerlink" title="v2.79.0 (2016&#x2F;11&#x2F;18)"></a>v2.79.0 (2016&#x2F;11&#x2F;18)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2368" >#2368</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typeof check in test-pool.js (@forivall)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2394" >#2394</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use <code>files</code> in package.json (@SimenB)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2463" >#2463</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> AWS support for session tokens for temporary credentials (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2467" >#2467</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Migrate to uuid (@simov, @antialias)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2459" >#2459</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update taper to version 0.5.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2448" >#2448</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make other connect timeout test more reliable too (@mscdex)</li>
</ul>

        <h3 id="v2-78-0-2016-x2F-11-x2F-03"   >
          <a href="#v2-78-0-2016-x2F-11-x2F-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-78-0-2016-x2F-11-x2F-03" class="headerlink" title="v2.78.0 (2016&#x2F;11&#x2F;03)"></a>v2.78.0 (2016&#x2F;11&#x2F;03)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2447" >#2447</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Always set request timeout on keep-alive connections (@mscdex)</li>
</ul>

        <h3 id="v2-77-0-2016-x2F-11-x2F-03"   >
          <a href="#v2-77-0-2016-x2F-11-x2F-03" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-77-0-2016-x2F-11-x2F-03" class="headerlink" title="v2.77.0 (2016&#x2F;11&#x2F;03)"></a>v2.77.0 (2016&#x2F;11&#x2F;03)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2439" >#2439</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix socket ‘connect’ listener handling (@mscdex)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2442" >#2442</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 👻😱 Node.js 0.10 is unmaintained 😱👻 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2435" >#2435</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add followOriginalHttpMethod to redirect to original HTTP method (@kirrg001)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2414" >#2414</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve test-timeout reliability (@mscdex)</li>
</ul>

        <h3 id="v2-76-0-2016-x2F-10-x2F-25"   >
          <a href="#v2-76-0-2016-x2F-10-x2F-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-76-0-2016-x2F-10-x2F-25" class="headerlink" title="v2.76.0 (2016&#x2F;10&#x2F;25)"></a>v2.76.0 (2016&#x2F;10&#x2F;25)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2424" >#2424</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Handle buffers directly instead of using “bl” (@zertosh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2415" >#2415</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Re-enable timeout tests on Travis + other fixes (@mscdex)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2431" >#2431</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve timeouts accuracy and node v6.8.0+ compatibility (@mscdex, @greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2428" >#2428</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update qs to version 6.3.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2420" >#2420</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> change .on to .once, remove possible memory leaks (@duereg)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2426" >#2426</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove “isFunction” helper in favor of “typeof” check (@zertosh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2425" >#2425</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Simplify “defer” helper creation (@zertosh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2402" >#2402</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   href="mailto:&#x66;&#x6f;&#x72;&#109;&#x2d;&#100;&#x61;&#116;&#97;&#x40;&#50;&#46;&#x31;&#46;&#x31;" >&#x66;&#x6f;&#x72;&#109;&#x2d;&#100;&#x61;&#116;&#97;&#x40;&#50;&#46;&#x31;&#46;&#x31;</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> breaks build 🚨 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2393" >#2393</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update form-data to version 2.1.0 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-75-0-2016-x2F-09-x2F-17"   >
          <a href="#v2-75-0-2016-x2F-09-x2F-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-75-0-2016-x2F-09-x2F-17" class="headerlink" title="v2.75.0 (2016&#x2F;09&#x2F;17)"></a>v2.75.0 (2016&#x2F;09&#x2F;17)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2381" >#2381</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Drop support for Node 0.10 (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2377" >#2377</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update form-data to version 2.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2353" >#2353</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add greenkeeper ignored packages (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2351" >#2351</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma-tap to version 3.0.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2348" >#2348</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   href="mailto:&#102;&#x6f;&#114;&#109;&#45;&#100;&#x61;&#116;&#x61;&#x40;&#49;&#x2e;&#48;&#x2e;&#x31;" >&#102;&#x6f;&#114;&#109;&#45;&#100;&#x61;&#116;&#x61;&#x40;&#49;&#x2e;&#48;&#x2e;&#x31;</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> breaks build 🚨 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2349" >#2349</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Check error type instead of string (@scotttrinh)</li>
</ul>

        <h3 id="v2-74-0-2016-x2F-07-x2F-22"   >
          <a href="#v2-74-0-2016-x2F-07-x2F-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-74-0-2016-x2F-07-x2F-22" class="headerlink" title="v2.74.0 (2016&#x2F;07&#x2F;22)"></a>v2.74.0 (2016&#x2F;07&#x2F;22)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2295" >#2295</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update tough-cookie to 2.3.0 (@stash-sfdc)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2280" >#2280</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma-tap to version 2.0.1 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-73-0-2016-x2F-07-x2F-09"   >
          <a href="#v2-73-0-2016-x2F-07-x2F-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-73-0-2016-x2F-07-x2F-09" class="headerlink" title="v2.73.0 (2016&#x2F;07&#x2F;09)"></a>v2.73.0 (2016&#x2F;07&#x2F;09)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2240" >#2240</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove connectionErrorHandler to fix #1903 (@zarenner)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2251" >#2251</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   href="mailto:&#x74;&#97;&#112;&#x65;&#x40;&#52;&#x2e;&#x36;&#x2e;&#48;" >&#x74;&#97;&#112;&#x65;&#x40;&#52;&#x2e;&#x36;&#x2e;&#48;</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> breaks build 🚨 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2225" >#2225</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update docs (@ArtskydJ)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2203" >#2203</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update browserify to version 13.0.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2275" >#2275</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma to version 1.1.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2204" >#2204</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add codecov.yml and disable PR comments (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2212" >#2212</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix link to http.IncomingMessage documentation (@nazieb)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2208" >#2208</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update to form-data RC4 and pass null values to it (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2207" >#2207</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move aws4 require statement to the top (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2199" >#2199</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma-coverage to version 1.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2206" >#2206</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update qs to version 6.2.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2205" >#2205</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use server-destory to close hanging sockets in tests (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2200" >#2200</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma-cli to version 1.0.0 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-72-0-2016-x2F-04-x2F-17"   >
          <a href="#v2-72-0-2016-x2F-04-x2F-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-72-0-2016-x2F-04-x2F-17" class="headerlink" title="v2.72.0 (2016&#x2F;04&#x2F;17)"></a>v2.72.0 (2016&#x2F;04&#x2F;17)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2176" >#2176</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Do not try to pipe Gzip responses with no body (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2175" >#2175</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add ‘delete’ alias for the ‘del’ API method (@simov, @MuhanZou)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2172" >#2172</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for deflate content encoding (@czardoz)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2169" >#2169</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add callback option (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2165" >#2165</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Check for self.req existence inside the write method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2167" >#2167</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix TravisCI badge reference master branch (@a0viedo)</li>
</ul>

        <h3 id="v2-71-0-2016-x2F-04-x2F-12"   >
          <a href="#v2-71-0-2016-x2F-04-x2F-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-71-0-2016-x2F-04-x2F-12" class="headerlink" title="v2.71.0 (2016&#x2F;04&#x2F;12)"></a>v2.71.0 (2016&#x2F;04&#x2F;12)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2164" >#2164</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Catch errors from the underlying http module (@simov)</li>
</ul>

        <h3 id="v2-70-0-2016-x2F-04-x2F-05"   >
          <a href="#v2-70-0-2016-x2F-04-x2F-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-70-0-2016-x2F-04-x2F-05" class="headerlink" title="v2.70.0 (2016&#x2F;04&#x2F;05)"></a>v2.70.0 (2016&#x2F;04&#x2F;05)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2147" >#2147</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 2.5.3 🚀 (@simov, @greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2009" >#2009</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support JSON stringify replacer argument. (@elyobo)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2142" >#2142</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 2.5.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2128" >#2128</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update browserify-istanbul to version 2.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2115" >#2115</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 2.3.0 🚀 (@simov, @greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2089" >#2089</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix badges (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2092" >#2092</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update browserify-istanbul to version 1.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2079" >#2079</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Accept read stream as body option (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2070" >#2070</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update bl to version 1.1.2 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2063" >#2063</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Up bluebird and oauth-sign (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2058" >#2058</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Karma fixes for latest versions (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2057" >#2057</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update contributing guidelines (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2054" >#2054</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update qs to version 6.1.0 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-69-0-2016-x2F-01-x2F-27"   >
          <a href="#v2-69-0-2016-x2F-01-x2F-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-69-0-2016-x2F-01-x2F-27" class="headerlink" title="v2.69.0 (2016&#x2F;01&#x2F;27)"></a>v2.69.0 (2016&#x2F;01&#x2F;27)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2041" >#2041</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> restore aws4 as regular dependency (@rmg)</li>
</ul>

        <h3 id="v2-68-0-2016-x2F-01-x2F-27"   >
          <a href="#v2-68-0-2016-x2F-01-x2F-27" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-68-0-2016-x2F-01-x2F-27" class="headerlink" title="v2.68.0 (2016&#x2F;01&#x2F;27)"></a>v2.68.0 (2016&#x2F;01&#x2F;27)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2036" >#2036</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add AWS Signature Version 4 (@simov, @mirkods)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2022" >#2022</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Convert numeric multipart bodies to string (@simov, @feross)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2024" >#2024</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update har-validator dependency for nsp advisory #76 (@TylerDixon)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2016" >#2016</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update qs to version 6.0.2 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2007" >#2007</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use the <code>extend</code> module instead of util._extend (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/2003" >#2003</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update browserify to version 13.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1989" >#1989</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update buffer-equal to version 1.0.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1956" >#1956</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Check form-data content-length value before setting up the header (@jongyoonlee)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1958" >#1958</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use IncomingMessage.destroy method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1952" >#1952</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adds example for Tor proxy (@prometheansacrifice)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1943" >#1943</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 1.10.3 🚀 (@simov, @greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1924" >#1924</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 1.10.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1915" >#1915</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove content-length and transfer-encoding headers from defaultProxyHeaderWhiteList (@yaxia)</li>
</ul>

        <h3 id="v2-67-0-2015-x2F-11-x2F-19"   >
          <a href="#v2-67-0-2015-x2F-11-x2F-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-67-0-2015-x2F-11-x2F-19" class="headerlink" title="v2.67.0 (2015&#x2F;11&#x2F;19)"></a>v2.67.0 (2015&#x2F;11&#x2F;19)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1913" >#1913</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update http-signature to version 1.1.0 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-66-0-2015-x2F-11-x2F-18"   >
          <a href="#v2-66-0-2015-x2F-11-x2F-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-66-0-2015-x2F-11-x2F-18" class="headerlink" title="v2.66.0 (2015&#x2F;11&#x2F;18)"></a>v2.66.0 (2015&#x2F;11&#x2F;18)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1906" >#1906</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README URLs based on HTTP redirects (@ReadmeCritic)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1905" >#1905</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Convert typed arrays into regular buffers (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1902" >#1902</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> <span class="exturl"><a class="exturl__link"   href="mailto:&#x6e;&#x6f;&#100;&#x65;&#x2d;&#117;&#117;&#105;&#100;&#64;&#x31;&#46;&#x34;&#46;&#x37;" >&#x6e;&#x6f;&#100;&#x65;&#x2d;&#117;&#117;&#105;&#100;&#64;&#x31;&#46;&#x34;&#46;&#x37;</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> breaks build 🚨 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1894" >#1894</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix tunneling after redirection from https (Original: #1881) (@simov, @falms)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1893" >#1893</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 1.9.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1852" >#1852</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint to version 1.7.3 🚀 (@simov, @greenkeeperio-bot, @paulomcnally, @michelsalib, @arbaaz, @nsklkn, @LoicMahieu, @JoshWillik, @jzaefferer, @ryanwholey, @djchie, @thisconnect, @mgenereu, @acroca, @Sebmaster, @KoltesDigital)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1876" >#1876</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Implement loose matching for har mime types (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1875" >#1875</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update bluebird to version 3.0.2 🚀 (@simov, @greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1871" >#1871</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update browserify to version 12.0.1 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1866" >#1866</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add missing quotes on x-token property in README (@miguelmota)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1874" >#1874</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo in README.md (@gswalden)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1860" >#1860</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve referer header tests and docs (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1861" >#1861</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove redundant call to Stream constructor (@watson)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1857" >#1857</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix Referer header to point to the original host name (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1850" >#1850</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update karma-coverage to version 0.5.3 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1847" >#1847</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use node’s latest version when building (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1836" >#1836</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Tunnel: fix wrong property name (@KoltesDigital)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1820" >#1820</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Set href as request.js uses it (@mgenereu)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1840" >#1840</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update http-signature to version 1.0.2 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1845" >#1845</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update istanbul to version 0.4.0 🚀 (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-65-0-2015-x2F-10-x2F-11"   >
          <a href="#v2-65-0-2015-x2F-10-x2F-11" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-65-0-2015-x2F-10-x2F-11" class="headerlink" title="v2.65.0 (2015&#x2F;10&#x2F;11)"></a>v2.65.0 (2015&#x2F;10&#x2F;11)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1833" >#1833</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update aws-sign2 to version 0.6.0 🚀 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1811" >#1811</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Enable loose cookie parsing in tough-cookie (@Sebmaster)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1830" >#1830</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bring back tilde ranges for all dependencies (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1821" >#1821</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Implement support for RFC 2617 MD5-sess algorithm. (@BigDSK)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1828" >#1828</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updated qs dependency to 5.2.0 (@acroca)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1818" >#1818</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Extract <code>readResponseBody</code> method out of <code>onRequestResponse</code> (@pvoisin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1819" >#1819</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Run stringify once (@mgenereu)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1814" >#1814</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updated har-validator to version 2.0.2 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1807" >#1807</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updated tough-cookie to version 2.1.0 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1800" >#1800</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add caret ranges for devDependencies, except eslint (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1799" >#1799</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updated karma-browserify to version 4.4.0 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1797" >#1797</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updated tape to version 4.2.0 (@greenkeeperio-bot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1788" >#1788</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Pinned all dependencies (@greenkeeperio-bot)</li>
</ul>

        <h3 id="v2-64-0-2015-x2F-09-x2F-25"   >
          <a href="#v2-64-0-2015-x2F-09-x2F-25" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-64-0-2015-x2F-09-x2F-25" class="headerlink" title="v2.64.0 (2015&#x2F;09&#x2F;25)"></a>v2.64.0 (2015&#x2F;09&#x2F;25)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1787" >#1787</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> npm ignore examples, release.sh and disabled.appveyor.yml (@thisconnect)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1775" >#1775</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo in README.md (@djchie)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1776" >#1776</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Changed word ‘conjuction’ to read ‘conjunction’ in README.md (@ryanwholey)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1785" >#1785</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revert: Set default application&#x2F;json content-type when using json option #1772 (@simov)</li>
</ul>

        <h3 id="v2-63-0-2015-x2F-09-x2F-21"   >
          <a href="#v2-63-0-2015-x2F-09-x2F-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-63-0-2015-x2F-09-x2F-21" class="headerlink" title="v2.63.0 (2015&#x2F;09&#x2F;21)"></a>v2.63.0 (2015&#x2F;09&#x2F;21)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1772" >#1772</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Set default application&#x2F;json content-type when using json option (@jzaefferer)</li>
</ul>

        <h3 id="v2-62-0-2015-x2F-09-x2F-15"   >
          <a href="#v2-62-0-2015-x2F-09-x2F-15" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-62-0-2015-x2F-09-x2F-15" class="headerlink" title="v2.62.0 (2015&#x2F;09&#x2F;15)"></a>v2.62.0 (2015&#x2F;09&#x2F;15)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1768" >#1768</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add node 4.0 to the list of build targets (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1767" >#1767</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Query strings now cooperate with unix sockets (@JoshWillik)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1750" >#1750</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revert doc about installation of tough-cookie added in #884 (@LoicMahieu)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1746" >#1746</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Missed comma in Readme (@nsklkn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1743" >#1743</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix options not being initialized in defaults method (@simov)</li>
</ul>

        <h3 id="v2-61-0-2015-x2F-08-x2F-19"   >
          <a href="#v2-61-0-2015-x2F-08-x2F-19" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-61-0-2015-x2F-08-x2F-19" class="headerlink" title="v2.61.0 (2015&#x2F;08&#x2F;19)"></a>v2.61.0 (2015&#x2F;08&#x2F;19)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1721" >#1721</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Minor fix in README.md (@arbaaz)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1733" >#1733</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Avoid useless Buffer transformation (@michelsalib)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1726" >#1726</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md (@paulomcnally)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1715" >#1715</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix forever option in node &gt; 0.10 #1709 (@calibr)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1716" >#1716</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Do not create Buffer from Object in setContentLength(iojs v3.0 issue) (@calibr)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1711" >#1711</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add ability to detect connect timeouts (@kevinburke)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1712" >#1712</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Set certificate expiration to August 2, 2018 (@kevinburke)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1700" >#1700</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> debug() when JSON.parse() on a response body fails (@phillipj)</li>
</ul>

        <h3 id="v2-60-0-2015-x2F-07-x2F-21"   >
          <a href="#v2-60-0-2015-x2F-07-x2F-21" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-60-0-2015-x2F-07-x2F-21" class="headerlink" title="v2.60.0 (2015&#x2F;07&#x2F;21)"></a>v2.60.0 (2015&#x2F;07&#x2F;21)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1687" >#1687</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix caseless bug - content-type not being set for multipart&#x2F;form-data (@simov, @garymathews)</li>
</ul>

        <h3 id="v2-59-0-2015-x2F-07-x2F-20"   >
          <a href="#v2-59-0-2015-x2F-07-x2F-20" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-59-0-2015-x2F-07-x2F-20" class="headerlink" title="v2.59.0 (2015&#x2F;07&#x2F;20)"></a>v2.59.0 (2015&#x2F;07&#x2F;20)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1671" >#1671</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add tests and docs for using the agent, agentClass, agentOptions and forever options.<br> Forever option defaults to using http(s).Agent in node 0.12+ (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1679" >#1679</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix - do not remove OAuth param when using OAuth realm (@simov, @jhalickman)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1668" >#1668</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> updated dependencies (@deamme)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1656" >#1656</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix form method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1651" >#1651</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Preserve HEAD method when using followAllRedirects (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1652" >#1652</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update <code>encoding</code> option documentation in README.md (@daniel347x)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1650" >#1650</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow content-type overriding when using the <code>form</code> option (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1646" >#1646</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Clarify the nature of setting <code>ca</code> in <code>agentOptions</code> (@jeffcharles)</li>
</ul>

        <h3 id="v2-58-0-2015-x2F-06-x2F-16"   >
          <a href="#v2-58-0-2015-x2F-06-x2F-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-58-0-2015-x2F-06-x2F-16" class="headerlink" title="v2.58.0 (2015&#x2F;06&#x2F;16)"></a>v2.58.0 (2015&#x2F;06&#x2F;16)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1638" >#1638</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use the <code>extend</code> module to deep extend in the defaults method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1631" >#1631</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move tunnel logic into separate module (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1634" >#1634</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix OAuth query transport_method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1603" >#1603</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add codecov (@simov)</li>
</ul>

        <h3 id="v2-57-0-2015-x2F-05-x2F-31"   >
          <a href="#v2-57-0-2015-x2F-05-x2F-31" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-57-0-2015-x2F-05-x2F-31" class="headerlink" title="v2.57.0 (2015&#x2F;05&#x2F;31)"></a>v2.57.0 (2015&#x2F;05&#x2F;31)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1615" >#1615</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Replace ‘.client’ with ‘.socket’ as the former was deprecated in 2.2.0. (@ChALkeR)</li>
</ul>

        <h3 id="v2-56-0-2015-x2F-05-x2F-28"   >
          <a href="#v2-56-0-2015-x2F-05-x2F-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-56-0-2015-x2F-05-x2F-28" class="headerlink" title="v2.56.0 (2015&#x2F;05&#x2F;28)"></a>v2.56.0 (2015&#x2F;05&#x2F;28)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1610" >#1610</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bump module dependencies (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1600" >#1600</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Extract the querystring logic into separate module (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1607" >#1607</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Re-generate certificates (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1599" >#1599</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move getProxyFromURI logic below the check for Invaild URI (#1595) (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1598" >#1598</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix the way http verbs are defined in order to please intellisense IDEs (@simov, @flannelJesus)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1591" >#1591</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> A few minor fixes: (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1584" >#1584</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Refactor test-default tests (according to comments in #1430) (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1585" >#1585</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixing documentation regarding TLS options (#1583) (@mainakae)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1574" >#1574</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Refresh the oauth_nonce on redirect (#1573) (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1570" >#1570</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Discovered tests that weren’t properly running (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1569" >#1569</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix pause before response arrives (@kevinoid)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1558" >#1558</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Emit error instead of throw (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1568" >#1568</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix stall when piping gzipped response (@kevinoid)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1560" >#1560</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update combined-stream (@apechimp)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1543" >#1543</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Initial support for oauth_body_hash on json payloads (@simov, @aesopwolf)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1541" >#1541</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix coveralls (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1540" >#1540</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix recursive defaults for convenience methods (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1536" >#1536</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> More eslint style rules (@froatsnook)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1533" >#1533</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adding dependency status bar to README.md (@YasharF)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1539" >#1539</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> ensure the latest version of har-validator is included (@ahmadnassri)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1516" >#1516</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> forever+pool test (@devTristan)</li>
</ul>

        <h3 id="v2-55-0-2015-x2F-04-x2F-05"   >
          <a href="#v2-55-0-2015-x2F-04-x2F-05" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-55-0-2015-x2F-04-x2F-05" class="headerlink" title="v2.55.0 (2015&#x2F;04&#x2F;05)"></a>v2.55.0 (2015&#x2F;04&#x2F;05)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1520" >#1520</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Refactor defaults (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1525" >#1525</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Delete request headers with undefined value. (@froatsnook)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1521" >#1521</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add promise tests (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1518" >#1518</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix defaults (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1515" >#1515</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow static invoking of convenience methods (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1505" >#1505</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix multipart boundary extraction regexp (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1510" >#1510</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix basic auth form data (@simov)</li>
</ul>

        <h3 id="v2-54-0-2015-x2F-03-x2F-24"   >
          <a href="#v2-54-0-2015-x2F-03-x2F-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-54-0-2015-x2F-03-x2F-24" class="headerlink" title="v2.54.0 (2015&#x2F;03&#x2F;24)"></a>v2.54.0 (2015&#x2F;03&#x2F;24)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1501" >#1501</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> HTTP Archive 1.2 support (@ahmadnassri)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1486" >#1486</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add a test for the forever agent (@akshayp)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1500" >#1500</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adding handling for no auth method and null bearer (@philberg)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1498" >#1498</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add table of contents in readme (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1477" >#1477</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for qs options via qsOptions key (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1496" >#1496</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Parameters encoded to base 64 should be decoded as UTF-8, not ASCII. (@albanm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1494" >#1494</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslint (@froatsnook)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1474" >#1474</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Require Colon in Basic Auth (@erykwalder)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1481" >#1481</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix baseUrl and redirections. (@burningtree)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1469" >#1469</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Feature&#x2F;base url (@froatsnook)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1459" >#1459</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add option to time request&#x2F;response cycle (including rollup of redirects) (@aaron-em)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1468" >#1468</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Re-enable io.js&#x2F;node 0.12 build (@simov, @mikeal, @BBB)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1442" >#1442</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed the issue with strictSSL tests on  0.12 &amp; io.js by explicitly setting a cipher that matches the cert. (@BBB, @nickmccurdy, @demohi, @simov, @0x4139)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1460" >#1460</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> localAddress or proxy config is lost when redirecting (@simov, @0x4139)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1453" >#1453</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Test on Node.js 0.12 and io.js with allowed failures (@nickmccurdy, @demohi)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1426" >#1426</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixing tests to pass on io.js and node 0.12 (only test-https.js stiff failing) (@mikeal)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1446" >#1446</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Missing HTTP referer header with redirects Fixes #1038 (@simov, @guimon)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1428" >#1428</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Deprecate Node v0.8.x (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1436" >#1436</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add ability to set a requester without setting default options (@tikotzky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1435" >#1435</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> dry up verb methods (@sethpollack)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1423" >#1423</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow fully qualified multipart content-type header (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1430" >#1430</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix recursive requester (@tikotzky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1429" >#1429</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Throw error when making HEAD request with a body (@tikotzky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1419" >#1419</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add note that the project is broken in 0.12.x (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1413" >#1413</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix basic auth (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1397" >#1397</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve pipe-from-file tests (@nylen)</li>
</ul>

        <h3 id="v2-53-0-2015-x2F-02-x2F-02"   >
          <a href="#v2-53-0-2015-x2F-02-x2F-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-53-0-2015-x2F-02-x2F-02" class="headerlink" title="v2.53.0 (2015&#x2F;02&#x2F;02)"></a>v2.53.0 (2015&#x2F;02&#x2F;02)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1396" >#1396</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Do not rfc3986 escape JSON bodies (@nylen, @simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1392" >#1392</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve <code>timeout</code> option description (@watson)</li>
</ul>

        <h3 id="v2-52-0-2015-x2F-02-x2F-02"   >
          <a href="#v2-52-0-2015-x2F-02-x2F-02" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-52-0-2015-x2F-02-x2F-02" class="headerlink" title="v2.52.0 (2015&#x2F;02&#x2F;02)"></a>v2.52.0 (2015&#x2F;02&#x2F;02)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1383" >#1383</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add missing HTTPS options that were not being passed to tunnel (@brichard19) (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1388" >#1388</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade mime-types package version (@roderickhsiao)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1389" >#1389</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revise Setup Tunnel Function (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1374" >#1374</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow explicitly disabling tunneling for proxied https destinations (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1376" >#1376</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use karma-browserify for tests. Add browser test coverage reporter. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1366" >#1366</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Refactor OAuth into separate module (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1373" >#1373</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Rewrite tunnel test to be pure Node.js (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1371" >#1371</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade test reporter (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1360" >#1360</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Refactor basic, bearer, digest auth logic into separate class (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1354" >#1354</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove circular dependency from debugging code (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1351" >#1351</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move digest auth into private prototype method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1352" >#1352</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update hawk dependency to ~2.3.0 (@mridgway)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1353" >#1353</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Correct travis-ci badge (@dogancelik)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1349" >#1349</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make sure we return on errored browser requests. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1346" >#1346</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> getProxyFromURI Extraction Refactor (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1337" >#1337</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Standardize test ports on 6767 (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1341" >#1341</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Emit FormData error events as Request error events (@nylen, @rwky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1343" >#1343</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Clean up readme badges, and add Travis and Coveralls badges (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1345" >#1345</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md (@Aaron-Hartwig)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1338" >#1338</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Always wait for server.close() callback in tests (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1342" >#1342</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add mock https server and redo start of browser tests for this purpose. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1339" >#1339</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve auth docs (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1335" >#1335</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for OAuth plaintext signature method (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1332" >#1332</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add clean script to remove test-browser.js after the tests run (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1327" >#1327</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix errors generating coverage reports. (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1330" >#1330</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Return empty buffer upon empty response body and encoding is set to null (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1326" >#1326</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use faster container-based infrastructure on Travis (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1315" >#1315</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Implement rfc3986 option (@simov, @nylen, @apoco, @DullReferenceException, @mmalecki, @oliamb, @cliffcrosland, @LewisJEllis, @eiriksm, @poislagarde)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1314" >#1314</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Detect urlencoded form data header via regex (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1317" >#1317</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve OAuth1.0 server side flow example (@simov)</li>
</ul>

        <h3 id="v2-51-0-2014-x2F-12-x2F-10"   >
          <a href="#v2-51-0-2014-x2F-12-x2F-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-51-0-2014-x2F-12-x2F-10" class="headerlink" title="v2.51.0 (2014&#x2F;12&#x2F;10)"></a>v2.51.0 (2014&#x2F;12&#x2F;10)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1310" >#1310</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revert changes introduced in <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1282" >https://github.com/request/request/pull/1282</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (@simov)</li>
</ul>

        <h3 id="v2-50-0-2014-x2F-12-x2F-09"   >
          <a href="#v2-50-0-2014-x2F-12-x2F-09" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-50-0-2014-x2F-12-x2F-09" class="headerlink" title="v2.50.0 (2014&#x2F;12&#x2F;09)"></a>v2.50.0 (2014&#x2F;12&#x2F;09)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1308" >#1308</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add browser test to keep track of browserify compability. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1299" >#1299</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add optional support for jsonReviver (@poislagarde)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1277" >#1277</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add Coveralls configuration (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1307" >#1307</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade form-data, add back browserify compability. Fixes #455. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1305" >#1305</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo in README.md (@LewisJEllis)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1288" >#1288</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md to explain custom file use case (@cliffcrosland)</li>
</ul>

        <h3 id="v2-49-0-2014-x2F-11-x2F-28"   >
          <a href="#v2-49-0-2014-x2F-11-x2F-28" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-49-0-2014-x2F-11-x2F-28" class="headerlink" title="v2.49.0 (2014&#x2F;11&#x2F;28)"></a>v2.49.0 (2014&#x2F;11&#x2F;28)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1295" >#1295</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix(proxy): no-proxy false positive (@oliamb)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1292" >#1292</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade <code>caseless</code> to 0.8.1 (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1276" >#1276</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Set transfer encoding for multipart&#x2F;related to chunked by default (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1275" >#1275</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix multipart content-type headers detection (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1269" >#1269</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> adds streams example for review (@tbuchok)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1238" >#1238</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add examples README.md (@simov)</li>
</ul>

        <h3 id="v2-48-0-2014-x2F-11-x2F-12"   >
          <a href="#v2-48-0-2014-x2F-11-x2F-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-48-0-2014-x2F-11-x2F-12" class="headerlink" title="v2.48.0 (2014&#x2F;11&#x2F;12)"></a>v2.48.0 (2014&#x2F;11&#x2F;12)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1263" >#1263</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed a syntax error &#x2F; typo in README.md (@xna2)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1253" >#1253</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add multipart chunked flag (@simov, @nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1251" >#1251</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Clarify that defaults() does not modify global defaults (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1250" >#1250</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve documentation for pool and maxSockets options (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1237" >#1237</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Documenting error handling when using streams (@vmattos)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1244" >#1244</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Finalize changelog command (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1241" >#1241</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo (@alexanderGugel)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1223" >#1223</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Show latest version number instead of “upcoming” in changelog (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1236" >#1236</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Document how to use custom CA in README (#1229) (@hypesystem)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1228" >#1228</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support for oauth with RSA-SHA1 signing (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1216" >#1216</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Made json and multipart options coexist (@nylen, @simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1225" >#1225</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow header white&#x2F;exclusive lists in any case. (@RReverser)</li>
</ul>

        <h3 id="v2-47-0-2014-x2F-10-x2F-26"   >
          <a href="#v2-47-0-2014-x2F-10-x2F-26" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-47-0-2014-x2F-10-x2F-26" class="headerlink" title="v2.47.0 (2014&#x2F;10&#x2F;26)"></a>v2.47.0 (2014&#x2F;10&#x2F;26)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1222" >#1222</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move from mikeal&#x2F;request to request&#x2F;request (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1220" >#1220</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> update qs dependency to 2.3.1 (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1212" >#1212</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve tests&#x2F;test-timeout.js (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1219" >#1219</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> remove old globalAgent workaround for node 0.4 (@request)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1214" >#1214</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove cruft left over from optional dependencies (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1215" >#1215</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add proxyHeaderExclusiveList option for proxy-only headers. (@RReverser)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1211" >#1211</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow ‘Host’ header instead of ‘host’ and remember case across redirects (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1208" >#1208</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve release script (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1213" >#1213</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support for custom cookie store (@nylen, @mitsuru)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1197" >#1197</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Clean up some code around setting the agent (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1209" >#1209</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve multipart form append test (@simov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1207" >#1207</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update changelog (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1185" >#1185</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Stream multipart&#x2F;related bodies (@simov)</li>
</ul>

        <h3 id="v2-46-0-2014-x2F-10-x2F-23"   >
          <a href="#v2-46-0-2014-x2F-10-x2F-23" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-46-0-2014-x2F-10-x2F-23" class="headerlink" title="v2.46.0 (2014&#x2F;10&#x2F;23)"></a>v2.46.0 (2014&#x2F;10&#x2F;23)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1198" >#1198</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> doc for TLS&#x2F;SSL protocol options (@shawnzhu)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1200" >#1200</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add a Gitter chat badge to README.md (@gitter-badger)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1196" >#1196</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade taper test reporter to v0.3.0 (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1199" >#1199</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix lint error: undeclared var i (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1191" >#1191</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move self.proxy decision logic out of init and into a helper (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1190" >#1190</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Move _buildRequest() logic back into init (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1186" >#1186</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support Smarter Unix URL Scheme (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1178" >#1178</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> update form documentation for new usage (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1180" >#1180</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Enable no-mixed-requires linting rule (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1184" >#1184</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Don’t forward authorization header across redirects to different hosts (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1183" >#1183</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Correct README about pre and postamble CRLF using multipart and not mult… (@netpoetica)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1179" >#1179</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Lint tests directory (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1169" >#1169</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add metadata for form-data file field (@dotcypress)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1173" >#1173</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> remove optional dependencies (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1165" >#1165</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Cleanup event listeners and remove function creation from init (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1174" >#1174</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> update the request.cookie docs to have a valid cookie example (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1168" >#1168</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> create a detach helper and use detach helper in replace of nextTick (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1171" >#1171</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> in post can send form data and use callback (@MiroRadenovic)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1159" >#1159</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> accept charset for x-www-form-urlencoded content-type (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1157" >#1157</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md: body with json&#x3D;true (@Rob–W)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1164" >#1164</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Disable tests&#x2F;test-timeout.js on Travis (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1153" >#1153</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Document how to run a single test (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1144" >#1144</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> adds documentation for the “response” event within the streaming section (@tbuchok)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1162" >#1162</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update eslintrc file to no longer allow past errors (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1155" >#1155</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support&#x2F;use self everywhere (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1161" >#1161</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix no-use-before-define lint warnings (@emkay)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1156" >#1156</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> adding curly brackets to get rid of lint errors (@emkay)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1151" >#1151</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix localAddress test on OS X (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1145" >#1145</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> documentation: fix outdated reference to setCookieSync old name in README (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1131" >#1131</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update pool documentation (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1143" >#1143</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Rewrite all tests to use tape (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1137" >#1137</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add ability to specifiy querystring lib in options. (@jgrund)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1138" >#1138</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> allow hostname and port in place of host on uri (@cappslock)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1134" >#1134</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix multiple redirects and <code>self.followRedirect</code> (@blakeembrey)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1130" >#1130</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> documentation fix: add note about npm test for contributing (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1120" >#1120</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support&#x2F;refactor request setup tunnel (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1129" >#1129</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: convert double quote strings to use single quotes (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1124" >#1124</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: remove unneccesary semi-colons (@FredKSchott)</li>
</ul>

        <h3 id="v2-45-0-2014-x2F-10-x2F-06"   >
          <a href="#v2-45-0-2014-x2F-10-x2F-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-45-0-2014-x2F-10-x2F-06" class="headerlink" title="v2.45.0 (2014&#x2F;10&#x2F;06)"></a>v2.45.0 (2014&#x2F;10&#x2F;06)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1128" >#1128</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add test for setCookie regression (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1127" >#1127</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> added tests around using objects as values in a query string (@bcoe)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1103" >#1103</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support&#x2F;refactor request constructor (@nylen, @seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1119" >#1119</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add basic linting to request library (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1121" >#1121</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Revert “Explicitly use sync versions of cookie functions” (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1118" >#1118</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: Restructure bad empty if statement (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1117" >#1117</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix a bad check for valid URIs (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1113" >#1113</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: space out operators (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1116" >#1116</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo in <code>noProxyHost</code> definition (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1114" >#1114</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: Added a <code>new</code> operator that was missing when creating and throwing a new error (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1096" >#1096</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> No_proxy support (@samcday)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1107" >#1107</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting-fix: remove unused variables (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1112" >#1112</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: Make return values consistent and more straitforward (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1111" >#1111</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: authPieces was getting redeclared (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1105" >#1105</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use strict mode in request (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1110" >#1110</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: replace lazy ‘&#x3D;&#x3D;’ with more strict ‘&#x3D;&#x3D;&#x3D;’ (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1109" >#1109</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> linting fix: remove function call from if-else conditional statement (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1102" >#1102</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix to allow setting a <code>requester</code> on recursive calls to <code>request.defaults</code> (@tikotzky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1095" >#1095</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Tweaking engines in package.json (@pdehaan)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1082" >#1082</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Forward the socket event from the httpModule request (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/972" >#972</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Clarify gzip handling in the README (@kevinoid)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1089" >#1089</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Mention that encoding defaults to utf8, not Buffer (@stuartpb)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1088" >#1088</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix cookie example in README.md and make it more clear (@pipi32167)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1027" >#1027</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for multipart form data in request options. (@crocket)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1076" >#1076</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> use Request.abort() to abort the request when the request has timed-out (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1068" >#1068</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add optional postamble required by .NET multipart requests (@netpoetica)</li>
</ul>

        <h3 id="v2-43-0-2014-x2F-09-x2F-18"   >
          <a href="#v2-43-0-2014-x2F-09-x2F-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-43-0-2014-x2F-09-x2F-18" class="headerlink" title="v2.43.0 (2014&#x2F;09&#x2F;18)"></a>v2.43.0 (2014&#x2F;09&#x2F;18)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1057" >#1057</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Defaults should not overwrite defined options (@davidwood)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1046" >#1046</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Propagate datastream errors, useful in case gzip fails. (@ZJONSSON, @Janpot)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1063" >#1063</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> copy the input headers object #1060 (@finnp)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1031" >#1031</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Explicitly use sync versions of cookie functions (@ZJONSSON)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1056" >#1056</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix redirects when passing url.parse(x) as URL to convenience method (@nylen)</li>
</ul>

        <h3 id="v2-42-0-2014-x2F-09-x2F-04"   >
          <a href="#v2-42-0-2014-x2F-09-x2F-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-42-0-2014-x2F-09-x2F-04" class="headerlink" title="v2.42.0 (2014&#x2F;09&#x2F;04)"></a>v2.42.0 (2014&#x2F;09&#x2F;04)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1053" >#1053</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix #1051 Parse auth properly when using non-tunneling proxy (@isaacs)</li>
</ul>

        <h3 id="v2-41-0-2014-x2F-09-x2F-04"   >
          <a href="#v2-41-0-2014-x2F-09-x2F-04" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-41-0-2014-x2F-09-x2F-04" class="headerlink" title="v2.41.0 (2014&#x2F;09&#x2F;04)"></a>v2.41.0 (2014&#x2F;09&#x2F;04)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1050" >#1050</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Pass whitelisted headers to tunneling proxy.  Organize all tunneling logic. (@isaacs, @Feldhacker)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1035" >#1035</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> souped up nodei.co badge (@rvagg)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1048" >#1048</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Aws is now possible over a proxy (@steven-aerts)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1039" >#1039</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> extract out helper functions to a helper file (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1021" >#1021</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support&#x2F;refactor indexjs (@seanstrom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1033" >#1033</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improve and document debug options (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1034" >#1034</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix readme headings (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1030" >#1030</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow recursive request.defaults (@tikotzky)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1029" >#1029</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix a couple of typos (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/675" >#675</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Checking for SSL fault on connection before reading SSL properties (@VRMink)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/989" >#989</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added allowRedirect function. Should return true if redirect is allowed or false otherwise (@doronin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1025" >#1025</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> [fixes #1023] Set self._ended to true once response has ended (@mridgway)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1020" >#1020</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add back removed debug metadata (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1008" >#1008</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Moving to  module instead of cutomer buffer concatenation. (@mikeal)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/770" >#770</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added dependency badge for README file; (@timgluz, @mafintosh, @lalitkapoor, @stash, @bobyrizov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1016" >#1016</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> toJSON no longer results in an infinite loop, returns simple objects (@FredKSchott)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1018" >#1018</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove pre-0.4.4 HTTPS fix (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/1006" >#1006</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Migrate to caseless, fixes #1001 (@mikeal)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/995" >#995</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix parsing array of objects (@sjonnet19)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/999" >#999</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix fallback for browserify for optional modules. (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/996" >#996</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Wrong oauth signature when multiple same param keys exist [updated] (@bengl)</li>
</ul>

        <h3 id="v2-40-0-2014-x2F-08-x2F-06"   >
          <a href="#v2-40-0-2014-x2F-08-x2F-06" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-40-0-2014-x2F-08-x2F-06" class="headerlink" title="v2.40.0 (2014&#x2F;08&#x2F;06)"></a>v2.40.0 (2014&#x2F;08&#x2F;06)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/992" >#992</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix security vulnerability. Update qs (@poeticninja)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/988" >#988</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> “–” -&gt; “—” (@upisfree)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/987" >#987</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Show optional modules as being loaded by the module that reqeusted them (@iarna)</li>
</ul>

        <h3 id="v2-39-0-2014-x2F-07-x2F-24"   >
          <a href="#v2-39-0-2014-x2F-07-x2F-24" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-39-0-2014-x2F-07-x2F-24" class="headerlink" title="v2.39.0 (2014&#x2F;07&#x2F;24)"></a>v2.39.0 (2014&#x2F;07&#x2F;24)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/976" >#976</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update README.md (@pvoznenko)</li>
</ul>

        <h3 id="v2-38-0-2014-x2F-07-x2F-22"   >
          <a href="#v2-38-0-2014-x2F-07-x2F-22" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-38-0-2014-x2F-07-x2F-22" class="headerlink" title="v2.38.0 (2014&#x2F;07&#x2F;22)"></a>v2.38.0 (2014&#x2F;07&#x2F;22)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/952" >#952</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adding support to client certificate with proxy use case (@ofirshaked)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/884" >#884</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Documented tough-cookie installation. (@wbyoung)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/935" >#935</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Correct repository url (@fritx)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/963" >#963</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update changelog (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/960" >#960</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support gzip with encoding on node pre-v0.9.4 (@kevinoid)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/953" >#953</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add async Content-Length computation when using form-data (@LoicMahieu)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/844" >#844</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for HTTP[S]_PROXY environment variables.  Fixes #595. (@jvmccarthy)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/946" >#946</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> defaults: merge headers (@aj0strow)</li>
</ul>

        <h3 id="v2-37-0-2014-x2F-07-x2F-07"   >
          <a href="#v2-37-0-2014-x2F-07-x2F-07" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-37-0-2014-x2F-07-x2F-07" class="headerlink" title="v2.37.0 (2014&#x2F;07&#x2F;07)"></a>v2.37.0 (2014&#x2F;07&#x2F;07)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/957" >#957</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Silence EventEmitter memory leak warning #311 (@watson)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/955" >#955</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> check for content-length header before setting it in nextTick (@camilleanne)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/951" >#951</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for gzip content decoding (@kevinoid)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/949" >#949</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Manually enter querystring in form option (@charlespwd)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/944" >#944</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make request work with browserify (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/943" >#943</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> New mime module (@eiriksm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/927" >#927</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bump version of hawk dep. (@samccone)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/907" >#907</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> append secureOptions to poolKey (@medovob)</li>
</ul>

        <h3 id="v2-35-0-2014-x2F-05-x2F-17"   >
          <a href="#v2-35-0-2014-x2F-05-x2F-17" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-35-0-2014-x2F-05-x2F-17" class="headerlink" title="v2.35.0 (2014&#x2F;05&#x2F;17)"></a>v2.35.0 (2014&#x2F;05&#x2F;17)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/901" >#901</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixes #555 (@pigulla)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/897" >#897</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> merge with default options (@vohof)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/891" >#891</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fixes 857 - options object is mutated by calling request (@lalitkapoor)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/869" >#869</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Pipefilter test (@tgohn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/866" >#866</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix typo (@dandv)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/861" >#861</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add support for RFC 6750 Bearer Tokens (@phedny)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/809" >#809</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> upgrade tunnel-proxy to 0.4.0 (@ksato9700)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/850" >#850</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix word consistency in readme (@0xNobody)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/810" >#810</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add some exposition to mpu example in README.md (@mikermcneil)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/840" >#840</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> improve error reporting for invalid protocols (@FND)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/821" >#821</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> added secureOptions back (@nw)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/815" >#815</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Create changelog based on pull requests (@lalitkapoor)</li>
</ul>

        <h3 id="v2-34-0-2014-x2F-02-x2F-18"   >
          <a href="#v2-34-0-2014-x2F-02-x2F-18" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-34-0-2014-x2F-02-x2F-18" class="headerlink" title="v2.34.0 (2014&#x2F;02&#x2F;18)"></a>v2.34.0 (2014&#x2F;02&#x2F;18)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/516" >#516</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> UNIX Socket URL Support (@lyuzashi)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/801" >#801</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> 794 ignore cookie parsing and domain errors (@lalitkapoor)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/802" >#802</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added the Apache license to the package.json. (@keskival)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/793" >#793</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Adds content-length calculation when submitting forms using form-data li… (@Juul)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/785" >#785</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Provide ability to override content-type when <code>json</code> option used (@vvo)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/781" >#781</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> simpler isReadStream function (@joaojeronimo)</li>
</ul>

        <h3 id="v2-32-0-2014-x2F-01-x2F-16"   >
          <a href="#v2-32-0-2014-x2F-01-x2F-16" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-32-0-2014-x2F-01-x2F-16" class="headerlink" title="v2.32.0 (2014&#x2F;01&#x2F;16)"></a>v2.32.0 (2014&#x2F;01&#x2F;16)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/767" >#767</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use tough-cookie CookieJar sync API (@stash)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/764" >#764</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Case-insensitive authentication scheme (@bobyrizov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/763" >#763</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Upgrade tough-cookie to 0.10.0 (@stash)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/744" >#744</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use Cookie.parse (@lalitkapoor)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/757" >#757</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> require aws-sign2 (@mafintosh)</li>
</ul>

        <h3 id="v2-31-0-2014-x2F-01-x2F-08"   >
          <a href="#v2-31-0-2014-x2F-01-x2F-08" class="heading-link"><i class="fas fa-link"></i></a><a href="#v2-31-0-2014-x2F-01-x2F-08" class="headerlink" title="v2.31.0 (2014&#x2F;01&#x2F;08)"></a>v2.31.0 (2014&#x2F;01&#x2F;08)</h3>
      <ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/645" >#645</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> update twitter api url to v1.1 (@mick)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/746" >#746</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> README: Markdown code highlight (@weakish)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/745" >#745</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> updating setCookie example to make it clear that the callback is required (@emkay)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/742" >#742</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add note about JSON output body type (@iansltx)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/741" >#741</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> README example is using old cookie jar api (@emkay)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/736" >#736</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix callback arguments documentation (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/732" >#732</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> JSHINT: Creating global ‘for’ variable. Should be ‘for (var …’. (@Fritz-Lium)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/730" >#730</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> better HTTP DIGEST support (@dai-shi)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/728" >#728</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix TypeError when calling request.cookie (@scarletmeow)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/727" >#727</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix requester bug (@jchris)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/724" >#724</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> README.md: add custom HTTP Headers example. (@tcort)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/719" >#719</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Made a comment gender neutral. (@unsetbit)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/715" >#715</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Request.multipart no longer crashes when header ‘Content-type’ present (@pastaclub)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/710" >#710</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixing listing in callback part of docs. (@lukasz-zak)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/696" >#696</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Edited README.md for formatting and clarity of phrasing (@Zearin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/694" >#694</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Typo in README (@VRMink)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/690" >#690</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Handle blank password in basic auth. (@diversario)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/682" >#682</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Optional dependencies (@Turbo87)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/683" >#683</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Travis CI support (@Turbo87)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/674" >#674</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> change cookie module,to tough-cookie.please check it . (@sxyizhiren)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/666" >#666</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> make <code>ciphers</code> and <code>secureProtocol</code> to work in https request (@richarddong)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/656" >#656</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Test case for #304. (@diversario)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/662" >#662</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> option.tunnel to explicitly disable tunneling (@seanmonstar)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/659" >#659</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix failure when running with NODE_DEBUG&#x3D;request, and a test for that (@jrgm)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/630" >#630</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Send random cnonce for HTTP Digest requests (@wprl)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/619" >#619</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> decouple things a bit (@joaojeronimo)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/613" >#613</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixes #583, moved initialization of self.uri.pathname (@lexander)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/605" >#605</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Only include “:” + pass in Basic Auth if it’s defined (fixes #602) (@bendrucker)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/596" >#596</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Global agent is being used when pool is specified (@Cauldrath)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/594" >#594</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Emit complete event when there is no callback (@RomainLK)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/601" >#601</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed a small typo (@michalstanko)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/589" >#589</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Prevent setting headers after they are sent (@geek)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/587" >#587</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Global cookie jar disabled by default (@threepointone)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/544" >#544</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update http-signature version. (@davidlehn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/581" >#581</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix spelling of “ignoring.” (@bigeasy)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/568" >#568</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> use agentOptions to create agent when specified in request (@SamPlacette)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/564" >#564</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix redirections (@criloz)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/541" >#541</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> The exported request function doesn’t have an auth method (@tschaub)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/542" >#542</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Expose Request class (@regality)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/536" >#536</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow explicitly empty user field for basic authentication. (@mikeando)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/532" >#532</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix typo (@fredericosilva)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/497" >#497</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added redirect event (@Cauldrath)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/503" >#503</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix basic auth for passwords that contain colons (@tonistiigi)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/521" >#521</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Improving test-localAddress.js (@noway)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/529" >#529</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> dependencies versions bump (@jodaka)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/523" >#523</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Updating dependencies (@noway)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/520" >#520</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixing test-tunnel.js (@noway)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/519" >#519</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update internal path state on post-creation QS changes (@jblebrun)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/510" >#510</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add HTTP Signature support. (@davidlehn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/502" >#502</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix POST (and probably other) requests that are retried after 401 Unauthorized (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/508" >#508</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Honor the .strictSSL option when using proxies (tunnel-agent) (@jhs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/512" >#512</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make password optional to support the format: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://username@hostname/" >http://username@hostname/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (@pajato1)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/513" >#513</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add ‘localAddress’ support (@yyfrankyy)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/498" >#498</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Moving response emit above setHeaders on destination streams (@kenperkins)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/490" >#490</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Empty response body (3-rd argument) must be passed to callback as an empty string (@Olegas)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/479" >#479</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Changing so if Accept header is explicitly set, sending json does not ov… (@RoryH)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/475" >#475</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Use <code>unescape</code> from <code>querystring</code> (@shimaore)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/473" >#473</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> V0.10 compat (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/471" >#471</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Using querystring library from visionmedia (@kbackowski)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/461" >#461</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Strip the UTF8 BOM from a UTF encoded response (@kppullin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/460" >#460</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> hawk 0.10.0 (@hueniverse)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/462" >#462</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> if query params are empty, then request path shouldn’t end with a ‘?’ (merges cleanly now) (@jaipandya)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/456" >#456</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> hawk 0.9.0 (@hueniverse)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/429" >#429</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Copy options before adding callback. (@nrn, @nfriedly, @youurayy, @jplock, @kapetan, @landeiro, @othiym23, @mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/454" >#454</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Destroy the response if present when destroying the request (clean merge) (@mafintosh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/310" >#310</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Twitter Oauth Stuff Out of Date; Now Updated (@joemccann, @isaacs, @mscdex)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/413" >#413</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> rename googledoodle.png to .jpg (@nfriedly, @youurayy, @jplock, @kapetan, @landeiro, @othiym23, @mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/448" >#448</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Convenience method for PATCH (@mloar)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/444" >#444</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> protect against double callbacks on error path (@spollack)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/433" >#433</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added support for HTTPS cert &amp; key (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/430" >#430</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Respect specified {Host,host} headers, not just {host} (@andrewschaaf)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/415" >#415</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed a typo. (@jerem)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/338" >#338</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add more auth options, including digest support (@nylen)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/403" >#403</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Optimize environment lookup to happen once only (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/398" >#398</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add more reporting to tests (@mmalecki)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/388" >#388</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Ensure “safe” toJSON doesn’t break EventEmitters (@othiym23)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/381" >#381</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Resolving “Invalid signature. Expected signature base string: “ (@landeiro)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/380" >#380</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixes missing host header on retried request when using forever agent (@mac-)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/376" >#376</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Headers lost on redirect (@kapetan)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/375" >#375</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix for missing oauth_timestamp parameter (@jplock)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/374" >#374</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Correct Host header for proxy tunnel CONNECT (@youurayy)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/370" >#370</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Twitter reverse auth uses x_auth_mode not x_auth_type (@drudge)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/369" >#369</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Don’t remove x_auth_mode for Twitter reverse auth (@drudge)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/344" >#344</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make AWS auth signing find headers correctly (@nlf)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/363" >#363</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> rfc3986 on base_uri, now passes tests (@jeffmarshall)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/362" >#362</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Running <code>rfc3986</code> on <code>base_uri</code> in <code>oauth.hmacsign</code> instead of just <code>encodeURIComponent</code> (@jeffmarshall)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/361" >#361</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Don’t create a Content-Length header if we already have it set (@danjenkins)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/360" >#360</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Delete self._form along with everything else on redirect (@jgautier)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/355" >#355</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> stop sending erroneous headers on redirected requests (@azylman)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/332" >#332</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix #296 - Only set Content-Type if body exists (@Marsup)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/343" >#343</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow AWS to work in more situations, added a note in the README on its usage (@nlf)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/320" >#320</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> request.defaults() doesn’t need to wrap jar() (@StuartHarris)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/322" >#322</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix + test for piped into request bumped into redirect. #321 (@alexindigo)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/326" >#326</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Do not try to remove listener from an undefined connection (@CartoDB)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/318" >#318</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Pass servername to tunneling secure socket creation (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/317" >#317</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Workaround for #313 (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/293" >#293</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Allow parser errors to bubble up to request (@mscdex)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/290" >#290</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> A test for #289 (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/280" >#280</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Like in node.js print options if NODE_DEBUG contains the word request (@Filirom1)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/207" >#207</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix #206 Change HTTP&#x2F;HTTPS agent when redirecting between protocols (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/214" >#214</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> documenting additional behavior of json option (@jphaas, @vpulim)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/272" >#272</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Boundary begins with CRLF? (@elspoono, @timshadel, @naholyr, @nanodocumet, @TehShrike)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/284" >#284</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove stray <code>console.log()</code> call in multipart generator. (@bcherry)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/241" >#241</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Composability updates suggested by issue #239 (@polotek)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/282" >#282</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> OAuth Authorization header contains non-“oauth_” parameters (@jplock)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/279" >#279</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix tests with boundary by injecting boundry from header (@benatkin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/273" >#273</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Pipe back pressure issue (@mafintosh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/268" >#268</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> I’m not OCD seriously (@TehShrike)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/263" >#263</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bug in OAuth key generation for sha1 (@nanodocumet)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/265" >#265</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> uncaughtException when redirected to invalid URI (@naholyr)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/262" >#262</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> JSON test should check for equality (@timshadel)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/261" >#261</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Setting ‘pool’ to ‘false’ does NOT disable Agent pooling (@timshadel)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/249" >#249</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix for the fix of your (closed) issue #89 where self.headers[content-length] is set to 0 for all methods (@sethbridges, @polotek, @zephrax, @jeromegn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/255" >#255</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> multipart allow body &#x3D;&#x3D;&#x3D; ‘’ ( the empty string ) (@Filirom1)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/260" >#260</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fixed just another leak of ‘i’ (@sreuter)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/246" >#246</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixing the set-cookie header (@jeromegn)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/243" >#243</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Dynamic boundary (@zephrax)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/240" >#240</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> don’t error when null is passed for options (@polotek)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/211" >#211</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Replace all occurrences of special chars in RFC3986 (@chriso, @vpulim)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/224" >#224</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Multipart content-type change (@janjongboom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/217" >#217</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> need to use Authorization (titlecase) header with Tumblr OAuth (@visnup)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/203" >#203</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix cookie and redirect bugs and add auth support for HTTPS tunnel (@vpulim)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/199" >#199</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Tunnel (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/198" >#198</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bugfix on forever usage of util.inherits (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/197" >#197</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Make ForeverAgent work with HTTPS (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/193" >#193</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixes GH-119 (@goatslacker)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/188" >#188</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Add abort support to the returned request (@itay)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/176" >#176</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Querystring option (@csainty)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/182" >#182</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix request.defaults to support (uri, options, callback) api (@twilson63)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/180" >#180</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Modified the post, put, head and del shortcuts to support uri optional param (@twilson63)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/179" >#179</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fix to add opts in .pipe(stream, opts) (@substack)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/177" >#177</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Issue #173 Support uri as first and optional config as second argument (@twilson63)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/170" >#170</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> can’t create a cookie in a wrapped request (defaults) (@fabianonunes)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/168" >#168</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Picking off an EasyFix by adding some missing mimetypes. (@serby)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/161" >#161</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix cookie jar&#x2F;headers.cookie collision (#125) (@papandreou)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/162" >#162</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix issue #159 (@dpetukhov)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/90" >#90</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add option followAllRedirects to follow post&#x2F;put redirects (@jroes)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/148" >#148</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Retry Agent (@thejh)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/146" >#146</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Multipart should respect content-type if previously set (@apeace)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/144" >#144</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> added “form” option to readme (@petejkim)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/133" >#133</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fixed cookies parsing (@afanasy)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/135" >#135</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> host vs hostname (@iangreenleaf)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/132" >#132</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> return the body as a Buffer when encoding is set to null (@jahewson)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/112" >#112</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Support using a custom http-like module (@jhs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/104" >#104</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Cookie handling contains bugs (@janjongboom)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/121" >#121</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Another patch for cookie handling regression (@jhurliman)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/117" >#117</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Remove the global <code>i</code> (@3rd-Eden)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/110" >#110</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Update to Iris Couch URL (@jhs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/86" >#86</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Can’t post binary to multipart requests (@kkaefer)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/105" >#105</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> added test for proxy option. (@dominictarr)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/102" >#102</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Implemented cookies - closes issue 82: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/mikeal/request/issues/82" >https://github.com/mikeal/request/issues/82</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (@alessioalex)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/97" >#97</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Typo in previous pull causes TypeError in non-0.5.11 versions (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/96" >#96</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Authless parsed url host support (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/81" >#81</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Enhance redirect handling (@danmactough)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/78" >#78</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Don’t try to do strictSSL for non-ssl connections (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/76" >#76</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Bug when a request fails and a timeout is set (@Marsup)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/70" >#70</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> add test script to package.json (@isaacs, @aheckmann)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/73" >#73</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Fix #71 Respect the strictSSL flag (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/69" >#69</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Flatten chunked requests properly (@isaacs)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/67" >#67</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> fixed global variable leaks (@aheckmann)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/66" >#66</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Do not overwrite established content-type headers for read stream deliver (@voodootikigod)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/53" >#53</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Parse json: Issue #51 (@benatkin)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/45" >#45</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Added timeout option (@mbrevoort)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/35" >#35</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> The “end” event isn’t emitted for some responses (@voxpelli)</li>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/request/request/pull/31" >#31</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> Error on piping a request to a destination (@tobowers)</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/qs/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2017-06-15</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="qs"   >
          <a href="#qs" class="heading-link"><i class="fas fa-link"></i></a><a href="#qs" class="headerlink" title="qs "></a>qs <sup><a target="_blank" rel="noopener" href="https://npmjs.org/package/qs"><img src="http://versionbadg.es/ljharb/qs.svg" alt="Version Badge"></a></sup></h1>
      <p><a target="_blank" rel="noopener" href="https://travis-ci.org/ljharb/qs"><img src="https://api.travis-ci.org/ljharb/qs.svg" alt="Build Status"></a><br><a target="_blank" rel="noopener" href="https://david-dm.org/ljharb/qs"><img src="https://david-dm.org/ljharb/qs.svg" alt="dependency status"></a><br><a target="_blank" rel="noopener" href="https://david-dm.org/ljharb/qs?type=dev"><img src="https://david-dm.org/ljharb/qs/dev-status.svg" alt="dev dependency status"></a><br><a href="LICENSE"><img src="http://img.shields.io/npm/l/qs.svg" alt="License"></a><br><a target="_blank" rel="noopener" href="http://npm-stat.com/charts.html?package=qs"><img src="http://img.shields.io/npm/dm/qs.svg" alt="Downloads"></a></p>
<p><a target="_blank" rel="noopener" href="https://npmjs.org/package/qs"><img   src="https://nodei.co/npm/qs.png?downloads=true&stars=true" style=""  alt="npm badge"></a></p>
<p>A querystring parsing and stringifying library with some added security.</p>
<p>Lead Maintainer: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/ljharb" >Jordan Harband</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>The <strong>qs</strong> module was originally created and maintained by <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/visionmedia/node-querystring" >TJ Holowaychuk</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Usage"   >
          <a href="#Usage" class="heading-link"><i class="fas fa-link"></i></a><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2>
      <figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;qs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> assert = <span class="built_in">require</span>(<span class="string">&#x27;assert&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(obj, &#123; <span class="attr">a</span>: <span class="string">&#x27;c&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = qs.<span class="title function_">stringify</span>(obj);</span><br><span class="line">assert.<span class="title function_">equal</span>(str, <span class="string">&#x27;a=c&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Parsing-Objects"   >
          <a href="#Parsing-Objects" class="heading-link"><i class="fas fa-link"></i></a><a href="#Parsing-Objects" class="headerlink" title="Parsing Objects"></a>Parsing Objects</h3>
      <p><a href="#preventEval"></a></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">parse</span>(string, [options]);</span><br></pre></td></tr></table></div></figure>

<p><strong>qs</strong> allows you to create nested objects within your query strings, by surrounding the name of sub-keys with square brackets <code>[]</code>.<br>For example, the string <code>&#39;foo[bar]=baz&#39;</code> converts to:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">deepEqual</span>(qs.<span class="title function_">parse</span>(<span class="string">&#x27;foo[bar]=baz&#x27;</span>), &#123;</span><br><span class="line">    <span class="attr">foo</span>: &#123;</span><br><span class="line">        <span class="attr">bar</span>: <span class="string">&#x27;baz&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>When using the <code>plainObjects</code> option the parsed value is returned as a null object, created via <code>Object.create(null)</code> and as such you should be aware that prototype methods will not exist on it and a user may set those names to whatever value they like:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nullObject = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[hasOwnProperty]=b&#x27;</span>, &#123; <span class="attr">plainObjects</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(nullObject, &#123; <span class="attr">a</span>: &#123; <span class="attr">hasOwnProperty</span>: <span class="string">&#x27;b&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>By default parameters that would overwrite properties on the object prototype are ignored, if you wish to keep the data from those fields either use <code>plainObjects</code> as mentioned above, or set <code>allowPrototypes</code> to <code>true</code> which will allow user input to overwrite those properties. <em>WARNING</em> It is generally a bad idea to enable this option as it can cause problems when attempting to use the properties that have been overwritten. Always be careful with this option.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> protoObject = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[hasOwnProperty]=b&#x27;</span>, &#123; <span class="attr">allowPrototypes</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(protoObject, &#123; <span class="attr">a</span>: &#123; <span class="attr">hasOwnProperty</span>: <span class="string">&#x27;b&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>URI encoded strings work too:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">deepEqual</span>(qs.<span class="title function_">parse</span>(<span class="string">&#x27;a%5Bb%5D=c&#x27;</span>), &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>You can also nest your objects, like <code>&#39;foo[bar][baz]=foobarbaz&#39;</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">deepEqual</span>(qs.<span class="title function_">parse</span>(<span class="string">&#x27;foo[bar][baz]=foobarbaz&#x27;</span>), &#123;</span><br><span class="line">    <span class="attr">foo</span>: &#123;</span><br><span class="line">        <span class="attr">bar</span>: &#123;</span><br><span class="line">            <span class="attr">baz</span>: <span class="string">&#x27;foobarbaz&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></div></figure>

<p>By default, when nesting objects <strong>qs</strong> will only parse up to 5 children deep. This means if you attempt to parse a string like<br><code>&#39;a[b][c][d][e][f][g][h][i]=j&#39;</code> your resulting object will be:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> expected = &#123;</span><br><span class="line">    <span class="attr">a</span>: &#123;</span><br><span class="line">        <span class="attr">b</span>: &#123;</span><br><span class="line">            <span class="attr">c</span>: &#123;</span><br><span class="line">                <span class="attr">d</span>: &#123;</span><br><span class="line">                    <span class="attr">e</span>: &#123;</span><br><span class="line">                        <span class="attr">f</span>: &#123;</span><br><span class="line">                            <span class="string">&#x27;[g][h][i]&#x27;</span>: <span class="string">&#x27;j&#x27;</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&#x27;a[b][c][d][e][f][g][h][i]=j&#x27;</span>;</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(qs.<span class="title function_">parse</span>(string), expected);</span><br></pre></td></tr></table></div></figure>

<p>This depth can be overridden by passing a <code>depth</code> option to <code>qs.parse(string, [options])</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deep = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[b][c][d][e][f][g][h][i]=j&#x27;</span>, &#123; <span class="attr">depth</span>: <span class="number">1</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(deep, &#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: &#123; <span class="string">&#x27;[c][d][e][f][g][h][i]&#x27;</span>: <span class="string">&#x27;j&#x27;</span> &#125; &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>The depth limit helps mitigate abuse when <strong>qs</strong> is used to parse user input, and it is recommended to keep it a reasonably small number.</p>
<p>For similar reasons, by default <strong>qs</strong> will only parse up to 1000 parameters. This can be overridden by passing a <code>parameterLimit</code> option:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> limited = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a=b&amp;c=d&#x27;</span>, &#123; <span class="attr">parameterLimit</span>: <span class="number">1</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(limited, &#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>To bypass the leading question mark, use <code>ignoreQueryPrefix</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prefixed = qs.<span class="title function_">parse</span>(<span class="string">&#x27;?a=b&amp;c=d&#x27;</span>, &#123; <span class="attr">ignoreQueryPrefix</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(prefixed, &#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>An optional delimiter can also be passed:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> delimited = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a=b;c=d&#x27;</span>, &#123; <span class="attr">delimiter</span>: <span class="string">&#x27;;&#x27;</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(delimited, &#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>Delimiters can be a regular expression too:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regexed = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a=b;c=d,e=f&#x27;</span>, &#123; <span class="attr">delimiter</span>: <span class="regexp">/[;,]/</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(regexed, &#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span>, <span class="attr">e</span>: <span class="string">&#x27;f&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>Option <code>allowDots</code> can be used to enable dot notation:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withDots = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a.b=c&#x27;</span>, &#123; <span class="attr">allowDots</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withDots, &#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Parsing-Arrays"   >
          <a href="#Parsing-Arrays" class="heading-link"><i class="fas fa-link"></i></a><a href="#Parsing-Arrays" class="headerlink" title="Parsing Arrays"></a>Parsing Arrays</h3>
      <p><strong>qs</strong> can also parse arrays using a similar <code>[]</code> notation:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withArray = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[]=b&amp;a[]=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withArray, &#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;);</span><br></pre></td></tr></table></div></figure>

<p>You may specify an index as well:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withIndexes = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[1]=c&amp;a[0]=b&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withIndexes, &#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;);</span><br></pre></td></tr></table></div></figure>

<p>Note that the only difference between an index in an array and a key in an object is that the value between the brackets must be a number<br>to create an array. When creating arrays with specific indices, <strong>qs</strong> will compact a sparse array to only the existing values preserving<br>their order:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> noSparse = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[1]=b&amp;a[15]=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(noSparse, &#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;);</span><br></pre></td></tr></table></div></figure>

<p>Note that an empty string is also a value, and will be preserved:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withEmptyString = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[]=&amp;a[]=b&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withEmptyString, &#123; <span class="attr">a</span>: [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;b&#x27;</span>] &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> withIndexedEmptyString = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[0]=b&amp;a[1]=&amp;a[2]=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withIndexedEmptyString, &#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;);</span><br></pre></td></tr></table></div></figure>

<p><strong>qs</strong> will also limit specifying indices in an array to a maximum index of <code>20</code>. Any array members with an index of greater than <code>20</code> will<br>instead be converted to an object with the index as the key:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withMaxIndex = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[100]=b&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withMaxIndex, &#123; <span class="attr">a</span>: &#123; <span class="string">&#x27;100&#x27;</span>: <span class="string">&#x27;b&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>This limit can be overridden by passing an <code>arrayLimit</code> option:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withArrayLimit = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[1]=b&#x27;</span>, &#123; <span class="attr">arrayLimit</span>: <span class="number">0</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(withArrayLimit, &#123; <span class="attr">a</span>: &#123; <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;b&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>To disable array parsing entirely, set <code>parseArrays</code> to <code>false</code>.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> noParsingArrays = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[]=b&#x27;</span>, &#123; <span class="attr">parseArrays</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(noParsingArrays, &#123; <span class="attr">a</span>: &#123; <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;b&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>If you mix notations, <strong>qs</strong> will merge the two items into an object:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mixedNotation = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[0]=b&amp;a[b]=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(mixedNotation, &#123; <span class="attr">a</span>: &#123; <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125; &#125;);</span><br></pre></td></tr></table></div></figure>

<p>You can also create arrays of objects:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arraysOfObjects = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a[][b]=c&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(arraysOfObjects, &#123; <span class="attr">a</span>: [&#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125;] &#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Stringifying"   >
          <a href="#Stringifying" class="heading-link"><i class="fas fa-link"></i></a><a href="#Stringifying" class="headerlink" title="Stringifying"></a>Stringifying</h3>
      <p><a href="#preventEval"></a></p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(object, [options]);</span><br></pre></td></tr></table></div></figure>

<p>When stringifying, <strong>qs</strong> by default URI encodes output. Objects are stringified as you would expect:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span> &#125;), <span class="string">&#x27;a=b&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125; &#125;), <span class="string">&#x27;a%5Bb%5D=c&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>This encoding can be disabled by setting the <code>encode</code> option to <code>false</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> unencoded = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125; &#125;, &#123; <span class="attr">encode</span>: <span class="literal">false</span> &#125;);</span><br><span class="line">assert.<span class="title function_">equal</span>(unencoded, <span class="string">&#x27;a[b]=c&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>Encoding can be disabled for keys by setting the <code>encodeValuesOnly</code> option to <code>true</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> encodedValues = qs.<span class="title function_">stringify</span>(</span><br><span class="line">    &#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e=f&#x27;</span>], <span class="attr">f</span>: [[<span class="string">&#x27;g&#x27;</span>], [<span class="string">&#x27;h&#x27;</span>]] &#125;,</span><br><span class="line">    &#123; <span class="attr">encodeValuesOnly</span>: <span class="literal">true</span> &#125;</span><br><span class="line">);</span><br><span class="line">assert.<span class="title function_">equal</span>(encodedValues,<span class="string">&#x27;a=b&amp;c[0]=d&amp;c[1]=e%3Df&amp;f[0][0]=g&amp;f[1][0]=h&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>This encoding can also be replaced by a custom encoding method set as <code>encoder</code> option:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> encoded = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span> &#125; &#125;, &#123; <span class="attr">encoder</span>: <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="comment">// Passed in values `a`, `b`, `c`</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// Return encoded string</span></span><br><span class="line">&#125;&#125;)</span><br></pre></td></tr></table></div></figure>

<p><em>(Note: the <code>encoder</code> option does not apply if <code>encode</code> is <code>false</code>)</em></p>
<p>Analogue to the <code>encoder</code> there is a <code>decoder</code> option for <code>parse</code> to override decoding of properties and values:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> decoded = qs.<span class="title function_">parse</span>(<span class="string">&#x27;x=z&#x27;</span>, &#123; <span class="attr">decoder</span>: <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="comment">// Passed in values `x`, `z`</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// Return decoded string</span></span><br><span class="line">&#125;&#125;)</span><br></pre></td></tr></table></div></figure>

<p>Examples beyond this point will be shown as though the output is not URI encoded for clarity. Please note that the return values in these cases <em>will</em> be URI encoded during real usage.</p>
<p>When arrays are stringified, by default they are given explicit indices:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>] &#125;);</span><br><span class="line"><span class="comment">// &#x27;a[0]=b&amp;a[1]=c&amp;a[2]=d&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>You may override this by setting the <code>indices</code> option to <code>false</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>] &#125;, &#123; <span class="attr">indices</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="comment">// &#x27;a=b&amp;a=c&amp;a=d&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>You may use the <code>arrayFormat</code> option to specify the format of the output array:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;, &#123; <span class="attr">arrayFormat</span>: <span class="string">&#x27;indices&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// &#x27;a[0]=b&amp;a[1]=c&#x27;</span></span><br><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;, &#123; <span class="attr">arrayFormat</span>: <span class="string">&#x27;brackets&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// &#x27;a[]=b&amp;a[]=c&#x27;</span></span><br><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>] &#125;, &#123; <span class="attr">arrayFormat</span>: <span class="string">&#x27;repeat&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// &#x27;a=b&amp;a=c&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>When objects are stringified, by default they use bracket notation:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span>, <span class="attr">e</span>: <span class="string">&#x27;f&#x27;</span> &#125; &#125; &#125;);</span><br><span class="line"><span class="comment">// &#x27;a[b][c]=d&amp;a[b][e]=f&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>You may override this to use dot notation by setting the <code>allowDots</code> option to <code>true</code>:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span>, <span class="attr">e</span>: <span class="string">&#x27;f&#x27;</span> &#125; &#125; &#125;, &#123; <span class="attr">allowDots</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">// &#x27;a.b.c=d&amp;a.b.e=f&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>Empty strings and null values will omit the value, but the equals sign (&#x3D;) remains in place:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;&#x27;</span> &#125;), <span class="string">&#x27;a=&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>Key with no values (such as an empty object or array) will return nothing:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [] &#125;), <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123;&#125; &#125;), <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [&#123;&#125;] &#125;), <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: []&#125; &#125;), <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: &#123; <span class="attr">b</span>: &#123;&#125;&#125; &#125;), <span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>Properties that are set to <code>undefined</code> will be omitted entirely:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="literal">null</span>, <span class="attr">b</span>: <span class="literal">undefined</span> &#125;), <span class="string">&#x27;a=&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>The query string may optionally be prepended with a question mark:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span> &#125;, &#123; <span class="attr">addQueryPrefix</span>: <span class="literal">true</span> &#125;), <span class="string">&#x27;?a=b&amp;c=d&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>The delimiter may be overridden with stringify as well:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span> &#125;, &#123; <span class="attr">delimiter</span>: <span class="string">&#x27;;&#x27;</span> &#125;), <span class="string">&#x27;a=b;c=d&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>If you only want to override the serialization of <code>Date</code> objects, you can provide a <code>serializeDate</code> option:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">7</span>);</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: date &#125;), <span class="string">&#x27;a=1970-01-01T00:00:00.007Z&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/:/g</span>, <span class="string">&#x27;%3A&#x27;</span>));</span><br><span class="line">assert.<span class="title function_">equal</span>(</span><br><span class="line">    qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: date &#125;, &#123; <span class="attr">serializeDate</span>: <span class="keyword">function</span> (<span class="params">d</span>) &#123; <span class="keyword">return</span> d.<span class="title function_">getTime</span>(); &#125; &#125;),</span><br><span class="line">    <span class="string">&#x27;a=7&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></div></figure>

<p>You may use the <code>sort</code> option to affect the order of parameter keys:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">alphabeticalSort</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.<span class="title function_">localeCompare</span>(b);</span><br><span class="line">&#125;</span><br><span class="line">assert.<span class="title function_">equal</span>(qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;c&#x27;</span>, <span class="attr">z</span>: <span class="string">&#x27;y&#x27;</span>, b : <span class="string">&#x27;f&#x27;</span> &#125;, &#123; <span class="attr">sort</span>: alphabeticalSort &#125;), <span class="string">&#x27;a=c&amp;b=f&amp;z=y&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>Finally, you can use the <code>filter</code> option to restrict which keys will be included in the stringified output.<br>If you pass a function, it will be called for each key to obtain the replacement value. Otherwise, if you<br>pass an array, it will be used to select properties and array indices for stringification:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">filterFunc</span>(<span class="params">prefix, value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (prefix == <span class="string">&#x27;b&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// Return an `undefined` value to omit a property.</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (prefix == <span class="string">&#x27;e[f]&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> value.<span class="title function_">getTime</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (prefix == <span class="string">&#x27;e[g][0]&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> value * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span>, <span class="attr">e</span>: &#123; <span class="attr">f</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">123</span>), <span class="attr">g</span>: [<span class="number">2</span>] &#125; &#125;, &#123; <span class="attr">filter</span>: filterFunc &#125;);</span><br><span class="line"><span class="comment">// &#x27;a=b&amp;c=d&amp;e[f]=123&amp;e[g][0]=4&#x27;</span></span><br><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="string">&#x27;d&#x27;</span>, <span class="attr">e</span>: <span class="string">&#x27;f&#x27;</span> &#125;, &#123; <span class="attr">filter</span>: [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;e&#x27;</span>] &#125;);</span><br><span class="line"><span class="comment">// &#x27;a=b&amp;e=f&#x27;</span></span><br><span class="line">qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>], <span class="attr">e</span>: <span class="string">&#x27;f&#x27;</span> &#125;, &#123; <span class="attr">filter</span>: [<span class="string">&#x27;a&#x27;</span>, <span class="number">0</span>, <span class="number">2</span>] &#125;);</span><br><span class="line"><span class="comment">// &#x27;a[0]=b&amp;a[2]=d&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="Handling-of-null-values"   >
          <a href="#Handling-of-null-values" class="heading-link"><i class="fas fa-link"></i></a><a href="#Handling-of-null-values" class="headerlink" title="Handling of null values"></a>Handling of <code>null</code> values</h3>
      <p>By default, <code>null</code> values are treated like empty strings:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> withNull = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="literal">null</span>, <span class="attr">b</span>: <span class="string">&#x27;&#x27;</span> &#125;);</span><br><span class="line">assert.<span class="title function_">equal</span>(withNull, <span class="string">&#x27;a=&amp;b=&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>Parsing does not distinguish between parameters with and without equal signs. Both are converted to empty strings.</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> equalsInsensitive = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a&amp;b=&#x27;</span>);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(equalsInsensitive, &#123; <span class="attr">a</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>To distinguish between <code>null</code> values and empty strings use the <code>strictNullHandling</code> flag. In the result string the <code>null</code><br>values have no <code>=</code> sign:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> strictNull = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="literal">null</span>, <span class="attr">b</span>: <span class="string">&#x27;&#x27;</span> &#125;, &#123; <span class="attr">strictNullHandling</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">equal</span>(strictNull, <span class="string">&#x27;a&amp;b=&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>To parse values without <code>=</code> back to <code>null</code> use the <code>strictNullHandling</code> flag:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> parsedStrictNull = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a&amp;b=&#x27;</span>, &#123; <span class="attr">strictNullHandling</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(parsedStrictNull, &#123; <span class="attr">a</span>: <span class="literal">null</span>, <span class="attr">b</span>: <span class="string">&#x27;&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>

<p>To completely skip rendering keys with <code>null</code> values, use the <code>skipNulls</code> flag:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nullsSkipped = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span>, <span class="attr">c</span>: <span class="literal">null</span>&#125;, &#123; <span class="attr">skipNulls</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">assert.<span class="title function_">equal</span>(nullsSkipped, <span class="string">&#x27;a=b&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h3 id="Dealing-with-special-character-sets"   >
          <a href="#Dealing-with-special-character-sets" class="heading-link"><i class="fas fa-link"></i></a><a href="#Dealing-with-special-character-sets" class="headerlink" title="Dealing with special character sets"></a>Dealing with special character sets</h3>
      <p>By default the encoding and decoding of characters is done in <code>utf-8</code>. If you<br>wish to encode querystrings to a different character set (i.e.<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Shift_JIS" >Shift JIS</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>) you can use the<br><a target="_blank" rel="noopener" href="https://github.com/martinheidegger/qs-iconv"><code>qs-iconv</code></a> library:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> encoder = <span class="built_in">require</span>(<span class="string">&#x27;qs-iconv/encoder&#x27;</span>)(<span class="string">&#x27;shift_jis&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> shiftJISEncoded = qs.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;こんにちは！&#x27;</span> &#125;, &#123; <span class="attr">encoder</span>: encoder &#125;);</span><br><span class="line">assert.<span class="title function_">equal</span>(shiftJISEncoded, <span class="string">&#x27;a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I&#x27;</span>);</span><br></pre></td></tr></table></div></figure>

<p>This also works for decoding of query strings:</p>
<figure class="highlight javascript"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> decoder = <span class="built_in">require</span>(<span class="string">&#x27;qs-iconv/decoder&#x27;</span>)(<span class="string">&#x27;shift_jis&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> obj = qs.<span class="title function_">parse</span>(<span class="string">&#x27;a=%82%B1%82%F1%82%C9%82%BF%82%CD%81I&#x27;</span>, &#123; <span class="attr">decoder</span>: decoder &#125;);</span><br><span class="line">assert.<span class="title function_">deepEqual</span>(obj, &#123; <span class="attr">a</span>: <span class="string">&#x27;こんにちは！&#x27;</span> &#125;);</span><br></pre></td></tr></table></div></figure>


        <h3 id="RFC-3986-and-RFC-1738-space-encoding"   >
          <a href="#RFC-3986-and-RFC-1738-space-encoding" class="heading-link"><i class="fas fa-link"></i></a><a href="#RFC-3986-and-RFC-1738-space-encoding" class="headerlink" title="RFC 3986 and RFC 1738 space encoding"></a>RFC 3986 and RFC 1738 space encoding</h3>
      <p>RFC3986 used as default option and encodes ‘ ‘ to <em>%20</em> which is backward compatible.<br>In the same time, output can be stringified as per RFC1738 with ‘ ‘ equal to ‘+’.</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">assert.equal(qs.stringify(&#123; a: &#x27;b c&#x27; &#125;), &#x27;a=b%20c&#x27;);</span><br><span class="line">assert.equal(qs.stringify(&#123; a: &#x27;b c&#x27; &#125;, &#123; format : &#x27;RFC3986&#x27; &#125;), &#x27;a=b%20c&#x27;);</span><br><span class="line">assert.equal(qs.stringify(&#123; a: &#x27;b c&#x27; &#125;, &#123; format : &#x27;RFC1738&#x27; &#125;), &#x27;a=b+c&#x27;);</span><br></pre></td></tr></table></div></figure>

</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/qs/CHANGELOG/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2018-05-04</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="6-5-2"   >
          <a href="#6-5-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-5-2" class="headerlink" title="6.5.2"></a><strong>6.5.2</strong></h2>
      <ul>
<li>[Fix] use <code>safer-buffer</code> instead of <code>Buffer</code> constructor</li>
<li>[Refactor] utils: <code>module.exports</code> one thing, instead of mutating <code>exports</code> (#230)</li>
<li>[Dev Deps] update <code>browserify</code>, <code>eslint</code>, <code>iconv-lite</code>, <code>safer-buffer</code>, <code>tape</code>, <code>browserify</code></li>
</ul>

        <h2 id="6-5-1"   >
          <a href="#6-5-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-5-1" class="headerlink" title="6.5.1"></a><strong>6.5.1</strong></h2>
      <ul>
<li>[Fix] Fix parsing &amp; compacting very deep objects (#224)</li>
<li>[Refactor] name utils functions</li>
<li>[Dev Deps] update <code>eslint</code>, <code>@ljharb/eslint-config</code>, <code>tape</code></li>
<li>[Tests] up to <code>node</code> <code>v8.4</code>; use <code>nvm install-latest-npm</code> so newer npm doesn’t break older node</li>
<li>[Tests] Use precise dist for Node.js 0.6 runtime (#225)</li>
<li>[Tests] make 0.6 required, now that it’s passing</li>
<li>[Tests] on <code>node</code> <code>v8.2</code>; fix npm on node 0.6</li>
</ul>

        <h2 id="6-5-0"   >
          <a href="#6-5-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-5-0" class="headerlink" title="6.5.0"></a><strong>6.5.0</strong></h2>
      <ul>
<li>[New] add <code>utils.assign</code></li>
<li>[New] pass default encoder&#x2F;decoder to custom encoder&#x2F;decoder functions (#206)</li>
<li>[New] <code>parse</code>&#x2F;<code>stringify</code>: add <code>ignoreQueryPrefix</code>&#x2F;<code>addQueryPrefix</code> options, respectively (#213)</li>
<li>[Fix] Handle stringifying empty objects with addQueryPrefix (#217)</li>
<li>[Fix] do not mutate <code>options</code> argument (#207)</li>
<li>[Refactor] <code>parse</code>: cache index to reuse in else statement (#182)</li>
<li>[Docs] add various badges to readme (#208)</li>
<li>[Dev Deps] update <code>eslint</code>, <code>browserify</code>, <code>iconv-lite</code>, <code>tape</code></li>
<li>[Tests] up to <code>node</code> <code>v8.1</code>, <code>v7.10</code>, <code>v6.11</code>; npm v4.6 breaks on node &lt; v1; npm v5+ breaks on node &lt; v4</li>
<li>[Tests] add <code>editorconfig-tools</code></li>
</ul>

        <h2 id="6-4-0"   >
          <a href="#6-4-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-4-0" class="headerlink" title="6.4.0"></a><strong>6.4.0</strong></h2>
      <ul>
<li>[New] <code>qs.stringify</code>: add <code>encodeValuesOnly</code> option</li>
<li>[Fix] follow <code>allowPrototypes</code> option during merge (#201, #201)</li>
<li>[Fix] support keys starting with brackets (#202, #200)</li>
<li>[Fix] chmod a-x</li>
<li>[Dev Deps] update <code>eslint</code></li>
<li>[Tests] up to <code>node</code> <code>v7.7</code>, <code>v6.10</code>,<code> v4.8</code>; disable osx builds since they block linux builds</li>
<li>[eslint] reduce warnings</li>
</ul>

        <h2 id="6-3-2"   >
          <a href="#6-3-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-2" class="headerlink" title="6.3.2"></a><strong>6.3.2</strong></h2>
      <ul>
<li>[Fix] follow <code>allowPrototypes</code> option during merge (#201, #200)</li>
<li>[Dev Deps] update <code>eslint</code></li>
<li>[Fix] chmod a-x</li>
<li>[Fix] support keys starting with brackets (#202, #200)</li>
<li>[Tests] up to <code>node</code> <code>v7.7</code>, <code>v6.10</code>,<code> v4.8</code>; disable osx builds since they block linux builds</li>
</ul>

        <h2 id="6-3-1"   >
          <a href="#6-3-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-1" class="headerlink" title="6.3.1"></a><strong>6.3.1</strong></h2>
      <ul>
<li>[Fix] ensure that <code>allowPrototypes: false</code> does not ever shadow Object.prototype properties (thanks, @snyk!)</li>
<li>[Dev Deps] update <code>eslint</code>, <code>@ljharb/eslint-config</code>, <code>browserify</code>, <code>iconv-lite</code>, <code>qs-iconv</code>, <code>tape</code></li>
<li>[Tests] on all node minors; improve test matrix</li>
<li>[Docs] document stringify option <code>allowDots</code> (#195)</li>
<li>[Docs] add empty object and array values example (#195)</li>
<li>[Docs] Fix minor inconsistency&#x2F;typo (#192)</li>
<li>[Docs] document stringify option <code>sort</code> (#191)</li>
<li>[Refactor] <code>stringify</code>: throw faster with an invalid encoder</li>
<li>[Refactor] remove unnecessary escapes (#184)</li>
<li>Remove contributing.md, since <code>qs</code> is no longer part of <code>hapi</code> (#183)</li>
</ul>

        <h2 id="6-3-0"   >
          <a href="#6-3-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-3-0" class="headerlink" title="6.3.0"></a><strong>6.3.0</strong></h2>
      <ul>
<li>[New] Add support for RFC 1738 (#174, #173)</li>
<li>[New] <code>stringify</code>: Add <code>serializeDate</code> option to customize Date serialization (#159)</li>
<li>[Fix] ensure <code>utils.merge</code> handles merging two arrays</li>
<li>[Refactor] only constructors should be capitalized</li>
<li>[Refactor] capitalized var names are for constructors only</li>
<li>[Refactor] avoid using a sparse array</li>
<li>[Robustness] <code>formats</code>: cache <code>String#replace</code></li>
<li>[Dev Deps] update <code>browserify</code>, <code>eslint</code>, <code>@ljharb/eslint-config</code>; add <code>safe-publish-latest</code></li>
<li>[Tests] up to <code>node</code> <code>v6.8</code>, <code>v4.6</code>; improve test matrix</li>
<li>[Tests] flesh out arrayLimit&#x2F;arrayFormat tests (#107)</li>
<li>[Tests] skip Object.create tests when null objects are not available</li>
<li>[Tests] Turn on eslint for test files (#175)</li>
</ul>

        <h2 id="6-2-3"   >
          <a href="#6-2-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-3" class="headerlink" title="6.2.3"></a><strong>6.2.3</strong></h2>
      <ul>
<li>[Fix] follow <code>allowPrototypes</code> option during merge (#201, #200)</li>
<li>[Fix] chmod a-x</li>
<li>[Fix] support keys starting with brackets (#202, #200)</li>
<li>[Tests] up to <code>node</code> <code>v7.7</code>, <code>v6.10</code>,<code> v4.8</code>; disable osx builds since they block linux builds</li>
</ul>

        <h2 id="6-2-2"   >
          <a href="#6-2-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-2" class="headerlink" title="6.2.2"></a><strong>6.2.2</strong></h2>
      <ul>
<li>[Fix] ensure that <code>allowPrototypes: false</code> does not ever shadow Object.prototype properties</li>
</ul>

        <h2 id="6-2-1"   >
          <a href="#6-2-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-1" class="headerlink" title="6.2.1"></a><strong>6.2.1</strong></h2>
      <ul>
<li>[Fix] ensure <code>key[]=x&amp;key[]&amp;key[]=y</code> results in 3, not 2, values</li>
<li>[Refactor] Be explicit and use <code>Object.prototype.hasOwnProperty.call</code></li>
<li>[Tests] remove <code>parallelshell</code> since it does not reliably report failures</li>
<li>[Tests] up to <code>node</code> <code>v6.3</code>, <code>v5.12</code></li>
<li>[Dev Deps] update <code>tape</code>, <code>eslint</code>, <code>@ljharb/eslint-config</code>, <code>qs-iconv</code></li>
</ul>

        <h2 id="6-2-0"   >
          <a href="#6-2-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-2-0" class="headerlink" title="6.2.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=36&state=closed"><strong>6.2.0</strong></a></h2>
      <ul>
<li>[New] pass Buffers to the encoder&#x2F;decoder directly (#161)</li>
<li>[New] add “encoder” and “decoder” options, for custom param encoding&#x2F;decoding (#160)</li>
<li>[Fix] fix compacting of nested sparse arrays (#150)</li>
</ul>

        <h2 id="6-1-2"   >
          <a href="#6-1-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-2" class="headerlink" title="**6.1.2"></a>**6.1.2</h2>
      <ul>
<li>[Fix] follow <code>allowPrototypes</code> option during merge (#201, #200)</li>
<li>[Fix] chmod a-x</li>
<li>[Fix] support keys starting with brackets (#202, #200)</li>
<li>[Tests] up to <code>node</code> <code>v7.7</code>, <code>v6.10</code>,<code> v4.8</code>; disable osx builds since they block linux builds</li>
</ul>

        <h2 id="6-1-1"   >
          <a href="#6-1-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-1" class="headerlink" title="6.1.1"></a><strong>6.1.1</strong></h2>
      <ul>
<li>[Fix] ensure that <code>allowPrototypes: false</code> does not ever shadow Object.prototype properties</li>
</ul>

        <h2 id="6-1-0"   >
          <a href="#6-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-1-0" class="headerlink" title="6.1.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=35&state=closed"><strong>6.1.0</strong></a></h2>
      <ul>
<li>[New] allowDots option for <code>stringify</code> (#151)</li>
<li>[Fix] “sort” option should work at a depth of 3 or more (#151)</li>
<li>[Fix] Restore <code>dist</code> directory; will be removed in v7 (#148)</li>
</ul>

        <h2 id="6-0-4"   >
          <a href="#6-0-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-4" class="headerlink" title="6.0.4"></a><strong>6.0.4</strong></h2>
      <ul>
<li>[Fix] follow <code>allowPrototypes</code> option during merge (#201, #200)</li>
<li>[Fix] chmod a-x</li>
<li>[Fix] support keys starting with brackets (#202, #200)</li>
<li>[Tests] up to <code>node</code> <code>v7.7</code>, <code>v6.10</code>,<code> v4.8</code>; disable osx builds since they block linux builds</li>
</ul>

        <h2 id="6-0-3"   >
          <a href="#6-0-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-3" class="headerlink" title="6.0.3"></a><strong>6.0.3</strong></h2>
      <ul>
<li>[Fix] ensure that <code>allowPrototypes: false</code> does not ever shadow Object.prototype properties</li>
<li>[Fix] Restore <code>dist</code> directory; will be removed in v7 (#148)</li>
</ul>

        <h2 id="6-0-2"   >
          <a href="#6-0-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-2" class="headerlink" title="6.0.2"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=33&state=closed"><strong>6.0.2</strong></a></h2>
      <ul>
<li>Revert ES6 requirement and restore support for node down to v0.8.</li>
</ul>

        <h2 id="6-0-1"   >
          <a href="#6-0-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-1" class="headerlink" title="6.0.1"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=32&state=closed"><strong>6.0.1</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/pull/127"><strong>#127</strong></a> Fix engines definition in package.json</li>
</ul>

        <h2 id="6-0-0"   >
          <a href="#6-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-0-0" class="headerlink" title="6.0.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=31&state=closed"><strong>6.0.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/124"><strong>#124</strong></a> Use ES6 and drop support for node &lt; v4</li>
</ul>

        <h2 id="5-2-1"   >
          <a href="#5-2-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-1" class="headerlink" title="5.2.1"></a><strong>5.2.1</strong></h2>
      <ul>
<li>[Fix] ensure <code>key[]=x&amp;key[]&amp;key[]=y</code> results in 3, not 2, values</li>
</ul>

        <h2 id="5-2-0"   >
          <a href="#5-2-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-2-0" class="headerlink" title="5.2.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=30&state=closed"><strong>5.2.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/64"><strong>#64</strong></a> Add option to sort object keys in the query string</li>
</ul>

        <h2 id="5-1-0"   >
          <a href="#5-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-1-0" class="headerlink" title="5.1.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=29&state=closed"><strong>5.1.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/117"><strong>#117</strong></a> make URI encoding stringified results optional</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/106"><strong>#106</strong></a> Add flag <code>skipNulls</code> to optionally skip null values in stringify</li>
</ul>

        <h2 id="5-0-0"   >
          <a href="#5-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-0-0" class="headerlink" title="5.0.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=28&state=closed"><strong>5.0.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/114"><strong>#114</strong></a> default allowDots to false</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/100"><strong>#100</strong></a> include dist to npm</li>
</ul>

        <h2 id="4-0-0"   >
          <a href="#4-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-0-0" class="headerlink" title="4.0.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=26&state=closed"><strong>4.0.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/98"><strong>#98</strong></a> make returning plain objects and allowing prototype overwriting properties optional</li>
</ul>

        <h2 id="3-1-0"   >
          <a href="#3-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-0" class="headerlink" title="3.1.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=24&state=closed"><strong>3.1.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/89"><strong>#89</strong></a> Add option to disable “Transform dot notation to bracket notation”</li>
</ul>

        <h2 id="3-0-0"   >
          <a href="#3-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-0-0" class="headerlink" title="3.0.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=23&state=closed"><strong>3.0.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/80"><strong>#80</strong></a> qs.parse silently drops properties</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/77"><strong>#77</strong></a> Perf boost</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/60"><strong>#60</strong></a> Add explicit option to disable array parsing</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/74"><strong>#74</strong></a> Bad parse when turning array into object</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/81"><strong>#81</strong></a> Add a <code>filter</code> option</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/68"><strong>#68</strong></a> Fixed issue with recursion and passing strings into objects.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/66"><strong>#66</strong></a> Add mixed array and object dot notation support Closes: #47</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/76"><strong>#76</strong></a> RFC 3986</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/85"><strong>#85</strong></a> No equal sign</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/84"><strong>#84</strong></a> update license attribute</li>
</ul>

        <h2 id="2-4-1"   >
          <a href="#2-4-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-4-1" class="headerlink" title="2.4.1"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=20&state=closed"><strong>2.4.1</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/73"><strong>#73</strong></a> Property ‘hasOwnProperty’ of object #<Object> is not a function</li>
</ul>

        <h2 id="2-4-0"   >
          <a href="#2-4-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-4-0" class="headerlink" title="2.4.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=19&state=closed"><strong>2.4.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/70"><strong>#70</strong></a> Add arrayFormat option</li>
</ul>

        <h2 id="2-3-3"   >
          <a href="#2-3-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-3" class="headerlink" title="2.3.3"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=18&state=closed"><strong>2.3.3</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/59"><strong>#59</strong></a> make sure array indexes are &gt;&#x3D; 0, closes #57</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/58"><strong>#58</strong></a> make qs usable for browser loader</li>
</ul>

        <h2 id="2-3-2"   >
          <a href="#2-3-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-2" class="headerlink" title="2.3.2"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=17&state=closed"><strong>2.3.2</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/55"><strong>#55</strong></a> allow merging a string into an object</li>
</ul>

        <h2 id="2-3-1"   >
          <a href="#2-3-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-1" class="headerlink" title="2.3.1"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=16&state=closed"><strong>2.3.1</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/52"><strong>#52</strong></a> Return “undefined” and “false” instead of throwing “TypeError”.</li>
</ul>

        <h2 id="2-3-0"   >
          <a href="#2-3-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-0" class="headerlink" title="2.3.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=15&state=closed"><strong>2.3.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/50"><strong>#50</strong></a> add option to omit array indices, closes #46</li>
</ul>

        <h2 id="2-2-5"   >
          <a href="#2-2-5" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-5" class="headerlink" title="2.2.5"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=14&state=closed"><strong>2.2.5</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/39"><strong>#39</strong></a> Is there an alternative to Buffer.isBuffer?</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/49"><strong>#49</strong></a> refactor utils.merge, fixes #45</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/41"><strong>#41</strong></a> avoid browserifying Buffer, for #39</li>
</ul>

        <h2 id="2-2-4"   >
          <a href="#2-2-4" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-4" class="headerlink" title="2.2.4"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=13&state=closed"><strong>2.2.4</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/38"><strong>#38</strong></a> how to handle object keys beginning with a number</li>
</ul>

        <h2 id="2-2-3"   >
          <a href="#2-2-3" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-3" class="headerlink" title="2.2.3"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=12&state=closed"><strong>2.2.3</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/37"><strong>#37</strong></a> parser discards first empty value in array</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/36"><strong>#36</strong></a> Update to lab 4.x</li>
</ul>

        <h2 id="2-2-2"   >
          <a href="#2-2-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-2" class="headerlink" title="2.2.2"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=11&state=closed"><strong>2.2.2</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/33"><strong>#33</strong></a> Error when plain object in a value</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/34"><strong>#34</strong></a> use Object.prototype.hasOwnProperty.call instead of obj.hasOwnProperty</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/24"><strong>#24</strong></a> Changelog? Semver?</li>
</ul>

        <h2 id="2-2-1"   >
          <a href="#2-2-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-1" class="headerlink" title="2.2.1"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=10&state=closed"><strong>2.2.1</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/32"><strong>#32</strong></a> account for circular references properly, closes #31</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/31"><strong>#31</strong></a> qs.parse stackoverflow on circular objects</li>
</ul>

        <h2 id="2-2-0"   >
          <a href="#2-2-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-0" class="headerlink" title="2.2.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=9&state=closed"><strong>2.2.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/26"><strong>#26</strong></a> Don’t use Buffer global if it’s not present</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/30"><strong>#30</strong></a> Bug when merging non-object values into arrays</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/29"><strong>#29</strong></a> Don’t call Utils.clone at the top of Utils.merge</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/23"><strong>#23</strong></a> Ability to not limit parameters?</li>
</ul>

        <h2 id="2-1-0"   >
          <a href="#2-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-0" class="headerlink" title="2.1.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=8&state=closed"><strong>2.1.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/22"><strong>#22</strong></a> Enable using a RegExp as delimiter</li>
</ul>

        <h2 id="2-0-0"   >
          <a href="#2-0-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-0-0" class="headerlink" title="2.0.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=7&state=closed"><strong>2.0.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/18"><strong>#18</strong></a> Why is there arrayLimit?</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/20"><strong>#20</strong></a> Configurable parametersLimit</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/21"><strong>#21</strong></a> make all limits optional, for #18, for #20</li>
</ul>

        <h2 id="1-2-2"   >
          <a href="#1-2-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-2" class="headerlink" title="1.2.2"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=6&state=closed"><strong>1.2.2</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/19"><strong>#19</strong></a> Don’t overwrite null values</li>
</ul>

        <h2 id="1-2-1"   >
          <a href="#1-2-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-1" class="headerlink" title="1.2.1"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=5&state=closed"><strong>1.2.1</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/16"><strong>#16</strong></a> ignore non-string delimiters</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/15"><strong>#15</strong></a> Close code block</li>
</ul>

        <h2 id="1-2-0"   >
          <a href="#1-2-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-2-0" class="headerlink" title="1.2.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=4&state=closed"><strong>1.2.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/12"><strong>#12</strong></a> Add optional delim argument</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/13"><strong>#13</strong></a> fix #11: flattened keys in array are now correctly parsed</li>
</ul>

        <h2 id="1-1-0"   >
          <a href="#1-1-0" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-0" class="headerlink" title="1.1.0"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=3&state=closed"><strong>1.1.0</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/7"><strong>#7</strong></a> Empty values of a POST array disappear after being submitted</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/9"><strong>#9</strong></a> Should not omit equals signs (&#x3D;) when value is null</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/6"><strong>#6</strong></a> Minor grammar fix in README</li>
</ul>

        <h2 id="1-0-2"   >
          <a href="#1-0-2" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-0-2" class="headerlink" title="1.0.2"></a><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues?milestone=2&state=closed"><strong>1.0.2</strong></a></h2>
      <ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ljharb/qs/issues/5"><strong>#5</strong></a> array holes incorrectly copied into object on large index</li>
</ul>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2023/03/24/02_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/01_%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8-demo/node_modules/punycode/README/">[ Untitled ]</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-03-24</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2018-05-22</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h1 id="Punycode-js"   >
          <a href="#Punycode-js" class="heading-link"><i class="fas fa-link"></i></a><a href="#Punycode-js" class="headerlink" title="Punycode.js   "></a>Punycode.js <a target="_blank" rel="noopener" href="https://travis-ci.org/bestiejs/punycode.js"><img   src="https://travis-ci.org/bestiejs/punycode.js.svg?branch=master" style=""  alt="Build status"></a> <a target="_blank" rel="noopener" href="https://codecov.io/gh/bestiejs/punycode.js"><img src="http://img.shields.io/codecov/c/github/bestiejs/punycode.js.svg" alt="Code coverage status"></a> <a target="_blank" rel="noopener" href="https://gemnasium.com/bestiejs/punycode.js"><img src="https://gemnasium.com/bestiejs/punycode.js.svg" alt="Dependency status"></a></h1>
      <p>Punycode.js is a robust Punycode converter that fully complies to <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc3492" >RFC 3492</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> and <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc5891" >RFC 5891</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>
<p>This JavaScript library is the result of comparing, optimizing and documenting different open-source implementations of the Punycode algorithm:</p>
<ul>
<li><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://tools.ietf.org/html/rfc3492#appendix-C" >The C example code from RFC 3492</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
<li><a target="_blank" rel="noopener" href="http://opensource.apple.com/source/ICU/ICU-400.42/icuSources/common/punycode.c"><code>punycode.c</code> by <em>Markus W. Scherer</em> (IBM)</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/bnoordhuis/punycode/blob/master/punycode.c"><code>punycode.c</code> by <em>Ben Noordhuis</em></a></li>
<li><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/183485/can-anyone-recommend-a-good-free-javascript-for-punycode-to-unicode-conversion/301287#301287">JavaScript implementation by <em>some</em></a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/joyent/node/blob/426298c8c1c0d5b5224ac3658c41e7c2a3fe9377/lib/punycode.js"><code>punycode.js</code> by <em>Ben Noordhuis</em></a> (note: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/joyent/node/issues/2072" >not fully compliant</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>)</li>
</ul>
<p>This project was <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/joyent/node/blob/master/lib/punycode.js" >bundled</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> with Node.js from <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/joyent/node/compare/975f1930b1...61e796decc" >v0.6.2+</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> until <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/nodejs/node/pull/7941" >v7</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> (soft-deprecated).</p>
<p>The current version supports recent versions of Node.js only. It provides a CommonJS module and an ES6 module. For the old version that offers the same functionality with broader support, including Rhino, Ringo, Narwhal, and web browsers, see <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://github.com/bestiejs/punycode.js/releases/tag/v1.4.1" >v1.4.1</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>

        <h2 id="Installation"   >
          <a href="#Installation" class="heading-link"><i class="fas fa-link"></i></a><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2>
      <p>Via <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://www.npmjs.com/" >npm</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install punycode --save</span><br></pre></td></tr></table></div></figure>

<p>In <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://nodejs.org/" >Node.js</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> punycode = <span class="built_in">require</span>(<span class="string">&#x27;punycode&#x27;</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="API"   >
          <a href="#API" class="heading-link"><i class="fas fa-link"></i></a><a href="#API" class="headerlink" title="API"></a>API</h2>
      
        <h3 id="punycode-decode-string"   >
          <a href="#punycode-decode-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-decode-string" class="headerlink" title="punycode.decode(string)"></a><code>punycode.decode(string)</code></h3>
      <p>Converts a Punycode string of ASCII symbols to a string of Unicode symbols.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// decode domain name parts</span></span><br><span class="line">punycode.<span class="title function_">decode</span>(<span class="string">&#x27;maana-pta&#x27;</span>); <span class="comment">// &#x27;mañana&#x27;</span></span><br><span class="line">punycode.<span class="title function_">decode</span>(<span class="string">&#x27;--dqo34k&#x27;</span>); <span class="comment">// &#x27;☃-⌘&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="punycode-encode-string"   >
          <a href="#punycode-encode-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-encode-string" class="headerlink" title="punycode.encode(string)"></a><code>punycode.encode(string)</code></h3>
      <p>Converts a string of Unicode symbols to a Punycode string of ASCII symbols.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// encode domain name parts</span></span><br><span class="line">punycode.<span class="title function_">encode</span>(<span class="string">&#x27;mañana&#x27;</span>); <span class="comment">// &#x27;maana-pta&#x27;</span></span><br><span class="line">punycode.<span class="title function_">encode</span>(<span class="string">&#x27;☃-⌘&#x27;</span>); <span class="comment">// &#x27;--dqo34k&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="punycode-toUnicode-input"   >
          <a href="#punycode-toUnicode-input" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-toUnicode-input" class="headerlink" title="punycode.toUnicode(input)"></a><code>punycode.toUnicode(input)</code></h3>
      <p>Converts a Punycode string representing a domain name or an email address to Unicode. Only the Punycoded parts of the input will be converted, i.e. it doesn’t matter if you call it on a string that has already been converted to Unicode.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// decode domain names</span></span><br><span class="line">punycode.<span class="title function_">toUnicode</span>(<span class="string">&#x27;xn--maana-pta.com&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;mañana.com&#x27;</span></span><br><span class="line">punycode.<span class="title function_">toUnicode</span>(<span class="string">&#x27;xn----dqo34k.com&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;☃-⌘.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// decode email addresses</span></span><br><span class="line">punycode.<span class="title function_">toUnicode</span>(<span class="string">&#x27;джумла@xn--p-8sbkgc5ag7bhce.xn--ba-lmcq&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;джумла@джpумлатест.bрфa&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="punycode-toASCII-input"   >
          <a href="#punycode-toASCII-input" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-toASCII-input" class="headerlink" title="punycode.toASCII(input)"></a><code>punycode.toASCII(input)</code></h3>
      <p>Converts a lowercased Unicode string representing a domain name or an email address to Punycode. Only the non-ASCII parts of the input will be converted, i.e. it doesn’t matter if you call it with a domain that’s already in ASCII.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// encode domain names</span></span><br><span class="line">punycode.<span class="title function_">toASCII</span>(<span class="string">&#x27;mañana.com&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;xn--maana-pta.com&#x27;</span></span><br><span class="line">punycode.<span class="title function_">toASCII</span>(<span class="string">&#x27;☃-⌘.com&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;xn----dqo34k.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// encode email addresses</span></span><br><span class="line">punycode.<span class="title function_">toASCII</span>(<span class="string">&#x27;джумла@джpумлатест.bрфa&#x27;</span>);</span><br><span class="line"><span class="comment">// → &#x27;джумла@xn--p-8sbkgc5ag7bhce.xn--ba-lmcq&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="punycode-ucs2"   >
          <a href="#punycode-ucs2" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-ucs2" class="headerlink" title="punycode.ucs2"></a><code>punycode.ucs2</code></h3>
      
        <h4 id="punycode-ucs2-decode-string"   >
          <a href="#punycode-ucs2-decode-string" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-ucs2-decode-string" class="headerlink" title="punycode.ucs2.decode(string)"></a><code>punycode.ucs2.decode(string)</code></h4>
      <p>Creates an array containing the numeric code point values of each Unicode symbol in the string. While <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://mathiasbynens.be/notes/javascript-encoding" >JavaScript uses UCS-2 internally</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>, this function will convert a pair of surrogate halves (each of which UCS-2 exposes as separate characters) into a single code point, matching UTF-16.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">decode</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line"><span class="comment">// → [0x61, 0x62, 0x63]</span></span><br><span class="line"><span class="comment">// surrogate pair for U+1D306 TETRAGRAM FOR CENTRE:</span></span><br><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">decode</span>(<span class="string">&#x27;\uD834\uDF06&#x27;</span>);</span><br><span class="line"><span class="comment">// → [0x1D306]</span></span><br></pre></td></tr></table></div></figure>


        <h4 id="punycode-ucs2-encode-codePoints"   >
          <a href="#punycode-ucs2-encode-codePoints" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-ucs2-encode-codePoints" class="headerlink" title="punycode.ucs2.encode(codePoints)"></a><code>punycode.ucs2.encode(codePoints)</code></h4>
      <p>Creates a string based on an array of numeric code point values.</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">encode</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>]);</span><br><span class="line"><span class="comment">// → &#x27;abc&#x27;</span></span><br><span class="line">punycode.<span class="property">ucs2</span>.<span class="title function_">encode</span>([<span class="number">0x1D306</span>]);</span><br><span class="line"><span class="comment">// → &#x27;\uD834\uDF06&#x27;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="punycode-version"   >
          <a href="#punycode-version" class="heading-link"><i class="fas fa-link"></i></a><a href="#punycode-version" class="headerlink" title="punycode.version"></a><code>punycode.version</code></h3>
      <p>A string representing the current Punycode.js version number.</p>

        <h2 id="Author"   >
          <a href="#Author" class="heading-link"><i class="fas fa-link"></i></a><a href="#Author" class="headerlink" title="Author"></a>Author</h2>
      <div class="table-container"><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="https://twitter.com/mathias" title="Follow @mathias on Twitter"><img   src="https://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70" style=""  alt="twitter/mathias"></a></th>
</tr>
</thead>
<tbody><tr>
<td><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://mathiasbynens.be/" >Mathias Bynens</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></td>
</tr>
</tbody></table></div>

        <h2 id="License"   >
          <a href="#License" class="heading-link"><i class="fas fa-link"></i></a><a href="#License" class="headerlink" title="License"></a>License</h2>
      <p>Punycode.js is available under the <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://mths.be/mit" >MIT</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> license.</p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/4/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/6/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/cat.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Hello Stun</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">144</div><div class="sidebar-ov-state-item__name">Archives</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>汪汪队</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.3.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>